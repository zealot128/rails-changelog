<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
<channel>
<title>Rails Changelog</title>
<link>https://zealot128.github.io/rails-changelog</link>
<description>Changelog for Rails</description>
<atom:link href="https://zealot128.github.io/rails-changelog/feed.xml" rel="self" type="application/rss+xml" />
  <item>
    <title>railties: Add sessions generator to give a basic start to an authentication system using database-tracked sessions.
</title>
    <link>https://github.com/rails/rails/issues/52328</link>
    <guid>https://github.com/rails/rails/issues/52328</guid>
    <description>*   Add sessions generator to give a basic start to an authentication system using database-tracked sessions.


    # Generate with...
    bin/rails generate sessions

    # Generated files
    app/models/current.rb
    app/models/user.rb
    app/models/session.rb
    app/controllers/sessions_controller.rb
    app/views/sessions/new.html.erb
    db/migrate/xxxxxxx_create_users.rb
    db/migrate/xxxxxxx_create_sessions.rb


    *DHH*</description>
    <pubDate>Tue, 16 Jul 2024 20:57:00 +0000</pubDate>
    <author>David Heinemeier Hansson</author>
    <content:encoded><![CDATA[<p>Add sessions generator to give a basic start to an authentication system using database-tracked sessions.</p>

<h1 id="generate-with">Generate with…</h1>
<p>bin/rails generate sessions</p>

<h1 id="generated-files">Generated files</h1>
<p>app/models/current.rb<br />
app/models/user.rb<br />
app/models/session.rb<br />
app/controllers/sessions_controller.rb<br />
app/views/sessions/new.html.erb<br />
db/migrate/xxxxxxx_create_users.rb<br />
db/migrate/xxxxxxx_create_sessions.rb</p>

<p><em>DHH</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>railties: Add not-null type modifier to migration attributes.
</title>
    <link>https://github.com/rails/rails/issues/52327</link>
    <guid>https://github.com/rails/rails/issues/52327</guid>
    <description>*   Add not-null type modifier to migration attributes.


    # Generating with...
    bin/rails generate migration CreateUsers email_address:string!:uniq password_digest:string!

    # Produces:
    class CreateUsers &lt; ActiveRecord::Migration[8.0]
      def change
        create_table :users do |t|
          t.string :email_address, null: false
          t.string :password_digest, null: false

          t.timestamps
        end
        add_index :users, :email_address, unique: true
      end
    end


    *DHH*</description>
    <pubDate>Tue, 16 Jul 2024 13:00:51 +0000</pubDate>
    <author>David Heinemeier Hansson</author>
    <content:encoded><![CDATA[<p>Add not-null type modifier to migration attributes.</p>

<h1 id="generating-with">Generating with…</h1>
<p>bin/rails generate migration CreateUsers email_address:string!:uniq password_digest:string!</p>

<h1 id="produces">Produces:</h1>
<p>class CreateUsers &lt; ActiveRecord::Migration[8.0]<br />
  def change<br />
    create_table :users do |t|<br />
      t.string :email_address, null: false<br />
      t.string :password_digest, null: false</p>

<pre><code>  t.timestamps
end
add_index :users, :email_address, unique: true   end end
</code></pre>

<p><em>DHH</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>railties: Add script folder and generator
</title>
    <link>https://github.com/rails/rails/issues/52335</link>
    <guid>https://github.com/rails/rails/issues/52335</guid>
    <description>*   Add script folder and generator

    Add a new script default folder to hold your one-off or general purpose
    scripts, such as data migration scripts, cleanup scripts, etc.

    A new script generator allows you to create such scripts:

      `rails generate script my_script`

    You can run the generated script using:

      `ruby script/my_script.rb`

    *Jerome Dalbert*, *Haroon Ahmed*</description>
    <pubDate>Tue, 16 Jul 2024 13:00:51 +0000</pubDate>
    <author>Jerome Dalbert</author>
    <content:encoded><![CDATA[<p>Add script folder and generator</p>

<p>Add a new script default folder to hold your one-off or general purpose<br />
scripts, such as data migration scripts, cleanup scripts, etc.</p>

<p>A new script generator allows you to create such scripts:</p>

<p><code>rails generate script my_script</code></p>

<p>You can run the generated script using:</p>

<p><code>ruby script/my_script.rb</code></p>

<p><em>Jerome Dalbert</em>, <em>Haroon Ahmed</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>railties: Deprecate `bin/rake stats` in favor of `bin/rails stats`.
</title>
    <link>https://github.com/rails/rails/issues/52231</link>
    <guid>https://github.com/rails/rails/issues/52231</guid>
    <description>*   Deprecate `bin/rake stats` in favor of `bin/rails stats`.

    *Juan Vásquez*</description>
    <pubDate>Sat, 29 Jun 2024 06:52:05 +0000</pubDate>
    <author>Juan Vásquez</author>
    <content:encoded><![CDATA[<p>Deprecate <code>bin/rake stats</code> in favor of <code>bin/rails stats</code>.</p>

<p><em>Juan Vásquez</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>railties: Add internal page `/rails/info/notes`, that displays the same information as `bin/rails notes`.
</title>
    <link>https://github.com/rails/rails/issues/52115</link>
    <guid>https://github.com/rails/rails/issues/52115</guid>
    <description>*   Add internal page `/rails/info/notes`, that displays the same information as `bin/rails notes`.

    *Deepak Mahakale*</description>
    <pubDate>Thu, 13 Jun 2024 17:22:29 +0000</pubDate>
    <author>Deepak Mahakale</author>
    <content:encoded><![CDATA[<p>Add internal page <code>/rails/info/notes</code>, that displays the same information as <code>bin/rails notes</code>.</p>

<p><em>Deepak Mahakale</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>railties: Add Rubocop and GitHub Actions to plugin generator.
</title>
    <link>https://github.com/rails/rails/issues/51822</link>
    <guid>https://github.com/rails/rails/issues/51822</guid>
    <description>*   Add Rubocop and GitHub Actions to plugin generator.
    This can be skipped using --skip-rubocop and --skip-ci.

    *Chris Oliver*</description>
    <pubDate>Thu, 23 May 2024 18:08:58 +0000</pubDate>
    <author>Chris Oliver</author>
    <content:encoded><![CDATA[<p>Add Rubocop and GitHub Actions to plugin generator.<br />
This can be skipped using –skip-rubocop and –skip-ci.</p>

<p><em>Chris Oliver</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>railties: Use Kamal for deployment by default, which includes generating a Rails-specific config/deploy.yml.
</title>
    <link>https://github.com/rails/rails/issues/51798</link>
    <guid>https://github.com/rails/rails/issues/51798</guid>
    <description>*   Use Kamal for deployment by default, which includes generating a Rails-specific config/deploy.yml.
    This can be skipped using --skip-kamal. See more: https://kamal-deploy.org/

    *DHH*</description>
    <pubDate>Tue, 14 May 2024 00:37:39 +0000</pubDate>
    <author>David Heinemeier Hansson</author>
    <content:encoded><![CDATA[<p>Use Kamal for deployment by default, which includes generating a Rails-specific config/deploy.yml.<br />
This can be skipped using –skip-kamal. See more: https://kamal-deploy.org/</p>

<p><em>DHH</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activestorage: Mark proxied files as `immutable` in their Cache-Control header
</title>
    <link>https://github.com/rails/rails/issues/52283</link>
    <guid>https://github.com/rails/rails/issues/52283</guid>
    <description>*   Mark proxied files as `immutable` in their Cache-Control header

    *Nate Matykiewicz*</description>
    <pubDate>Sat, 06 Jul 2024 18:08:48 +0000</pubDate>
    <author>Nate Matykiewicz</author>
    <content:encoded><![CDATA[<p>Mark proxied files as <code>immutable</code> in their Cache-Control header</p>

<p><em>Nate Matykiewicz</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activesupport: Deprecate addition and since between two `Time` and `ActiveSupport::TimeWithZone`.
</title>
    <link>https://github.com/rails/rails/issues/52370</link>
    <guid>https://github.com/rails/rails/issues/52370</guid>
    <description>*   Deprecate addition and since between two `Time` and `ActiveSupport::TimeWithZone`.

    Previously adding time instances together such as `10.days.ago + 10.days.ago` or `10.days.ago.since(10.days.ago)` produced a nonsensical future date. This behavior is deprecated and will be removed in Rails 8.1.

    *Nick Schwaderer*</description>
    <pubDate>Fri, 19 Jul 2024 22:25:26 +0000</pubDate>
    <author>John Hawthorn</author>
    <content:encoded><![CDATA[<p>Deprecate addition and since between two <code>Time</code> and <code>ActiveSupport::TimeWithZone</code>.</p>

<p>Previously adding time instances together such as <code>10.days.ago + 10.days.ago</code> or <code>10.days.ago.since(10.days.ago)</code> produced a nonsensical future date. This behavior is deprecated and will be removed in Rails 8.1.</p>

<p><em>Nick Schwaderer</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activesupport: Support rfc2822 format for Time#to_fs &amp; Date#to_fs.
</title>
    <link>https://github.com/rails/rails/issues/52337</link>
    <guid>https://github.com/rails/rails/issues/52337</guid>
    <description>*   Support rfc2822 format for Time#to_fs &amp; Date#to_fs.

    *Akshay Birajdar*</description>
    <pubDate>Tue, 16 Jul 2024 13:00:51 +0000</pubDate>
    <author>Akshay Birajdar</author>
    <content:encoded><![CDATA[<p>Support rfc2822 format for Time#to_fs &amp; Date#to_fs.</p>

<p><em>Akshay Birajdar</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activesupport: Optimize load time for `Railtie#initialize_i18n`. Filter `I18n.load_path`s passed to the file watcher to only those
</title>
    <link>https://github.com/rails/rails/issues/52271</link>
    <guid>https://github.com/rails/rails/issues/52271</guid>
    <description>*   Optimize load time for `Railtie#initialize_i18n`. Filter `I18n.load_path`s passed to the file watcher to only those
    under `Rails.root`. Previously the watcher would grab all available locales, including those in gems
    which do not require a watcher because they won&#39;t change.

    *Nick Schwaderer*</description>
    <pubDate>Thu, 11 Jul 2024 18:00:20 +0000</pubDate>
    <author>Nick Schwaderer</author>
    <content:encoded><![CDATA[<p>Optimize load time for <code>Railtie#initialize_i18n</code>. Filter <code>I18n.load_path</code>s passed to the file watcher to only those<br />
under <code>Rails.root</code>. Previously the watcher would grab all available locales, including those in gems<br />
which do not require a watcher because they won’t change.</p>

<p><em>Nick Schwaderer</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activesupport: Add a `filter` option to `in_order_of` to prioritize certain values in the sorting without filtering the results
</title>
    <link>https://github.com/rails/rails/issues/52072</link>
    <guid>https://github.com/rails/rails/issues/52072</guid>
    <description>*   Add a `filter` option to `in_order_of` to prioritize certain values in the sorting without filtering the results
    by these values.

    *Igor Depolli*</description>
    <pubDate>Wed, 12 Jun 2024 22:21:17 +0000</pubDate>
    <author>Igor Depolli</author>
    <content:encoded><![CDATA[<p>Add a <code>filter</code> option to <code>in_order_of</code> to prioritize certain values in the sorting without filtering the results<br />
by these values.</p>

<p><em>Igor Depolli</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activesupport: Improve error message when using `assert_difference` or `assert_changes` with a
</title>
    <link>https://github.com/rails/rails/issues/52036</link>
    <guid>https://github.com/rails/rails/issues/52036</guid>
    <description>*   Improve error message when using `assert_difference` or `assert_changes` with a
    proc by printing the proc&#39;s source code (MRI only).

    *Richard Böhme*, *Jean Boussier*</description>
    <pubDate>Sun, 09 Jun 2024 08:53:48 +0000</pubDate>
    <author>Richard Böhme</author>
    <content:encoded><![CDATA[<p>Improve error message when using <code>assert_difference</code> or <code>assert_changes</code> with a<br />
proc by printing the proc’s source code (MRI only).</p>

<p><em>Richard Böhme</em>, <em>Jean Boussier</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activesupport: Add a new configuration value `:zone` for `ActiveSupport.to_time_preserves_timezone` and rename the previous `true` value to `:offset`. The new default value is `:zone`.
</title>
    <link>https://github.com/rails/rails/issues/52091</link>
    <guid>https://github.com/rails/rails/issues/52091</guid>
    <description>*   Add a new configuration value `:zone` for `ActiveSupport.to_time_preserves_timezone` and rename the previous `true` value to `:offset`. The new default value is `:zone`.

    *Jason Kim*, *John Hawthorn*</description>
    <pubDate>Wed, 26 Jun 2024 20:16:05 +0000</pubDate>
    <author>Jason Kim</author>
    <content:encoded><![CDATA[<p>Add a new configuration value <code>:zone</code> for <code>ActiveSupport.to_time_preserves_timezone</code> and rename the previous <code>true</code> value to <code>:offset</code>. The new default value is <code>:zone</code>.</p>

<p><em>Jason Kim</em>, <em>John Hawthorn</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>actiontext: Only sanitize `content` attribute when present in attachments.
</title>
    <link>https://github.com/rails/rails/issues/52093</link>
    <guid>https://github.com/rails/rails/issues/52093</guid>
    <description>*   Only sanitize `content` attribute when present in attachments.

    *Petrik de Heus*</description>
    <pubDate>Wed, 12 Jun 2024 18:21:38 +0000</pubDate>
    <author>Petrik</author>
    <content:encoded><![CDATA[<p>Only sanitize <code>content</code> attribute when present in attachments.</p>

<p><em>Petrik de Heus</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>guides: The guide _Classic to Zeitwerk HOWTO_ that documented how to migrate from
</title>
    <link>https://github.com/rails/rails/issues/52165</link>
    <guid>https://github.com/rails/rails/issues/52165</guid>
    <description>*   The guide _Classic to Zeitwerk HOWTO_ that documented how to migrate from
    the `classic` autoloader to Zeitwerk has been deleted.

    The last version of this guide can be found
    [here](https://guides.rubyonrails.org/v7.2/classic_to_zeitwerk_howto.html),
    in case you need it.

    *Petrik de Heus*</description>
    <pubDate>Thu, 20 Jun 2024 08:47:01 +0000</pubDate>
    <author>Xavier Noria</author>
    <content:encoded><![CDATA[<p>The guide <em>Classic to Zeitwerk HOWTO</em> that documented how to migrate from<br />
the <code>classic</code> autoloader to Zeitwerk has been deleted.</p>

<p>The last version of this guide can be found<br />
<a href="https://guides.rubyonrails.org/v7.2/classic_to_zeitwerk_howto.html">here</a>,<br />
in case you need it.</p>

<p><em>Petrik de Heus</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>actionpack: Make `http_cache_forever` use `immutable: true`
</title>
    <link>https://github.com/rails/rails/issues/52283</link>
    <guid>https://github.com/rails/rails/issues/52283</guid>
    <description>*   Make `http_cache_forever` use `immutable: true`

    *Nate Matykiewicz*</description>
    <pubDate>Sat, 06 Jul 2024 18:08:48 +0000</pubDate>
    <author>Nate Matykiewicz</author>
    <content:encoded><![CDATA[<p>Make <code>http_cache_forever</code> use <code>immutable: true</code></p>

<p><em>Nate Matykiewicz</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>actionpack: Add `config.action_dispatch.strict_freshness`.
</title>
    <link>https://github.com/rails/rails/issues/52274</link>
    <guid>https://github.com/rails/rails/issues/52274</guid>
    <description>*   Add `config.action_dispatch.strict_freshness`.

    When set to `true`, the `ETag` header takes precedence over the `Last-Modified` header when both are present,
    as specified by RFC 7232, Section 6.

    Defaults to `false` to maintain compatibility with previous versions of Rails, but is enabled as part of
    Rails 8.0 defaults.

    *heka1024*</description>
    <pubDate>Fri, 05 Jul 2024 08:27:46 +0000</pubDate>
    <author>heka1024</author>
    <content:encoded><![CDATA[<p>Add <code>config.action_dispatch.strict_freshness</code>.</p>

<p>When set to <code>true</code>, the <code>ETag</code> header takes precedence over the <code>Last-Modified</code> header when both are present,<br />
as specified by RFC 7232, Section 6.</p>

<p>Defaults to <code>false</code> to maintain compatibility with previous versions of Rails, but is enabled as part of<br />
Rails 8.0 defaults.</p>

<p><em>heka1024</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>actionpack: Support `immutable` directive in Cache-Control
</title>
    <link>https://github.com/rails/rails/issues/52197</link>
    <guid>https://github.com/rails/rails/issues/52197</guid>
    <description>*   Support `immutable` directive in Cache-Control

    ```ruby
    expires_in 1.minute, public: true, immutable: true
    # Cache-Control: public, max-age=60, immutable
    ```

    *heka1024*</description>
    <pubDate>Wed, 26 Jun 2024 20:23:19 +0000</pubDate>
    <author>heka1024</author>
    <content:encoded><![CDATA[<p>Support <code>immutable</code> directive in Cache-Control</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">expires_in</span> <span class="mi">1</span><span class="p">.</span><span class="nf">minute</span><span class="p">,</span> <span class="ss">public: </span><span class="kp">true</span><span class="p">,</span> <span class="ss">immutable: </span><span class="kp">true</span>
<span class="c1"># Cache-Control: public, max-age=60, immutable</span>
</code></pre></div></div>

<p><em>heka1024</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>actionpack: Add `:wasm_unsafe_eval` mapping for `content_security_policy`
</title>
    <link>https://github.com/rails/rails/issues/51944</link>
    <guid>https://github.com/rails/rails/issues/51944</guid>
    <description>*   Add `:wasm_unsafe_eval` mapping for `content_security_policy`

    ```ruby
    # Before
    policy.script_src &quot;&#39;wasm-unsafe-eval&#39;&quot;

    # After
    policy.script_src :wasm_unsafe_eval
    ```

    *Joe Haig*</description>
    <pubDate>Wed, 29 May 2024 21:18:43 +0000</pubDate>
    <author>Cyril Blaecke</author>
    <content:encoded><![CDATA[<p>Add <code>:wasm_unsafe_eval</code> mapping for <code>content_security_policy</code></p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Before</span>
<span class="n">policy</span><span class="p">.</span><span class="nf">script_src</span> <span class="s2">"'wasm-unsafe-eval'"</span>

<span class="c1"># After</span>
<span class="n">policy</span><span class="p">.</span><span class="nf">script_src</span> <span class="ss">:wasm_unsafe_eval</span>
</code></pre></div></div>

<p><em>Joe Haig</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>actionpack: Add `display_capture` and `keyboard_map` in `permissions_policy`
</title>
    <link>https://github.com/rails/rails/issues/51944</link>
    <guid>https://github.com/rails/rails/issues/51944</guid>
    <description>*   Add `display_capture` and `keyboard_map` in `permissions_policy`

    *Cyril Blaecke*</description>
    <pubDate>Wed, 29 May 2024 21:18:43 +0000</pubDate>
    <author>Cyril Blaecke</author>
    <content:encoded><![CDATA[<p>Add <code>display_capture</code> and <code>keyboard_map</code> in <code>permissions_policy</code></p>

<p><em>Cyril Blaecke</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activerecord: Raise specific exception when a connection is not defined.
</title>
    <link>https://github.com/rails/rails/issues/52298</link>
    <guid>https://github.com/rails/rails/issues/52298</guid>
    <description>*   Raise specific exception when a connection is not defined.

     The new `ConnectionNotDefined` exception provides connection name, shard and role accessors indicating the details of the connection that was requested.

    *Hana Harencarova*, *Matthew Draper*</description>
    <pubDate>Tue, 16 Jul 2024 20:57:00 +0000</pubDate>
    <author>Hana Harencarova</author>
    <content:encoded><![CDATA[<p>Raise specific exception when a connection is not defined.</p>

<p>The new <code>ConnectionNotDefined</code> exception provides connection name, shard and role accessors indicating the details of the connection that was requested.</p>

<p><em>Hana Harencarova</em>, <em>Matthew Draper</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activerecord: Delete the deprecated constant `ActiveRecord::ImmutableRelation`.
</title>
    <link>https://github.com/rails/rails/issues/52321</link>
    <guid>https://github.com/rails/rails/issues/52321</guid>
    <description>*   Delete the deprecated constant `ActiveRecord::ImmutableRelation`.

    *Xavier Noria*</description>
    <pubDate>Sat, 13 Jul 2024 11:28:24 +0000</pubDate>
    <author>Xavier Noria</author>
    <content:encoded><![CDATA[<p>Delete the deprecated constant <code>ActiveRecord::ImmutableRelation</code>.</p>

<p><em>Xavier Noria</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activerecord: Fix duplicate callback execution when child autosaves parent with `has_one` and `belongs_to`.
</title>
    <link>https://github.com/rails/rails/issues/49847</link>
    <guid>https://github.com/rails/rails/issues/49847</guid>
    <description>*   Fix duplicate callback execution when child autosaves parent with `has_one` and `belongs_to`.

    Before, persisting a new child record with a new associated parent record would run `before_validation`,
    `after_validation`, `before_save` and `after_save` callbacks twice.

    Now, these callbacks are only executed once as expected.

    *Joshua Young*</description>
    <pubDate>Mon, 08 Jul 2024 17:00:47 +0000</pubDate>
    <author>Joshua Young</author>
    <content:encoded><![CDATA[<p>Fix duplicate callback execution when child autosaves parent with <code>has_one</code> and <code>belongs_to</code>.</p>

<p>Before, persisting a new child record with a new associated parent record would run <code>before_validation</code>,<br />
<code>after_validation</code>, <code>before_save</code> and <code>after_save</code> callbacks twice.</p>

<p>Now, these callbacks are only executed once as expected.</p>

<p><em>Joshua Young</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activerecord: `ActiveRecord::Encryption::Encryptor` now supports a `:compressor` option to customize the compression algorithm used.
</title>
    <link>https://github.com/rails/rails/issues/51735</link>
    <guid>https://github.com/rails/rails/issues/51735</guid>
    <description>*   `ActiveRecord::Encryption::Encryptor` now supports a `:compressor` option to customize the compression algorithm used.

    ```ruby
    module ZstdCompressor
      def self.deflate(data)
        Zstd.compress(data)
      end

      def self.inflate(data)
        Zstd.decompress(data)
      end
    end

    class User
      encrypts :name, compressor: ZstdCompressor
    end
    ```

    You disable compression by passing `compress: false`.

    ```ruby
    class User
      encrypts :name, compress: false
    end
    ```

    *heka1024*</description>
    <pubDate>Wed, 03 Jul 2024 12:39:13 +0000</pubDate>
    <author>heka1024</author>
    <content:encoded><![CDATA[<p><code>ActiveRecord::Encryption::Encryptor</code> now supports a <code>:compressor</code> option to customize the compression algorithm used.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">module</span> <span class="nn">ZstdCompressor</span>
  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">deflate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="no">Zstd</span><span class="p">.</span><span class="nf">compress</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">inflate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="no">Zstd</span><span class="p">.</span><span class="nf">decompress</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">User</span>
  <span class="n">encrypts</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">compressor: </span><span class="no">ZstdCompressor</span>
<span class="k">end</span>
</code></pre></div></div>

<p>You disable compression by passing <code>compress: false</code>.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">User</span>
  <span class="n">encrypts</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">compress: </span><span class="kp">false</span>
<span class="k">end</span>
</code></pre></div></div>

<p><em>heka1024</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activerecord: Add condensed `#inspect` for `ConnectionPool`, `AbstractAdapter`, and
</title>
    <link>https://github.com/rails/rails/issues/50405</link>
    <guid>https://github.com/rails/rails/issues/50405</guid>
    <description>*   Add condensed `#inspect` for `ConnectionPool`, `AbstractAdapter`, and
    `DatabaseConfig`.

    *Hartley McGuire*</description>
    <pubDate>Fri, 21 Jun 2024 21:45:53 +0000</pubDate>
    <author>Hartley McGuire</author>
    <content:encoded><![CDATA[<p>Add condensed <code>#inspect</code> for <code>ConnectionPool</code>, <code>AbstractAdapter</code>, and<br />
<code>DatabaseConfig</code>.</p>

<p><em>Hartley McGuire</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activerecord: Add `.shard_keys`, `.sharded?`, &amp; `.connected_to_all_shards` methods.
</title>
    <link>https://github.com/rails/rails/issues/51009</link>
    <guid>https://github.com/rails/rails/issues/51009</guid>
    <description>*   Add `.shard_keys`, `.sharded?`, &amp; `.connected_to_all_shards` methods.

    ```ruby
    class ShardedBase &lt; ActiveRecord::Base
        self.abstract_class = true

        connects_to shards: {
          shard_one: { writing: :shard_one },
          shard_two: { writing: :shard_two }
        }
    end

    class ShardedModel &lt; ShardedBase
    end

    ShardedModel.shard_keys =&gt; [:shard_one, :shard_two]
    ShardedModel.sharded? =&gt; true
    ShardedBase.connected_to_all_shards { ShardedModel.current_shard } =&gt; [:shard_one, :shard_two]
    ```

    *Nony Dutton*</description>
    <pubDate>Tue, 18 Jun 2024 12:45:23 +0000</pubDate>
    <author>Nony Dutton</author>
    <content:encoded><![CDATA[<p>Add <code>.shard_keys</code>, <code>.sharded?</code>, &amp; <code>.connected_to_all_shards</code> methods.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">ShardedBase</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
    <span class="nb">self</span><span class="p">.</span><span class="nf">abstract_class</span> <span class="o">=</span> <span class="kp">true</span>

    <span class="n">connects_to</span> <span class="ss">shards: </span><span class="p">{</span>
      <span class="ss">shard_one: </span><span class="p">{</span> <span class="ss">writing: :shard_one</span> <span class="p">},</span>
      <span class="ss">shard_two: </span><span class="p">{</span> <span class="ss">writing: :shard_two</span> <span class="p">}</span>
    <span class="p">}</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">ShardedModel</span> <span class="o">&lt;</span> <span class="no">ShardedBase</span>
<span class="k">end</span>

<span class="no">ShardedModel</span><span class="p">.</span><span class="nf">shard_keys</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="ss">:shard_one</span><span class="p">,</span> <span class="ss">:shard_two</span><span class="p">]</span>
<span class="no">ShardedModel</span><span class="p">.</span><span class="nf">sharded?</span> <span class="o">=&gt;</span> <span class="kp">true</span>
<span class="no">ShardedBase</span><span class="p">.</span><span class="nf">connected_to_all_shards</span> <span class="p">{</span> <span class="no">ShardedModel</span><span class="p">.</span><span class="nf">current_shard</span> <span class="p">}</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="ss">:shard_one</span><span class="p">,</span> <span class="ss">:shard_two</span><span class="p">]</span>
</code></pre></div></div>

<p><em>Nony Dutton</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activerecord: Optimize `Relation#exists?` when records are loaded and the relation has no conditions.
</title>
    <link>https://github.com/rails/rails/issues/51987</link>
    <guid>https://github.com/rails/rails/issues/51987</guid>
    <description>*   Optimize `Relation#exists?` when records are loaded and the relation has no conditions.

    This can avoid queries in some cases.

    *fatkodima*</description>
    <pubDate>Fri, 14 Jun 2024 12:12:42 +0000</pubDate>
    <author>fatkodima</author>
    <content:encoded><![CDATA[<p>Optimize <code>Relation#exists?</code> when records are loaded and the relation has no conditions.</p>

<p>This can avoid queries in some cases.</p>

<p><em>fatkodima</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activerecord: Add a `filter` option to `in_order_of` to prioritize certain values in the sorting without filtering the results
</title>
    <link>https://github.com/rails/rails/issues/51761</link>
    <guid>https://github.com/rails/rails/issues/51761</guid>
    <description>*   Add a `filter` option to `in_order_of` to prioritize certain values in the sorting without filtering the results
    by these values.

    *Igor Depolli*</description>
    <pubDate>Wed, 12 Jun 2024 22:21:17 +0000</pubDate>
    <author>Igor Depolli</author>
    <content:encoded><![CDATA[<p>Add a <code>filter</code> option to <code>in_order_of</code> to prioritize certain values in the sorting without filtering the results<br />
by these values.</p>

<p><em>Igor Depolli</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activerecord: Fix an issue where the IDs reader method did not return expected results
</title>
    <link>https://github.com/rails/rails/issues/51167</link>
    <guid>https://github.com/rails/rails/issues/51167</guid>
    <description>*   Fix an issue where the IDs reader method did not return expected results
    for preloaded associations in models using composite primary keys.

    *Jay Ang*</description>
    <pubDate>Wed, 05 Jun 2024 14:55:08 +0000</pubDate>
    <author>Jay Ang</author>
    <content:encoded><![CDATA[<p>Fix an issue where the IDs reader method did not return expected results<br />
for preloaded associations in models using composite primary keys.</p>

<p><em>Jay Ang</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activerecord: Allow to configure `strict_loading_mode` globally or within a model.
</title>
    <link>https://github.com/rails/rails/issues/51339</link>
    <guid>https://github.com/rails/rails/issues/51339</guid>
    <description>*   Allow to configure `strict_loading_mode` globally or within a model.

    Defaults to `:all`, can be changed to `:n_plus_one_only`.

    *Garen Torikian*</description>
    <pubDate>Mon, 03 Jun 2024 13:12:04 +0000</pubDate>
    <author>Garen J. Torikian</author>
    <content:encoded><![CDATA[<p>Allow to configure <code>strict_loading_mode</code> globally or within a model.</p>

<p>Defaults to <code>:all</code>, can be changed to <code>:n_plus_one_only</code>.</p>

<p><em>Garen Torikian</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activerecord: Add `ActiveRecord::Relation#readonly?`.
</title>
    <link>https://github.com/rails/rails/issues/51943</link>
    <guid>https://github.com/rails/rails/issues/51943</guid>
    <description>*   Add `ActiveRecord::Relation#readonly?`.

    Reflects if the relation has been marked as readonly.

    *Theodor Tonum*</description>
    <pubDate>Wed, 29 May 2024 19:05:24 +0000</pubDate>
    <author>Carlos Antonio da Silva</author>
    <content:encoded><![CDATA[<p>Add <code>ActiveRecord::Relation#readonly?</code>.</p>

<p>Reflects if the relation has been marked as readonly.</p>

<p><em>Theodor Tonum</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activerecord: Improve `ActiveRecord::Store` to raise a descriptive exception if the column is not either
</title>
    <link>https://github.com/rails/rails/issues/51898</link>
    <guid>https://github.com/rails/rails/issues/51898</guid>
    <description>*   Improve `ActiveRecord::Store` to raise a descriptive exception if the column is not either
    structured (e.g., PostgreSQL +hstore+/+json+, or MySQL +json+) or declared serializable via
    `ActiveRecord.store`.

    Previously, a `NoMethodError` would be raised when the accessor was read or written:

        NoMethodError: undefined method `accessor&#39; for an instance of ActiveRecord::Type::Text

    Now, a descriptive `ConfigurationError` is raised:

        ActiveRecord::ConfigurationError: the column &#39;metadata&#39; has not been configured as a store.
          Please make sure the column is declared serializable via &#39;ActiveRecord.store&#39; or, if your
          database supports it, use a structured column type like hstore or json.

    *Mike Dalessio*</description>
    <pubDate>Fri, 24 May 2024 06:34:42 +0000</pubDate>
    <author>Mike Dalessio</author>
    <content:encoded><![CDATA[<p>Improve <code>ActiveRecord::Store</code> to raise a descriptive exception if the column is not either<br />
structured (e.g., PostgreSQL +hstore+/+json+, or MySQL +json+) or declared serializable via<br />
<code>ActiveRecord.store</code>.</p>

<p>Previously, a <code>NoMethodError</code> would be raised when the accessor was read or written:</p>

<pre><code>NoMethodError: undefined method `accessor' for an instance of ActiveRecord::Type::Text
</code></pre>

<p>Now, a descriptive <code>ConfigurationError</code> is raised:</p>

<pre><code>ActiveRecord::ConfigurationError: the column 'metadata' has not been configured as a store.
  Please make sure the column is declared serializable via 'ActiveRecord.store' or, if your
  database supports it, use a structured column type like hstore or json.
</code></pre>

<p><em>Mike Dalessio</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activerecord: Fix inference of association model on nested models with the same demodularized name.
</title>
    <link>https://github.com/rails/rails/issues/51720</link>
    <guid>https://github.com/rails/rails/issues/51720</guid>
    <description>*   Fix inference of association model on nested models with the same demodularized name.

    E.g. with the following setup:

    ```ruby
    class Nested::Post &lt; ApplicationRecord
      has_one :post, through: :other
    end
    ```

    Before, `#post` would infer the model as `Nested::Post`, but now it correctly infers `Post`.

    *Joshua Young*</description>
    <pubDate>Wed, 22 May 2024 23:46:14 +0000</pubDate>
    <author>Joshua Young</author>
    <content:encoded><![CDATA[<p>Fix inference of association model on nested models with the same demodularized name.</p>

<p>E.g. with the following setup:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Nested::Post</span> <span class="o">&lt;</span> <span class="no">ApplicationRecord</span>
  <span class="n">has_one</span> <span class="ss">:post</span><span class="p">,</span> <span class="ss">through: :other</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Before, <code>#post</code> would infer the model as <code>Nested::Post</code>, but now it correctly infers <code>Post</code>.</p>

<p><em>Joshua Young</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activerecord: Add public method for checking if a table is ignored by the schema cache.
</title>
    <link>https://github.com/rails/rails/issues/51878</link>
    <guid>https://github.com/rails/rails/issues/51878</guid>
    <description>*   Add public method for checking if a table is ignored by the schema cache.

    Previously, an application would need to reimplement `ignored_table?` from the schema cache class to check if a table was set to be ignored. This adds a public method to support this and updates the schema cache to use that directly.

    ```ruby
    ActiveRecord.schema_cache_ignored_tables = [&quot;developers&quot;]
    ActiveRecord.schema_cache_ignored_table?(&quot;developers&quot;)
    =&gt; true
    ```

    *Eileen M. Uchitelle*</description>
    <pubDate>Tue, 21 May 2024 19:33:51 +0000</pubDate>
    <author>eileencodes</author>
    <content:encoded><![CDATA[<p>Add public method for checking if a table is ignored by the schema cache.</p>

<p>Previously, an application would need to reimplement <code>ignored_table?</code> from the schema cache class to check if a table was set to be ignored. This adds a public method to support this and updates the schema cache to use that directly.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">ActiveRecord</span><span class="p">.</span><span class="nf">schema_cache_ignored_tables</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"developers"</span><span class="p">]</span>
<span class="no">ActiveRecord</span><span class="p">.</span><span class="nf">schema_cache_ignored_table?</span><span class="p">(</span><span class="s2">"developers"</span><span class="p">)</span>
<span class="o">=&gt;</span> <span class="kp">true</span>
</code></pre></div></div>

<p><em>Eileen M. Uchitelle</em></p>
]]></content:encoded>
  </item>
</channel>
</rss>



<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
<channel>
<title>Rails Changelog</title>
<link>https://zealot128.github.io/rails-changelog</link>
<description>Changelog for Rails</description>
<atom:link href="https://zealot128.github.io/rails-changelog/feed.xml" rel="self" type="application/rss+xml" />
  <item>
    <title>actionpack: Allow setting content type with a symbol of the Mime type.
</title>
    <link>https://github.com/rails/rails/issues/53236</link>
    <guid>https://github.com/rails/rails/issues/53236</guid>
    <description>*   Allow setting content type with a symbol of the Mime type.

    ```ruby
    # Before
    response.content_type = &quot;text/html&quot;

    # After
    response.content_type = :html
    ```

    *Petrik de Heus*</description>
    <pubDate>Sat, 16 Nov 2024 10:36:32 +0000</pubDate>
    <author>Petrik</author>
    <content:encoded><![CDATA[<p>Allow setting content type with a symbol of the Mime type.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Before</span>
<span class="n">response</span><span class="p">.</span><span class="nf">content_type</span> <span class="o">=</span> <span class="s2">"text/html"</span>

<span class="c1"># After</span>
<span class="n">response</span><span class="p">.</span><span class="nf">content_type</span> <span class="o">=</span> <span class="ss">:html</span>
</code></pre></div></div>

<p><em>Petrik de Heus</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>railties: Don&#39;t enable YJIT in development and test environments
</title>
    <link>https://github.com/rails/rails/issues/53746</link>
    <guid>https://github.com/rails/rails/issues/53746</guid>
    <description>*   Don&#39;t enable YJIT in development and test environments

    Development and test environment tend to reload code and redefine methods (e.g. mocking),
    hence YJIT isn&#39;t generally faster in these environments.

    *Ali Ismayilov*, *Jean Boussier*</description>
    <pubDate>Tue, 26 Nov 2024 10:45:59 +0000</pubDate>
    <author>Ali Ismayilov</author>
    <content:encoded><![CDATA[<p>Don’t enable YJIT in development and test environments</p>

<p>Development and test environment tend to reload code and redefine methods (e.g. mocking),<br />
hence YJIT isn’t generally faster in these environments.</p>

<p><em>Ali Ismayilov</em>, <em>Jean Boussier</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>railties: Only include PermissionsPolicy::Middleware if policy is configured.
</title>
    <link>https://github.com/rails/rails/issues/53621</link>
    <guid>https://github.com/rails/rails/issues/53621</guid>
    <description>*   Only include PermissionsPolicy::Middleware if policy is configured.

    *Petrik de Heus*</description>
    <pubDate>Fri, 15 Nov 2024 21:30:01 +0000</pubDate>
    <author>Petrik</author>
    <content:encoded><![CDATA[<p>Only include PermissionsPolicy::Middleware if policy is configured.</p>

<p><em>Petrik de Heus</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activerecord: Allow to reset cache counters for multiple records.
</title>
    <link>https://github.com/rails/rails/issues/44971</link>
    <guid>https://github.com/rails/rails/issues/44971</guid>
    <description>*   Allow to reset cache counters for multiple records.

    ```
    Aircraft.reset_counters([1, 2, 3], :wheels_count)
    ```

    It produces much fewer queries compared to the custom implementation using looping over ids.
    Previously: `O(ids.size * counters.size)` queries, now: `O(ids.size + counters.size)` queries.

    *fatkodima*</description>
    <pubDate>Sat, 16 Nov 2024 18:00:12 +0000</pubDate>
    <author>fatkodima</author>
    <content:encoded><![CDATA[<p>Allow to reset cache counters for multiple records.</p>

<pre><code>Aircraft.reset_counters([1, 2, 3], :wheels_count)
</code></pre>

<p>It produces much fewer queries compared to the custom implementation using looping over ids.<br />
Previously: <code>O(ids.size * counters.size)</code> queries, now: <code>O(ids.size + counters.size)</code> queries.</p>

<p><em>fatkodima</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activerecord: Add `affected_rows` to `sql.active_record` Notification.
</title>
    <link>https://github.com/rails/rails/issues/53277</link>
    <guid>https://github.com/rails/rails/issues/53277</guid>
    <description>*   Add `affected_rows` to `sql.active_record` Notification.

    *Hartley McGuire*</description>
    <pubDate>Sat, 16 Nov 2024 10:29:41 +0000</pubDate>
    <author>Hartley McGuire</author>
    <content:encoded><![CDATA[<p>Add <code>affected_rows</code> to <code>sql.active_record</code> Notification.</p>

<p><em>Hartley McGuire</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activerecord: Fix `sum` when performing a grouped calculation.
</title>
    <link>https://github.com/rails/rails/issues/53625</link>
    <guid>https://github.com/rails/rails/issues/53625</guid>
    <description>*   Fix `sum` when performing a grouped calculation.

    `User.group(:friendly).sum` no longer worked. This is fixed.

    *Edouard Chin*</description>
    <pubDate>Thu, 14 Nov 2024 03:56:47 +0000</pubDate>
    <author>Edouard CHIN</author>
    <content:encoded><![CDATA[<p>Fix <code>sum</code> when performing a grouped calculation.</p>

<p><code>User.group(:friendly).sum</code> no longer worked. This is fixed.</p>

<p><em>Edouard Chin</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activerecord: Add support for enabling or disabling transactional tests per database.
</title>
    <link>https://github.com/rails/rails/issues/53139</link>
    <guid>https://github.com/rails/rails/issues/53139</guid>
    <description>*   Add support for enabling or disabling transactional tests per database.

    A test class can now override the default `use_transactional_tests` setting
    for individual databases, which can be useful if some databases need their
    current state to be accessible to an external process while tests are running.

    ```ruby
    class MostlyTransactionalTest &lt; ActiveSupport::TestCase
      self.use_transactional_tests = true
      skip_transactional_tests_for_database :shared
    end
    ```

    *Matthew Cheetham*, *Morgan Mareve*</description>
    <pubDate>Wed, 06 Nov 2024 15:31:32 +0000</pubDate>
    <author>Matthew John Cheetham</author>
    <content:encoded><![CDATA[<p>Add support for enabling or disabling transactional tests per database.</p>

<p>A test class can now override the default <code>use_transactional_tests</code> setting<br />
for individual databases, which can be useful if some databases need their<br />
current state to be accessible to an external process while tests are running.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MostlyTransactionalTest</span> <span class="o">&lt;</span> <span class="no">ActiveSupport</span><span class="o">::</span><span class="no">TestCase</span>
  <span class="nb">self</span><span class="p">.</span><span class="nf">use_transactional_tests</span> <span class="o">=</span> <span class="kp">true</span>
  <span class="n">skip_transactional_tests_for_database</span> <span class="ss">:shared</span>
<span class="k">end</span>
</code></pre></div></div>

<p><em>Matthew Cheetham</em>, <em>Morgan Mareve</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activerecord: Cast `query_cache` value when using URL configuration.
</title>
    <link>https://github.com/rails/rails/issues/53491</link>
    <guid>https://github.com/rails/rails/issues/53491</guid>
    <description>*   Cast `query_cache` value when using URL configuration.

    *zzak*</description>
    <pubDate>Wed, 30 Oct 2024 12:45:24 +0000</pubDate>
    <author>zzak</author>
    <content:encoded><![CDATA[<p>Cast <code>query_cache</code> value when using URL configuration.</p>

<p><em>zzak</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activerecord: NULLS NOT DISTINCT works with UNIQUE CONSTRAINT as well as UNIQUE INDEX.
</title>
    <link>https://github.com/rails/rails/issues/53456</link>
    <guid>https://github.com/rails/rails/issues/53456</guid>
    <description>*   NULLS NOT DISTINCT works with UNIQUE CONSTRAINT as well as UNIQUE INDEX.

    *Ryuta Kamizono*</description>
    <pubDate>Sun, 27 Oct 2024 03:19:29 +0000</pubDate>
    <author>Ryuta Kamizono</author>
    <content:encoded><![CDATA[<p>NULLS NOT DISTINCT works with UNIQUE CONSTRAINT as well as UNIQUE INDEX.</p>

<p><em>Ryuta Kamizono</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activerecord: `PG::UnableToSend: no connection to the server` is now retryable as a connection-related exception
</title>
    <link>https://github.com/rails/rails/issues/53400</link>
    <guid>https://github.com/rails/rails/issues/53400</guid>
    <description>*   `PG::UnableToSend: no connection to the server` is now retryable as a connection-related exception

    *Kazuma Watanabe*</description>
    <pubDate>Thu, 24 Oct 2024 07:49:18 +0000</pubDate>
    <author>wata727</author>
    <content:encoded><![CDATA[<p><code>PG::UnableToSend: no connection to the server</code> is now retryable as a connection-related exception</p>

<p><em>Kazuma Watanabe</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>actionview: Fix a crash in ERB template error highlighting when the error occurs on a
</title>
    <link>https://github.com/rails/rails/issues/53696</link>
    <guid>https://github.com/rails/rails/issues/53696</guid>
    <description>*   Fix a crash in ERB template error highlighting when the error occurs on a
    line in the compiled template that is past the end of the source template.

    *Martin Emde*</description>
    <pubDate>Fri, 22 Nov 2024 05:49:40 +0000</pubDate>
    <author>Martin Emde</author>
    <content:encoded><![CDATA[<p>Fix a crash in ERB template error highlighting when the error occurs on a<br />
line in the compiled template that is past the end of the source template.</p>

<p><em>Martin Emde</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>actionview: Improve reliability of ERB template error highlighting.
</title>
    <link>https://github.com/rails/rails/issues/53657</link>
    <guid>https://github.com/rails/rails/issues/53657</guid>
    <description>*   Improve reliability of ERB template error highlighting.
    Fix infinite loops and crashes in highlighting and
    improve tolerance for alternate ERB handlers.

    *Martin Emde*</description>
    <pubDate>Thu, 21 Nov 2024 19:56:27 +0000</pubDate>
    <author>Martin Emde</author>
    <content:encoded><![CDATA[<p>Improve reliability of ERB template error highlighting.<br />
Fix infinite loops and crashes in highlighting and<br />
improve tolerance for alternate ERB handlers.</p>

<p><em>Martin Emde</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>actionview: Allow `hidden_field` and `hidden_field_tag` to accept a custom autocomplete value.
</title>
    <link>https://github.com/rails/rails/issues/53512</link>
    <guid>https://github.com/rails/rails/issues/53512</guid>
    <description>*   Allow `hidden_field` and `hidden_field_tag` to accept a custom autocomplete value.

    *brendon*</description>
    <pubDate>Fri, 15 Nov 2024 11:28:47 +0000</pubDate>
    <author>Brendon Muir</author>
    <content:encoded><![CDATA[<p>Allow <code>hidden_field</code> and <code>hidden_field_tag</code> to accept a custom autocomplete value.</p>

<p><em>brendon</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activesupport: Fix a bug in `ERB::Util.tokenize` that causes incorrect tokenization when ERB tags are preceeded by multibyte characters.
</title>
    <link>https://github.com/rails/rails/issues/53655</link>
    <guid>https://github.com/rails/rails/issues/53655</guid>
    <description>*   Fix a bug in `ERB::Util.tokenize` that causes incorrect tokenization when ERB tags are preceeded by multibyte characters.

    *Martin Emde*</description>
    <pubDate>Sun, 17 Nov 2024 15:11:19 +0000</pubDate>
    <author>Martin Emde</author>
    <content:encoded><![CDATA[<p>Fix a bug in <code>ERB::Util.tokenize</code> that causes incorrect tokenization when ERB tags are preceeded by multibyte characters.</p>

<p><em>Martin Emde</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activesupport: Add `ActiveSupport::Testing::NotificationAssertions` module to help with testing `ActiveSupport::Notifications`.
</title>
    <link>https://github.com/rails/rails/issues/53065</link>
    <guid>https://github.com/rails/rails/issues/53065</guid>
    <description>*   Add `ActiveSupport::Testing::NotificationAssertions` module to help with testing `ActiveSupport::Notifications`.

    *Nicholas La Roux*, *Yishu See*, *Sean Doyle*</description>
    <pubDate>Fri, 15 Nov 2024 15:31:58 +0000</pubDate>
    <author>Nicholas La Roux</author>
    <content:encoded><![CDATA[<p>Add <code>ActiveSupport::Testing::NotificationAssertions</code> module to help with testing <code>ActiveSupport::Notifications</code>.</p>

<p><em>Nicholas La Roux</em>, <em>Yishu See</em>, <em>Sean Doyle</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activesupport: `ActiveSupport::CurrentAttributes#attributes` now will return a new hash object on each call.
</title>
    <link>https://github.com/rails/rails/issues/53440</link>
    <guid>https://github.com/rails/rails/issues/53440</guid>
    <description>*   `ActiveSupport::CurrentAttributes#attributes` now will return a new hash object on each call.

    Previously, the same hash object was returned each time that method was called.

    *fatkodima*</description>
    <pubDate>Thu, 24 Oct 2024 22:05:01 +0000</pubDate>
    <author>fatkodima</author>
    <content:encoded><![CDATA[<p><code>ActiveSupport::CurrentAttributes#attributes</code> now will return a new hash object on each call.</p>

<p>Previously, the same hash object was returned each time that method was called.</p>

<p><em>fatkodima</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activesupport: `ActiveSupport::JSON.encode` supports CIDR notation.
</title>
    <link>https://github.com/rails/rails/issues/53393</link>
    <guid>https://github.com/rails/rails/issues/53393</guid>
    <description>*   `ActiveSupport::JSON.encode` supports CIDR notation.

    Previously:

    ```ruby
    ActiveSupport::JSON.encode(IPAddr.new(&quot;172.16.0.0/24&quot;)) # =&gt; &quot;\&quot;172.16.0.0\&quot;&quot;
    ```

    After this change:

    ```ruby
    ActiveSupport::JSON.encode(IPAddr.new(&quot;172.16.0.0/24&quot;)) # =&gt; &quot;\&quot;172.16.0.0/24\&quot;&quot;
    ```

    *Taketo Takashima*</description>
    <pubDate>Mon, 21 Oct 2024 23:47:55 +0000</pubDate>
    <author>Taketo Takashima</author>
    <content:encoded><![CDATA[<p><code>ActiveSupport::JSON.encode</code> supports CIDR notation.</p>

<p>Previously:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">ActiveSupport</span><span class="o">::</span><span class="no">JSON</span><span class="p">.</span><span class="nf">encode</span><span class="p">(</span><span class="no">IPAddr</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"172.16.0.0/24"</span><span class="p">))</span> <span class="c1"># =&gt; "\"172.16.0.0\""</span>
</code></pre></div></div>

<p>After this change:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">ActiveSupport</span><span class="o">::</span><span class="no">JSON</span><span class="p">.</span><span class="nf">encode</span><span class="p">(</span><span class="no">IPAddr</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"172.16.0.0/24"</span><span class="p">))</span> <span class="c1"># =&gt; "\"172.16.0.0/24\""</span>
</code></pre></div></div>

<p><em>Taketo Takashima</em></p>
]]></content:encoded>
  </item>
  <item>
    <title>activesupport: Make `ActiveSupport::FileUpdateChecker` faster when checking many file-extensions.
</title>
    <link>https://github.com/rails/rails/issues/53680</link>
    <guid>https://github.com/rails/rails/issues/53680</guid>
    <description>*   Make `ActiveSupport::FileUpdateChecker` faster when checking many file-extensions.

    *Jonathan del Strother*</description>
    <pubDate>Fri, 22 Nov 2024 10:42:29 +0000</pubDate>
    <author>Jonathan del Strother</author>
    <content:encoded><![CDATA[<p>Make <code>ActiveSupport::FileUpdateChecker</code> faster when checking many file-extensions.</p>

<p><em>Jonathan del Strother</em></p>
]]></content:encoded>
  </item>
</channel>
</rss>



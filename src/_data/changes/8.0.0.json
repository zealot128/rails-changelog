[
  {
    "message": "*   The guide _Classic to Zeitwerk HOWTO_ that documented how to migrate from\n    the `classic` autoloader to Zeitwerk has been deleted.\n\n    The last version of this guide can be found\n    [here](https://guides.rubyonrails.org/v7.2/classic_to_zeitwerk_howto.html),\n    in case you need it.\n\n    *Petrik de Heus*",
    "project": "guides",
    "date_merged": 1718873221000,
    "author": "Xavier Noria",
    "sha": "b44820276832200c4d672a5d35cd92aa5797ec0c",
    "pr": "52165",
    "merge_sha": "242216803ee73f528b0a74c6bdb367e5b98d8f83",
    "html": "<p>The guide <em>Classic to Zeitwerk HOWTO</em> that documented how to migrate from<br />\nthe <code>classic</code> autoloader to Zeitwerk has been deleted.</p>\n\n<p>The last version of this guide can be found<br />\n<a href=\"https://guides.rubyonrails.org/v7.2/classic_to_zeitwerk_howto.html\">here</a>,<br />\nin case you need it.</p>\n\n<p><em>Petrik de Heus</em></p>\n"
  },
  {
    "message": "*   Introduce `mariadb-mysql` and `mariadb-trilogy` database options for `rails new`\n\n    When used with the `--devcontainer` flag, these options will use `mariadb` as the database for the\n    Dev Container. The original `mysql` and `trilogy` options will use `mysql`. Users who are not\n    generating a Dev Container do not need to use the new options.\n\n    *Andrew Novoselac*",
    "project": "railties",
    "date_merged": 1724790680000,
    "author": "Andrew Novoselac",
    "sha": "2202ddf476aeff470dadbfe992aa224021b66933",
    "pr": "52266",
    "merge_sha": "f0fd6ab1259b3bacf0e7e53f3a9b1757a327d822",
    "html": "<p>Introduce <code>mariadb-mysql</code> and <code>mariadb-trilogy</code> database options for <code>rails new</code></p>\n\n<p>When used with the <code>--devcontainer</code> flag, these options will use <code>mariadb</code> as the database for the<br />\nDev Container. The original <code>mysql</code> and <code>trilogy</code> options will use <code>mysql</code>. Users who are not<br />\ngenerating a Dev Container do not need to use the new options.</p>\n\n<p><em>Andrew Novoselac</em></p>\n"
  },
  {
    "message": "*   Deprecate `::STATS_DIRECTORIES`.\n\n    The global constant `STATS_DIRECTORIES` has been deprecated in favor of\n    `Rails::CodeStatistics.register_directory`.\n\n    Add extra directories with `Rails::CodeStatistics.register_directory(label, path)`:\n\n    ```ruby\n    require \"rails/code_statistics\"\n    Rails::CodeStatistics.register_directory('My Directory', 'path/to/dir')\n    ```\n\n    *Petrik de Heus*",
    "project": "railties",
    "date_merged": 1724447448000,
    "author": "Petrik",
    "sha": "271467b013eff6a7b7811191c2f0e302c13a0b34",
    "pr": "52226",
    "merge_sha": "667a2063ed2772b1a5d385a0911679749b7f2a6e",
    "html": "<p>Deprecate <code>::STATS_DIRECTORIES</code>.</p>\n\n<p>The global constant <code>STATS_DIRECTORIES</code> has been deprecated in favor of<br />\n<code>Rails::CodeStatistics.register_directory</code>.</p>\n\n<p>Add extra directories with <code>Rails::CodeStatistics.register_directory(label, path)</code>:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"nb\">require</span> <span class=\"s2\">\"rails/code_statistics\"</span>\n<span class=\"no\">Rails</span><span class=\"o\">::</span><span class=\"no\">CodeStatistics</span><span class=\"p\">.</span><span class=\"nf\">register_directory</span><span class=\"p\">(</span><span class=\"s1\">'My Directory'</span><span class=\"p\">,</span> <span class=\"s1\">'path/to/dir'</span><span class=\"p\">)</span>\n</code></pre></div></div>\n\n<p><em>Petrik de Heus</em></p>\n"
  },
  {
    "message": "*   Enable query log tags by default on development env\n\n    This can be used to trace troublesome SQL statements back to the application\n    code that generated these statements. It is also useful when using multiple\n    databases because the query logs can identify which database is being used.\n\n    *Matheus Richard*",
    "project": "railties",
    "date_merged": 1723367513000,
    "author": "Matheus Richard",
    "sha": "e29ad0bcf7620a6a776086628f755d9e5c7d8f2d",
    "pr": "51342",
    "merge_sha": "c9c304769f7f9886ab41a11af3c11961ebe18940",
    "html": "<p>Enable query log tags by default on development env</p>\n\n<p>This can be used to trace troublesome SQL statements back to the application<br />\ncode that generated these statements. It is also useful when using multiple<br />\ndatabases because the query logs can identify which database is being used.</p>\n\n<p><em>Matheus Richard</em></p>\n"
  },
  {
    "message": "*   Defer route drawing to the first request, or when url_helpers are called\n\n    Executes the first routes reload in middleware, or when a route set's\n    url_helpers receives a route call / asked if it responds to a route.\n    Previously, this was executed unconditionally on boot, which can\n    slow down boot time unnecessarily for larger apps with lots of routes.\n\n    Environments like production that have `config.eager_load = true` will\n    continue to eagerly load routes on boot.\n\n    *Gannon McGibbon*",
    "project": "railties",
    "date_merged": 1723185863000,
    "author": "Gannon McGibbon",
    "sha": "cdb283566c5d5251e2f7e663e655e57e8e10abbc",
    "pr": "52353",
    "merge_sha": "9f80efc79119037fc4421d06e94a0d7e076876a4",
    "html": "<p>Defer route drawing to the first request, or when url_helpers are called</p>\n\n<p>Executes the first routes reload in middleware, or when a route set’s<br />\nurl_helpers receives a route call / asked if it responds to a route.<br />\nPreviously, this was executed unconditionally on boot, which can<br />\nslow down boot time unnecessarily for larger apps with lots of routes.</p>\n\n<p>Environments like production that have <code>config.eager_load = true</code> will<br />\ncontinue to eagerly load routes on boot.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Generate form helpers to use `textarea*` methods instead of `text_area*` methods\n\n    *Sean Doyle*",
    "project": "railties",
    "date_merged": 1722446183000,
    "author": "Sean Doyle",
    "sha": "f9c51ec385a7b75e212954cd4b22c2da7c1d32f4",
    "pr": "52467",
    "merge_sha": "fa476ce275262add84d5b46bfffe078031c55cb8",
    "html": "<p>Generate form helpers to use <code>textarea*</code> methods instead of <code>text_area*</code> methods</p>\n\n<p><em>Sean Doyle</em></p>\n"
  },
  {
    "message": "*   Add authentication generator to give a basic start to an authentication system using database-tracked sessions and password reset.\n\n    Generate with...\n\n    ```\n    bin/rails generate authentication\n    ```\n\n    Generated files:\n\n    ```\n    app/models/current.rb\n    app/models/user.rb\n    app/models/session.rb\n    app/controllers/sessions_controller.rb\n    app/controllers/passwords_controller.rb\n    app/mailers/passwords_mailer.rb\n    app/views/sessions/new.html.erb\n    app/views/passwords/new.html.erb\n    app/views/passwords/edit.html.erb\n    app/views/passwords_mailer/reset.html.erb\n    app/views/passwords_mailer/reset.text.erb\n    db/migrate/xxxxxxx_create_users.rb\n    db/migrate/xxxxxxx_create_sessions.rb\n    test/mailers/previews/passwords_mailer_preview.rb\n    ```\n\n    *DHH*",
    "project": "railties",
    "date_merged": 1722602063000,
    "author": "David Heinemeier Hansson",
    "sha": "79662081113c7051d29a2b10e60c07875ca48cf4",
    "pr": "52468",
    "merge_sha": "a0a894cecb3f0ceb3659cdcee73543f31ccf3d78",
    "html": "<p>Add authentication generator to give a basic start to an authentication system using database-tracked sessions and password reset.</p>\n\n<p>Generate with…</p>\n\n<pre><code>bin/rails generate authentication\n</code></pre>\n\n<p>Generated files:</p>\n\n<pre><code>app/models/current.rb\napp/models/user.rb\napp/models/session.rb\napp/controllers/sessions_controller.rb\napp/controllers/passwords_controller.rb\napp/mailers/passwords_mailer.rb\napp/views/sessions/new.html.erb\napp/views/passwords/new.html.erb\napp/views/passwords/edit.html.erb\napp/views/passwords_mailer/reset.html.erb\napp/views/passwords_mailer/reset.text.erb\ndb/migrate/xxxxxxx_create_users.rb\ndb/migrate/xxxxxxx_create_sessions.rb\ntest/mailers/previews/passwords_mailer_preview.rb\n</code></pre>\n\n<p><em>DHH</em></p>\n"
  },
  {
    "message": "*   Add not-null type modifier to migration attributes.\n\n    Generating with...\n\n    ```\n    bin/rails generate migration CreateUsers email_address:string!:uniq password_digest:string!\n    ```\n\n    Produces:\n\n    ```ruby\n    class CreateUsers < ActiveRecord::Migration[8.0]\n      def change\n        create_table :users do |t|\n          t.string :email_address, null: false\n          t.string :password_digest, null: false\n\n          t.timestamps\n        end\n        add_index :users, :email_address, unique: true\n      end\n    end\n    ```\n\n    *DHH*",
    "project": "railties",
    "date_merged": 1721134851000,
    "author": "David Heinemeier Hansson",
    "sha": "2f92b1c94e2a080679ab0ad45abd0bdec24a5349",
    "pr": "52327",
    "merge_sha": "f805b35c1b2cfc9bb303eab8374f9544792f7761",
    "html": "<p>Add not-null type modifier to migration attributes.</p>\n\n<p>Generating with…</p>\n\n<pre><code>bin/rails generate migration CreateUsers email_address:string!:uniq password_digest:string!\n</code></pre>\n\n<p>Produces:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">CreateUsers</span> <span class=\"o\">&lt;</span> <span class=\"no\">ActiveRecord</span><span class=\"o\">::</span><span class=\"no\">Migration</span><span class=\"p\">[</span><span class=\"mf\">8.0</span><span class=\"p\">]</span>\n  <span class=\"k\">def</span> <span class=\"nf\">change</span>\n    <span class=\"n\">create_table</span> <span class=\"ss\">:users</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">t</span><span class=\"o\">|</span>\n      <span class=\"n\">t</span><span class=\"p\">.</span><span class=\"nf\">string</span> <span class=\"ss\">:email_address</span><span class=\"p\">,</span> <span class=\"ss\">null: </span><span class=\"kp\">false</span>\n      <span class=\"n\">t</span><span class=\"p\">.</span><span class=\"nf\">string</span> <span class=\"ss\">:password_digest</span><span class=\"p\">,</span> <span class=\"ss\">null: </span><span class=\"kp\">false</span>\n\n      <span class=\"n\">t</span><span class=\"p\">.</span><span class=\"nf\">timestamps</span>\n    <span class=\"k\">end</span>\n    <span class=\"n\">add_index</span> <span class=\"ss\">:users</span><span class=\"p\">,</span> <span class=\"ss\">:email_address</span><span class=\"p\">,</span> <span class=\"ss\">unique: </span><span class=\"kp\">true</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n</code></pre></div></div>\n\n<p><em>DHH</em></p>\n"
  },
  {
    "message": "*   Add a `script` folder to applications, and a scripts generator.\n\n    The new `script` folder is meant to hold one-off or general purpose scripts,\n    such as data migration scripts, cleanup scripts, etc.\n\n    A new script generator allows you to create such scripts:\n\n    ```\n    bin/rails generate script my_script\n    bin/rails generate script data/backfill\n    ```\n\n    You can run the generated script using:\n\n    ```\n    bundle exec ruby script/my_script.rb\n    bundle exec ruby script/data/backfill.rb\n    ```\n\n    *Jerome Dalbert*, *Haroon Ahmed*",
    "project": "railties",
    "date_merged": 1722367516000,
    "author": "Xavier Noria",
    "sha": "a71ec5634387b33fa3c103eba30b317dca76dcac",
    "pr": "52454",
    "merge_sha": "9262ca443a2d1f1287e02f175128a080dda0121b",
    "html": "<p>Add a <code>script</code> folder to applications, and a scripts generator.</p>\n\n<p>The new <code>script</code> folder is meant to hold one-off or general purpose scripts,<br />\nsuch as data migration scripts, cleanup scripts, etc.</p>\n\n<p>A new script generator allows you to create such scripts:</p>\n\n<pre><code>bin/rails generate script my_script\nbin/rails generate script data/backfill\n</code></pre>\n\n<p>You can run the generated script using:</p>\n\n<pre><code>bundle exec ruby script/my_script.rb\nbundle exec ruby script/data/backfill.rb\n</code></pre>\n\n<p><em>Jerome Dalbert</em>, <em>Haroon Ahmed</em></p>\n"
  },
  {
    "message": "*   Deprecate `bin/rake stats` in favor of `bin/rails stats`.\n\n    *Juan Vásquez*",
    "project": "railties",
    "date_merged": 1719643925000,
    "author": "Juan Vásquez",
    "sha": "3d737cd8ef0b4cfd89df7cafc17315fe1aa88319",
    "pr": "52231",
    "merge_sha": "21280a16164d10cdcc02356787fca46940f27c16",
    "html": "<p>Deprecate <code>bin/rake stats</code> in favor of <code>bin/rails stats</code>.</p>\n\n<p><em>Juan Vásquez</em></p>\n"
  },
  {
    "message": "*   Add internal page `/rails/info/notes`, that displays the same information as `bin/rails notes`.\n\n    *Deepak Mahakale*",
    "project": "railties",
    "date_merged": 1718299349000,
    "author": "Deepak Mahakale",
    "sha": "306d99f8ca7b1dc9f1738b3c8e96061574ac506f",
    "pr": "52115",
    "merge_sha": "638f6450977db3be016a954d2685c66309ac8728",
    "html": "<p>Add internal page <code>/rails/info/notes</code>, that displays the same information as <code>bin/rails notes</code>.</p>\n\n<p><em>Deepak Mahakale</em></p>\n"
  },
  {
    "message": "*   Add Rubocop and GitHub Actions to plugin generator.\n    This can be skipped using --skip-rubocop and --skip-ci.\n\n    *Chris Oliver*",
    "project": "railties",
    "date_merged": 1716487738000,
    "author": "Chris Oliver",
    "sha": "7594a73942c6b4e64c50d17b4b0c9867b9fe1440",
    "pr": "51822",
    "merge_sha": "c906f75282085bf67b807f4f7b420c6b5019f725",
    "html": "<p>Add Rubocop and GitHub Actions to plugin generator.<br />\nThis can be skipped using –skip-rubocop and –skip-ci.</p>\n\n<p><em>Chris Oliver</em></p>\n"
  },
  {
    "message": "*   Use Kamal for deployment by default, which includes generating a Rails-specific config/deploy.yml.\n    This can be skipped using --skip-kamal. See more: https://kamal-deploy.org/\n\n    *DHH*",
    "project": "railties",
    "date_merged": 1715647059000,
    "author": "David Heinemeier Hansson",
    "sha": "bee3fa41ca9137b9e704ea3ab1bdbcfd3c85446b",
    "pr": "51798",
    "merge_sha": "2e7dc14943d285626a9e12ad0d1750d3609185be",
    "html": "<p>Use Kamal for deployment by default, which includes generating a Rails-specific config/deploy.yml.<br />\nThis can be skipped using –skip-kamal. See more: https://kamal-deploy.org/</p>\n\n<p><em>DHH</em></p>\n"
  },
  {
    "message": "*   Improve `ActiveStorage::Filename#sanitized` method to handle special characters more effectively.\n    Replace the characters `\"*?<>` with `-` if they exist in the Filename to match the Filename convention of Win OS.\n\n    *Luong Viet Dung(Martin)*",
    "project": "activestorage",
    "date_merged": 1722882513000,
    "author": "Martin(Luong Viet Dung)",
    "sha": "0d5bbb65a15ff1f70b4cb27c63e502f73ccd78ae",
    "pr": "52496",
    "merge_sha": "25f86e2f8bb845603df4a3a6497682b416076420",
    "html": "<p>Improve <code>ActiveStorage::Filename#sanitized</code> method to handle special characters more effectively.<br />\nReplace the characters <code>\"*?&lt;&gt;</code> with <code>-</code> if they exist in the Filename to match the Filename convention of Win OS.</p>\n\n<p><em>Luong Viet Dung(Martin)</em></p>\n"
  },
  {
    "message": "*   Improve InvariableError, UnpreviewableError and UnrepresentableError message.\n\n    Include Blob ID and content_type in the messages.\n\n    *Petrik de Heus*",
    "project": "activestorage",
    "date_merged": 1722335759000,
    "author": "Petrik",
    "sha": "240cbd9ca50ff9c8ce891b4c3669473b645cda21",
    "pr": "52193",
    "merge_sha": "2038c9d46ab035de31d7a9968b7aa22297b2618a",
    "html": "<p>Improve InvariableError, UnpreviewableError and UnrepresentableError message.</p>\n\n<p>Include Blob ID and content_type in the messages.</p>\n\n<p><em>Petrik de Heus</em></p>\n"
  },
  {
    "message": "*   Mark proxied files as `immutable` in their Cache-Control header\n\n    *Nate Matykiewicz*",
    "project": "activestorage",
    "date_merged": 1720289328000,
    "author": "Nate Matykiewicz",
    "sha": "78ad54569bd03b253f5623cf576abed1527cd59e",
    "pr": "52283",
    "merge_sha": "cacf96ecd053f0a3d64c7bf478dac63f98e6aa6d",
    "html": "<p>Mark proxied files as <code>immutable</code> in their Cache-Control header</p>\n\n<p><em>Nate Matykiewicz</em></p>\n"
  },
  {
    "message": "*   Add a default token generator for password reset tokens when using `has_secure_password`.\n\n    ```ruby\n    class User < ApplicationRecord\n      has_secure_password\n    end\n\n    user = User.create!(name: \"david\", password: \"123\", password_confirmation: \"123\")\n    token = user.password_reset_token\n    User.find_by_password_reset_token(token) # returns user\n\n    # 16 minutes later...\n    User.find_by_password_reset_token(token) # returns nil\n\n    # raises ActiveSupport::MessageVerifier::InvalidSignature since the token is expired\n    User.find_by_password_reset_token!(token)\n    ```\n\n    *DHH*",
    "project": "activemodel",
    "date_merged": 1722602063000,
    "author": "David Heinemeier Hansson",
    "sha": "e143d25e9666e266f3b797a9ee611a085e8e3a99",
    "pr": "52483",
    "merge_sha": "a0a894cecb3f0ceb3659cdcee73543f31ccf3d78",
    "html": "<p>Add a default token generator for password reset tokens when using <code>has_secure_password</code>.</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">User</span> <span class=\"o\">&lt;</span> <span class=\"no\">ApplicationRecord</span>\n  <span class=\"n\">has_secure_password</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">user</span> <span class=\"o\">=</span> <span class=\"no\">User</span><span class=\"p\">.</span><span class=\"nf\">create!</span><span class=\"p\">(</span><span class=\"ss\">name: </span><span class=\"s2\">\"david\"</span><span class=\"p\">,</span> <span class=\"ss\">password: </span><span class=\"s2\">\"123\"</span><span class=\"p\">,</span> <span class=\"ss\">password_confirmation: </span><span class=\"s2\">\"123\"</span><span class=\"p\">)</span>\n<span class=\"n\">token</span> <span class=\"o\">=</span> <span class=\"n\">user</span><span class=\"p\">.</span><span class=\"nf\">password_reset_token</span>\n<span class=\"no\">User</span><span class=\"p\">.</span><span class=\"nf\">find_by_password_reset_token</span><span class=\"p\">(</span><span class=\"n\">token</span><span class=\"p\">)</span> <span class=\"c1\"># returns user</span>\n\n<span class=\"c1\"># 16 minutes later...</span>\n<span class=\"no\">User</span><span class=\"p\">.</span><span class=\"nf\">find_by_password_reset_token</span><span class=\"p\">(</span><span class=\"n\">token</span><span class=\"p\">)</span> <span class=\"c1\"># returns nil</span>\n\n<span class=\"c1\"># raises ActiveSupport::MessageVerifier::InvalidSignature since the token is expired</span>\n<span class=\"no\">User</span><span class=\"p\">.</span><span class=\"nf\">find_by_password_reset_token!</span><span class=\"p\">(</span><span class=\"n\">token</span><span class=\"p\">)</span>\n</code></pre></div></div>\n\n<p><em>DHH</em></p>\n"
  },
  {
    "message": "*   Add a load hook `active_model_translation` for `ActiveModel::Translation`.\n\n    *Shouichi Kamiya*",
    "project": "activemodel",
    "date_merged": 1722290386000,
    "author": "Shouichi Kamiya",
    "sha": "f6c0a35b1b8b4fb4d033aa6c09c4efaaf6652bdc",
    "pr": "52426",
    "merge_sha": "3acf87e26d3171e0e385aa7301389bda9bebb0f8",
    "html": "<p>Add a load hook <code>active_model_translation</code> for <code>ActiveModel::Translation</code>.</p>\n\n<p><em>Shouichi Kamiya</em></p>\n"
  },
  {
    "message": "*   Add `raise_on_missing_translations` option to `ActiveModel::Translation`.\n    When the option is set, `human_attribute_name` raises an error if a translation of the given attribute is missing.\n\n    ```ruby\n    # ActiveModel::Translation.raise_on_missing_translations = false\n    Post.human_attribute_name(\"title\")\n    => \"Title\"\n\n    # ActiveModel::Translation.raise_on_missing_translations = true\n    Post.human_attribute_name(\"title\")\n    => Translation missing. Options considered were: (I18n::MissingTranslationData)\n        - en.activerecord.attributes.post.title\n        - en.attributes.title\n\n                raise exception.respond_to?(:to_exception) ? exception.to_exception : exception\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ```\n\n    *Shouichi Kamiya*",
    "project": "activemodel",
    "date_merged": 1722290386000,
    "author": "Shouichi Kamiya",
    "sha": "f6c0a35b1b8b4fb4d033aa6c09c4efaaf6652bdc",
    "pr": "52426",
    "merge_sha": "3acf87e26d3171e0e385aa7301389bda9bebb0f8",
    "html": "<p>Add <code>raise_on_missing_translations</code> option to <code>ActiveModel::Translation</code>.<br />\nWhen the option is set, <code>human_attribute_name</code> raises an error if a translation of the given attribute is missing.</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"c1\"># ActiveModel::Translation.raise_on_missing_translations = false</span>\n<span class=\"no\">Post</span><span class=\"p\">.</span><span class=\"nf\">human_attribute_name</span><span class=\"p\">(</span><span class=\"s2\">\"title\"</span><span class=\"p\">)</span>\n<span class=\"o\">=&gt;</span> <span class=\"s2\">\"Title\"</span>\n\n<span class=\"c1\"># ActiveModel::Translation.raise_on_missing_translations = true</span>\n<span class=\"no\">Post</span><span class=\"p\">.</span><span class=\"nf\">human_attribute_name</span><span class=\"p\">(</span><span class=\"s2\">\"title\"</span><span class=\"p\">)</span>\n<span class=\"o\">=&gt;</span> <span class=\"no\">Translation</span> <span class=\"n\">missing</span><span class=\"o\">.</span> <span class=\"no\">Options</span> <span class=\"n\">considered</span> <span class=\"ss\">were: </span><span class=\"p\">(</span><span class=\"no\">I18n</span><span class=\"o\">::</span><span class=\"no\">MissingTranslationData</span><span class=\"p\">)</span>\n    <span class=\"o\">-</span> <span class=\"n\">en</span><span class=\"p\">.</span><span class=\"nf\">activerecord</span><span class=\"p\">.</span><span class=\"nf\">attributes</span><span class=\"p\">.</span><span class=\"nf\">post</span><span class=\"p\">.</span><span class=\"nf\">title</span>\n    <span class=\"o\">-</span> <span class=\"n\">en</span><span class=\"p\">.</span><span class=\"nf\">attributes</span><span class=\"p\">.</span><span class=\"nf\">title</span>\n\n            <span class=\"k\">raise</span> <span class=\"n\">exception</span><span class=\"p\">.</span><span class=\"nf\">respond_to?</span><span class=\"p\">(</span><span class=\"ss\">:to_exception</span><span class=\"p\">)</span> <span class=\"p\">?</span> <span class=\"n\">exception</span><span class=\"p\">.</span><span class=\"nf\">to_exception</span> <span class=\"p\">:</span> <span class=\"n\">exception</span>\n                  <span class=\"o\">^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span>\n</code></pre></div></div>\n\n<p><em>Shouichi Kamiya</em></p>\n"
  },
  {
    "message": "*   Introduce `ActiveModel::AttributeAssignment#attribute_writer_missing`\n\n    Provide instances with an opportunity to gracefully handle assigning to an\n    unknown attribute:\n\n    ```ruby\n    class Rectangle\n      include ActiveModel::AttributeAssignment\n\n      attr_accessor :length, :width\n\n      def attribute_writer_missing(name, value)\n        Rails.logger.warn \"Tried to assign to unknown attribute #{name}\"\n      end\n    end\n\n    rectangle = Rectangle.new\n    rectangle.assign_attributes(height: 10) # => Logs \"Tried to assign to unknown attribute 'height'\"\n    ```\n\n    *Sean Doyle*",
    "project": "activemodel",
    "date_merged": 1722034096000,
    "author": "Sean Doyle",
    "sha": "20d156d489c0c49ba2d6854a7b0a33db015cfaac",
    "pr": "52417",
    "merge_sha": "27f3fa72a36132d5b6b6f1a4a953c350cd4b6a59",
    "html": "<p>Introduce <code>ActiveModel::AttributeAssignment#attribute_writer_missing</code></p>\n\n<p>Provide instances with an opportunity to gracefully handle assigning to an<br />\nunknown attribute:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">Rectangle</span>\n  <span class=\"kp\">include</span> <span class=\"no\">ActiveModel</span><span class=\"o\">::</span><span class=\"no\">AttributeAssignment</span>\n\n  <span class=\"nb\">attr_accessor</span> <span class=\"ss\">:length</span><span class=\"p\">,</span> <span class=\"ss\">:width</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">attribute_writer_missing</span><span class=\"p\">(</span><span class=\"nb\">name</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">)</span>\n    <span class=\"no\">Rails</span><span class=\"p\">.</span><span class=\"nf\">logger</span><span class=\"p\">.</span><span class=\"nf\">warn</span> <span class=\"s2\">\"Tried to assign to unknown attribute </span><span class=\"si\">#{</span><span class=\"nb\">name</span><span class=\"si\">}</span><span class=\"s2\">\"</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">rectangle</span> <span class=\"o\">=</span> <span class=\"no\">Rectangle</span><span class=\"p\">.</span><span class=\"nf\">new</span>\n<span class=\"n\">rectangle</span><span class=\"p\">.</span><span class=\"nf\">assign_attributes</span><span class=\"p\">(</span><span class=\"ss\">height: </span><span class=\"mi\">10</span><span class=\"p\">)</span> <span class=\"c1\"># =&gt; Logs \"Tried to assign to unknown attribute 'height'\"</span>\n</code></pre></div></div>\n\n<p><em>Sean Doyle</em></p>\n"
  },
  {
    "message": "*   Dispatch direct-upload events on attachment uploads\n\n    When using Action Text's rich textarea,  it's possible to attach files to the\n    editor. Previously, that action didn't dispatch any events, which made it hard\n    to react to the file uploads. For instance, if an upload failed, there was no\n    way to notify the user about it, or remove the attachment from the editor.\n\n    This commits adds new events - `direct-upload:start`, `direct-upload:progress`,\n    and `direct-upload:end` - similar to how Active Storage's direct uploads work.\n\n    *Matheus Richard*, *Brad Rees*",
    "project": "actiontext",
    "date_merged": 1724718059000,
    "author": "Matheus Richard",
    "sha": "8f0b9117b79905af7737374c15df871d80411d26",
    "pr": "52680",
    "merge_sha": "5a0b2fa5a3be6ffd49fa7f1c3544c1da403c9cb5",
    "html": "<p>Dispatch direct-upload events on attachment uploads</p>\n\n<p>When using Action Text’s rich textarea,  it’s possible to attach files to the<br />\neditor. Previously, that action didn’t dispatch any events, which made it hard<br />\nto react to the file uploads. For instance, if an upload failed, there was no<br />\nway to notify the user about it, or remove the attachment from the editor.</p>\n\n<p>This commits adds new events - <code>direct-upload:start</code>, <code>direct-upload:progress</code>,<br />\nand <code>direct-upload:end</code> - similar to how Active Storage’s direct uploads work.</p>\n\n<p><em>Matheus Richard</em>, <em>Brad Rees</em></p>\n"
  },
  {
    "message": "*   Add `store_if_blank` option to `has_rich_text`\n\n    Pass `store_if_blank: false` to not create `ActionText::RichText` records when saving with a blank attribute, such as from an optional form parameter.\n\n    ```ruby\n    class Message\n      has_rich_text :content, store_if_blank: false\n    end\n\n    Message.create(content: \"hi\") # creates an ActionText::RichText\n    Message.create(content: \"\") # does not create an ActionText::RichText\n    ```\n\n    *Alex Ghiculescu*",
    "project": "actiontext",
    "date_merged": 1724279199000,
    "author": "Alex",
    "sha": "a0f1d04a7d5cec7def689338d688fd71f8230aff",
    "pr": "52573",
    "merge_sha": "6fa5e7abda132b006b19ae6ee5cd32e07f2a9126",
    "html": "<p>Add <code>store_if_blank</code> option to <code>has_rich_text</code></p>\n\n<p>Pass <code>store_if_blank: false</code> to not create <code>ActionText::RichText</code> records when saving with a blank attribute, such as from an optional form parameter.</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">Message</span>\n  <span class=\"n\">has_rich_text</span> <span class=\"ss\">:content</span><span class=\"p\">,</span> <span class=\"ss\">store_if_blank: </span><span class=\"kp\">false</span>\n<span class=\"k\">end</span>\n\n<span class=\"no\">Message</span><span class=\"p\">.</span><span class=\"nf\">create</span><span class=\"p\">(</span><span class=\"ss\">content: </span><span class=\"s2\">\"hi\"</span><span class=\"p\">)</span> <span class=\"c1\"># creates an ActionText::RichText</span>\n<span class=\"no\">Message</span><span class=\"p\">.</span><span class=\"nf\">create</span><span class=\"p\">(</span><span class=\"ss\">content: </span><span class=\"s2\">\"\"</span><span class=\"p\">)</span> <span class=\"c1\"># does not create an ActionText::RichText</span>\n</code></pre></div></div>\n\n<p><em>Alex Ghiculescu</em></p>\n"
  },
  {
    "message": "*   Strip `content` attribute if the key is present but the value is empty\n\n    *Jeremy Green*",
    "project": "actiontext",
    "date_merged": 1724264813000,
    "author": "Jeremy Green",
    "sha": "9196a5bfe02942a5c66c8b64a173d4ea9c8c8be7",
    "pr": "52281",
    "merge_sha": "373dbfdf4110e2ec593fa31602e0dc8a5825cb23",
    "html": "<p>Strip <code>content</code> attribute if the key is present but the value is empty</p>\n\n<p><em>Jeremy Green</em></p>\n"
  },
  {
    "message": "*   Rename `rich_text_area` methods into `rich_textarea`\n\n    Old names are still available as aliases.\n\n    *Sean Doyle*",
    "project": "actiontext",
    "date_merged": 1722446183000,
    "author": "Sean Doyle",
    "sha": "f9c51ec385a7b75e212954cd4b22c2da7c1d32f4",
    "pr": "52467",
    "merge_sha": "fa476ce275262add84d5b46bfffe078031c55cb8",
    "html": "<p>Rename <code>rich_text_area</code> methods into <code>rich_textarea</code></p>\n\n<p>Old names are still available as aliases.</p>\n\n<p><em>Sean Doyle</em></p>\n"
  },
  {
    "message": "*   Only sanitize `content` attribute when present in attachments.\n\n    *Petrik de Heus*",
    "project": "actiontext",
    "date_merged": 1718216498000,
    "author": "Petrik",
    "sha": "52c21f90669ce59adf7deef85a44b6b1a46928fa",
    "pr": "52093",
    "merge_sha": "d6316963ef49d9509a64adc1cb96630a3326b03c",
    "html": "<p>Only sanitize <code>content</code> attribute when present in attachments.</p>\n\n<p><em>Petrik de Heus</em></p>\n"
  },
  {
    "message": "*   Rename `text_area` methods into `textarea`\n\n    Old names are still available as aliases.\n\n    *Sean Doyle*",
    "project": "actionview",
    "date_merged": 1722446183000,
    "author": "Sean Doyle",
    "sha": "f9c51ec385a7b75e212954cd4b22c2da7c1d32f4",
    "pr": "52467",
    "merge_sha": "fa476ce275262add84d5b46bfffe078031c55cb8",
    "html": "<p>Rename <code>text_area</code> methods into <code>textarea</code></p>\n\n<p>Old names are still available as aliases.</p>\n\n<p><em>Sean Doyle</em></p>\n"
  },
  {
    "message": "*   Rename `check_box*` methods into `checkbox*`.\n\n    Old names are still available as aliases.\n\n    *Jean Boussier*",
    "project": "actionview",
    "date_merged": 1722166825000,
    "author": "Jean Boussier",
    "sha": "038a314ded26d399fd4b0ba25c6024dc72a5f73d",
    "pr": "52432",
    "merge_sha": "c01ee683aa700b109f704a5b6611107fe2dc5476",
    "html": "<p>Rename <code>check_box*</code> methods into <code>checkbox*</code>.</p>\n\n<p>Old names are still available as aliases.</p>\n\n<p><em>Jean Boussier</em></p>\n"
  },
  {
    "message": "*   Add an `identifier` to the event payload for the ActiveSupport::Notification `transmit_subscription_confirmation.action_cable` and `transmit_subscription_rejection.action_cable`.\n\n    *Keith Schacht*",
    "project": "actioncable",
    "date_merged": 1722462576000,
    "author": "Keith Schacht",
    "sha": "52189d25d6ebca22e9e530cf31e49842e85ff7dd",
    "pr": "52421",
    "merge_sha": "bcaac3e8c460e44af67b6a84899f024ebe1c8552",
    "html": "<p>Add an <code>identifier</code> to the event payload for the ActiveSupport::Notification <code>transmit_subscription_confirmation.action_cable</code> and <code>transmit_subscription_rejection.action_cable</code>.</p>\n\n<p><em>Keith Schacht</em></p>\n"
  },
  {
    "message": "*   Fix `Request#raw_post` raising `NoMethodError` when `rack.input` is `nil`.\n\n    *Hartley McGuire*",
    "project": "actionpack",
    "date_merged": 1724271371000,
    "author": "Hartley McGuire",
    "sha": "cd3d94a48ad927b1e9567445529c0dc31424dc59",
    "pr": "52138",
    "merge_sha": "89f9ca77b806f6c4d58f532693ea723d970976d9",
    "html": "<p>Fix <code>Request#raw_post</code> raising <code>NoMethodError</code> when <code>rack.input</code> is <code>nil</code>.</p>\n\n<p><em>Hartley McGuire</em></p>\n"
  },
  {
    "message": "*   Remove `racc` dependency by manually writing `ActionDispatch::Journey::Scanner`.\n\n    *Gannon McGibbon*",
    "project": "actionpack",
    "date_merged": 1723745066000,
    "author": "Gannon McGibbon",
    "sha": "7d42bf68e23b8281ca47f13e93c29e6ce1b6f117",
    "pr": "52610",
    "merge_sha": "36f5a2003f019dc0291ea990e6b1e913eebb20cd",
    "html": "<p>Remove <code>racc</code> dependency by manually writing <code>ActionDispatch::Journey::Scanner</code>.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Speed up `ActionDispatch::Routing::Mapper::Scope#[]` by merging frame hashes.\n\n    *Gannon McGibbon*",
    "project": "actionpack",
    "date_merged": 1723084011000,
    "author": "Gannon McGibbon",
    "sha": "8632cc6a9803bc26af9f3d72fc1415816ef6a649",
    "pr": "52525",
    "merge_sha": "a63bef556547fd7effb1ff84e56680c05d6ae3cf",
    "html": "<p>Speed up <code>ActionDispatch::Routing::Mapper::Scope#[]</code> by merging frame hashes.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Allow bots to ignore `allow_browser`.\n\n    *Matthew Nguyen*",
    "project": "actionpack",
    "date_merged": 1723048186000,
    "author": "Matthew Nguyen",
    "sha": "b7f2b4c18c10915475b53549c1f5ab24bc728914",
    "pr": "52531",
    "merge_sha": "64bb2dc496dfd8da62d656d02c6cb74a1db39478",
    "html": "<p>Allow bots to ignore <code>allow_browser</code>.</p>\n\n<p><em>Matthew Nguyen</em></p>\n"
  },
  {
    "message": "*   Deprecate drawing routes with hash key paths to make routing faster.\n\n    ```ruby\n    # Before\n    get \"/users\" => \"users#index\"\n    post \"/logout\" => :sessions\n    mount MyApp => \"/my_app\"\n\n    # After\n    get \"/users\", to: \"users#index\"\n    post \"/logout\", to: \"sessions#logout\"\n    mount MyApp, at: \"/my_app\"\n    ```\n\n    *Gannon McGibbon*",
    "project": "actionpack",
    "date_merged": 1722450567000,
    "author": "Gannon McGibbon",
    "sha": "1b40bfc8ffeeed0ab2471e272eb6be0940b29dd5",
    "pr": "52422",
    "merge_sha": "38bc323012e1f9856036e6c06d5787e2352ad747",
    "html": "<p>Deprecate drawing routes with hash key paths to make routing faster.</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"c1\"># Before</span>\n<span class=\"n\">get</span> <span class=\"s2\">\"/users\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"users#index\"</span>\n<span class=\"n\">post</span> <span class=\"s2\">\"/logout\"</span> <span class=\"o\">=&gt;</span> <span class=\"ss\">:sessions</span>\n<span class=\"n\">mount</span> <span class=\"no\">MyApp</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"/my_app\"</span>\n\n<span class=\"c1\"># After</span>\n<span class=\"n\">get</span> <span class=\"s2\">\"/users\"</span><span class=\"p\">,</span> <span class=\"ss\">to: </span><span class=\"s2\">\"users#index\"</span>\n<span class=\"n\">post</span> <span class=\"s2\">\"/logout\"</span><span class=\"p\">,</span> <span class=\"ss\">to: </span><span class=\"s2\">\"sessions#logout\"</span>\n<span class=\"n\">mount</span> <span class=\"no\">MyApp</span><span class=\"p\">,</span> <span class=\"ss\">at: </span><span class=\"s2\">\"/my_app\"</span>\n</code></pre></div></div>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Deprecate drawing routes with multiple paths to make routing faster.\n    You may use `with_options` or a loop to make drawing multiple paths easier.\n\n    ```ruby\n    # Before\n    get \"/users\", \"/other_path\", to: \"users#index\"\n\n    # After\n    get \"/users\", to: \"users#index\"\n    get \"/other_path\", to: \"users#index\"\n    ```\n\n    *Gannon McGibbon*",
    "project": "actionpack",
    "date_merged": 1722051737000,
    "author": "Gannon McGibbon",
    "sha": "c40ff507b4ecf2ec84751e42e171fa1edb44f7cc",
    "pr": "52409",
    "merge_sha": "92d92316277ea360cd5fbd7bbba13cf3ad36a9d0",
    "html": "<p>Deprecate drawing routes with multiple paths to make routing faster.<br />\nYou may use <code>with_options</code> or a loop to make drawing multiple paths easier.</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"c1\"># Before</span>\n<span class=\"n\">get</span> <span class=\"s2\">\"/users\"</span><span class=\"p\">,</span> <span class=\"s2\">\"/other_path\"</span><span class=\"p\">,</span> <span class=\"ss\">to: </span><span class=\"s2\">\"users#index\"</span>\n\n<span class=\"c1\"># After</span>\n<span class=\"n\">get</span> <span class=\"s2\">\"/users\"</span><span class=\"p\">,</span> <span class=\"ss\">to: </span><span class=\"s2\">\"users#index\"</span>\n<span class=\"n\">get</span> <span class=\"s2\">\"/other_path\"</span><span class=\"p\">,</span> <span class=\"ss\">to: </span><span class=\"s2\">\"users#index\"</span>\n</code></pre></div></div>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Make `http_cache_forever` use `immutable: true`\n\n    *Nate Matykiewicz*",
    "project": "actionpack",
    "date_merged": 1720289328000,
    "author": "Nate Matykiewicz",
    "sha": "78ad54569bd03b253f5623cf576abed1527cd59e",
    "pr": "52283",
    "merge_sha": "cacf96ecd053f0a3d64c7bf478dac63f98e6aa6d",
    "html": "<p>Make <code>http_cache_forever</code> use <code>immutable: true</code></p>\n\n<p><em>Nate Matykiewicz</em></p>\n"
  },
  {
    "message": "*   Add `config.action_dispatch.strict_freshness`.\n\n    When set to `true`, the `ETag` header takes precedence over the `Last-Modified` header when both are present,\n    as specified by RFC 7232, Section 6.\n\n    Defaults to `false` to maintain compatibility with previous versions of Rails, but is enabled as part of\n    Rails 8.0 defaults.\n\n    *heka1024*",
    "project": "actionpack",
    "date_merged": 1720168066000,
    "author": "heka1024",
    "sha": "fc7637103a7edc723b92a1b7fec297eede0c5cb9",
    "pr": "52274",
    "merge_sha": "126445239fa6d31ab081414a7d6d8d50fdfcb6ce",
    "html": "<p>Add <code>config.action_dispatch.strict_freshness</code>.</p>\n\n<p>When set to <code>true</code>, the <code>ETag</code> header takes precedence over the <code>Last-Modified</code> header when both are present,<br />\nas specified by RFC 7232, Section 6.</p>\n\n<p>Defaults to <code>false</code> to maintain compatibility with previous versions of Rails, but is enabled as part of<br />\nRails 8.0 defaults.</p>\n\n<p><em>heka1024</em></p>\n"
  },
  {
    "message": "*   Support `immutable` directive in Cache-Control\n\n    ```ruby\n    expires_in 1.minute, public: true, immutable: true\n    # Cache-Control: public, max-age=60, immutable\n    ```\n\n    *heka1024*",
    "project": "actionpack",
    "date_merged": 1719433399000,
    "author": "heka1024",
    "sha": "d98cfde86a6461148d8dc93665868b7526532e05",
    "pr": "52197",
    "merge_sha": "999df686de0d129ad7ad4724b6fff94ee6d6131b",
    "html": "<p>Support <code>immutable</code> directive in Cache-Control</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"n\">expires_in</span> <span class=\"mi\">1</span><span class=\"p\">.</span><span class=\"nf\">minute</span><span class=\"p\">,</span> <span class=\"ss\">public: </span><span class=\"kp\">true</span><span class=\"p\">,</span> <span class=\"ss\">immutable: </span><span class=\"kp\">true</span>\n<span class=\"c1\"># Cache-Control: public, max-age=60, immutable</span>\n</code></pre></div></div>\n\n<p><em>heka1024</em></p>\n"
  },
  {
    "message": "*   Add `:wasm_unsafe_eval` mapping for `content_security_policy`\n\n    ```ruby\n    # Before\n    policy.script_src \"'wasm-unsafe-eval'\"\n\n    # After\n    policy.script_src :wasm_unsafe_eval\n    ```\n\n    *Joe Haig*",
    "project": "actionpack",
    "date_merged": 1717017523000,
    "author": "Cyril Blaecke",
    "sha": "6cb41bae10f813799ff85f8b2cda23cab6ae99a9",
    "pr": "51944",
    "merge_sha": "2bdb4828a8b66a00bd1eebc68023d8182a7cdaa0",
    "html": "<p>Add <code>:wasm_unsafe_eval</code> mapping for <code>content_security_policy</code></p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"c1\"># Before</span>\n<span class=\"n\">policy</span><span class=\"p\">.</span><span class=\"nf\">script_src</span> <span class=\"s2\">\"'wasm-unsafe-eval'\"</span>\n\n<span class=\"c1\"># After</span>\n<span class=\"n\">policy</span><span class=\"p\">.</span><span class=\"nf\">script_src</span> <span class=\"ss\">:wasm_unsafe_eval</span>\n</code></pre></div></div>\n\n<p><em>Joe Haig</em></p>\n"
  },
  {
    "message": "*   Add `display_capture` and `keyboard_map` in `permissions_policy`\n\n    *Cyril Blaecke*",
    "project": "actionpack",
    "date_merged": 1717017523000,
    "author": "Cyril Blaecke",
    "sha": "cba374995c6b32d30d01371292e313112ac0868e",
    "pr": "51944",
    "merge_sha": "2bdb4828a8b66a00bd1eebc68023d8182a7cdaa0",
    "html": "<p>Add <code>display_capture</code> and <code>keyboard_map</code> in <code>permissions_policy</code></p>\n\n<p><em>Cyril Blaecke</em></p>\n"
  },
  {
    "message": "*   Add `connect` route helper.\n\n    *Samuel Williams*",
    "project": "actionpack",
    "date_merged": 1723656767000,
    "author": "Samuel Williams",
    "sha": "1c988ae869e2e520cba62a9ec2e2eeb619f47512",
    "pr": "52169",
    "merge_sha": "455cf48c7e0cb8bc5c35d8be88c0c6ad94ce9f62",
    "html": "<p>Add <code>connect</code> route helper.</p>\n\n<p><em>Samuel Williams</em></p>\n"
  },
  {
    "message": "*   Use `RAILS_MAX_THREADS` in `ActiveJob::AsyncAdapter`. If it is not set, use 5 as default.\n\n    *heka1024*",
    "project": "activejob",
    "date_merged": 1722602063000,
    "author": "heka1024",
    "sha": "119411a7e7a198f9e3a14d7f1b497a2a41a1ed5f",
    "pr": "52468",
    "merge_sha": "a0a894cecb3f0ceb3659cdcee73543f31ccf3d78",
    "html": "<p>Use <code>RAILS_MAX_THREADS</code> in <code>ActiveJob::AsyncAdapter</code>. If it is not set, use 5 as default.</p>\n\n<p><em>heka1024</em></p>\n"
  },
  {
    "message": "*   Ensure `ActiveRecord::Encryption.config` is always ready before access.\n\n    Previously, `ActiveRecord::Encryption` configuration was deferred until `ActiveRecord::Base`\n    was loaded. Therefore, accessing `ActiveRecord::Encryption.config` properties before\n    `ActiveRecord::Base` was loaded would give incorrect results.\n\n    `ActiveRecord::Encryption` now has its own loading hook so that its configuration is set as\n    soon as needed.\n\n    When `ActiveRecord::Base` is loaded, even lazily, it in turn triggers the loading of\n    `ActiveRecord::Encryption`, thus preserving the original behavior of having its config ready\n    before any use of `ActiveRecord::Base`.\n\n    *Maxime Réty*",
    "project": "activerecord",
    "date_merged": 1724778573000,
    "author": "maximerety",
    "sha": "6f7f624b84d8cfa8a1d6166878c902d1fcb0655c",
    "pr": "52669",
    "merge_sha": "f24c42d8847e9f78130268405a904510db1d7485",
    "html": "<p>Ensure <code>ActiveRecord::Encryption.config</code> is always ready before access.</p>\n\n<p>Previously, <code>ActiveRecord::Encryption</code> configuration was deferred until <code>ActiveRecord::Base</code><br />\nwas loaded. Therefore, accessing <code>ActiveRecord::Encryption.config</code> properties before<br />\n<code>ActiveRecord::Base</code> was loaded would give incorrect results.</p>\n\n<p><code>ActiveRecord::Encryption</code> now has its own loading hook so that its configuration is set as<br />\nsoon as needed.</p>\n\n<p>When <code>ActiveRecord::Base</code> is loaded, even lazily, it in turn triggers the loading of<br />\n<code>ActiveRecord::Encryption</code>, thus preserving the original behavior of having its config ready<br />\nbefore any use of <code>ActiveRecord::Base</code>.</p>\n\n<p><em>Maxime Réty</em></p>\n"
  },
  {
    "message": "*   Add `TimeZoneConverter#==` method, so objects will be properly compared by\n    their type, scale, limit & precision.\n\n    Address #52699.\n\n    *Ruy Rocha*",
    "project": "activerecord",
    "date_merged": 1724775456000,
    "author": "Ruy R.",
    "sha": "71e5dc35c42f720126be3c53c73708148fa4929e",
    "pr": "52698",
    "merge_sha": "7059d3c7d97ac95fce83d4c727d94f790b8b68c9",
    "html": "<p>Add <code>TimeZoneConverter#==</code> method, so objects will be properly compared by<br />\ntheir type, scale, limit &amp; precision.</p>\n\n<p>Address #52699.</p>\n\n<p><em>Ruy Rocha</em></p>\n"
  },
  {
    "message": "*   Add support for SQLite3 full-text-search and other virtual tables.\n\n    Previously, adding sqlite3 virtual tables messed up `schema.rb`.\n\n    Now, virtual tables can safely be added using `create_virtual_table`.\n\n    *Zacharias Knudsen*",
    "project": "activerecord",
    "date_merged": 1724694550000,
    "author": "Zacharias Knudsen",
    "sha": "1ecb91bb384902d9098761cfbe120b47a416c9c4",
    "pr": "52354",
    "merge_sha": "534b4ab2a65048c5eb558af2ef8ddcd93ff8d88d",
    "html": "<p>Add support for SQLite3 full-text-search and other virtual tables.</p>\n\n<p>Previously, adding sqlite3 virtual tables messed up <code>schema.rb</code>.</p>\n\n<p>Now, virtual tables can safely be added using <code>create_virtual_table</code>.</p>\n\n<p><em>Zacharias Knudsen</em></p>\n"
  },
  {
    "message": "*   Support use of alternative database interfaces via the `database_cli` ActiveRecord configuration option.\n\n    ```ruby\n    Rails.application.configure do\n      config.active_record.database_cli = { postgresql: \"pgcli\" }\n    end\n    ```\n\n    *T S Vallender*",
    "project": "activerecord",
    "date_merged": 1724349497000,
    "author": "Trevor Vallender",
    "sha": "4b2174d67428384a95c1fc908989d2b40487428e",
    "pr": "52656",
    "merge_sha": "a59ddc714fa0403cbd8c7ae6abdec2f71ee7b63f",
    "html": "<p>Support use of alternative database interfaces via the <code>database_cli</code> ActiveRecord configuration option.</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"no\">Rails</span><span class=\"p\">.</span><span class=\"nf\">application</span><span class=\"p\">.</span><span class=\"nf\">configure</span> <span class=\"k\">do</span>\n  <span class=\"n\">config</span><span class=\"p\">.</span><span class=\"nf\">active_record</span><span class=\"p\">.</span><span class=\"nf\">database_cli</span> <span class=\"o\">=</span> <span class=\"p\">{</span> <span class=\"ss\">postgresql: </span><span class=\"s2\">\"pgcli\"</span> <span class=\"p\">}</span>\n<span class=\"k\">end</span>\n</code></pre></div></div>\n\n<p><em>T S Vallender</em></p>\n"
  },
  {
    "message": "*   Add support for dumping table inheritance and native partitioning table definitions for PostgeSQL adapter\n\n    *Justin Talbott*",
    "project": "activerecord",
    "date_merged": 1724346505000,
    "author": "justin talbott",
    "sha": "fba7ef036960fe7a364644ae18db7610aced8c02",
    "pr": "50475",
    "merge_sha": "d4df3d5f81344ed07187eaced049f1c59d624c34",
    "html": "<p>Add support for dumping table inheritance and native partitioning table definitions for PostgeSQL adapter</p>\n\n<p><em>Justin Talbott</em></p>\n"
  },
  {
    "message": "*   Infer default `:inverse_of` option for `delegated_type` definitions.\n\n    ```ruby\n    class Entry < ApplicationRecord\n      delegated_type :entryable, types: %w[ Message ]\n      # => defaults to inverse_of: :entry\n    end\n    ```\n\n    *Sean Doyle*",
    "project": "activerecord",
    "date_merged": 1724269032000,
    "author": "Sean Doyle",
    "sha": "e9ee137d8b62cb43f664de37a02b1747e530c34c",
    "pr": "50280",
    "merge_sha": "dcd4e10698d6832e6f6868792481a0884b9db7b4",
    "html": "<p>Infer default <code>:inverse_of</code> option for <code>delegated_type</code> definitions.</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">Entry</span> <span class=\"o\">&lt;</span> <span class=\"no\">ApplicationRecord</span>\n  <span class=\"n\">delegated_type</span> <span class=\"ss\">:entryable</span><span class=\"p\">,</span> <span class=\"ss\">types: </span><span class=\"sx\">%w[ Message ]</span>\n  <span class=\"c1\"># =&gt; defaults to inverse_of: :entry</span>\n<span class=\"k\">end</span>\n</code></pre></div></div>\n\n<p><em>Sean Doyle</em></p>\n"
  },
  {
    "message": "*   Add support for `ActiveRecord::Point` type casts using `Hash` values\n\n    This allows `ActiveRecord::Point` to be cast or serialized from a hash\n    with `:x` and `:y` keys of numeric values, mirroring the functionality of\n    existing casts for string and array values. Both string and symbol keys are\n    supported.\n\n    ```ruby\n    class PostgresqlPoint < ActiveRecord::Base\n      attribute :x, :point\n      attribute :y, :point\n      attribute :z, :point\n    end\n\n    val = PostgresqlPoint.new({\n      x: '(12.34, -43.21)',\n      y: [12.34, '-43.21'],\n      z: {x: '12.34', y: -43.21}\n    })\n    ActiveRecord::Point.new(12.32, -43.21) == val.x == val.y == val.z\n    ```\n\n    *Stephen Drew*",
    "project": "activerecord",
    "date_merged": 1724265407000,
    "author": "Stephen Drew",
    "sha": "1823d4ab7a154fcc7b6bdc5491508b0a4cd4ab2b",
    "pr": "44841",
    "merge_sha": "af4be52fe411ba9e7bce920e6c210d3c22521532",
    "html": "<p>Add support for <code>ActiveRecord::Point</code> type casts using <code>Hash</code> values</p>\n\n<p>This allows <code>ActiveRecord::Point</code> to be cast or serialized from a hash<br />\nwith <code>:x</code> and <code>:y</code> keys of numeric values, mirroring the functionality of<br />\nexisting casts for string and array values. Both string and symbol keys are<br />\nsupported.</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">PostgresqlPoint</span> <span class=\"o\">&lt;</span> <span class=\"no\">ActiveRecord</span><span class=\"o\">::</span><span class=\"no\">Base</span>\n  <span class=\"n\">attribute</span> <span class=\"ss\">:x</span><span class=\"p\">,</span> <span class=\"ss\">:point</span>\n  <span class=\"n\">attribute</span> <span class=\"ss\">:y</span><span class=\"p\">,</span> <span class=\"ss\">:point</span>\n  <span class=\"n\">attribute</span> <span class=\"ss\">:z</span><span class=\"p\">,</span> <span class=\"ss\">:point</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">val</span> <span class=\"o\">=</span> <span class=\"no\">PostgresqlPoint</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">({</span>\n  <span class=\"ss\">x: </span><span class=\"s1\">'(12.34, -43.21)'</span><span class=\"p\">,</span>\n  <span class=\"ss\">y: </span><span class=\"p\">[</span><span class=\"mf\">12.34</span><span class=\"p\">,</span> <span class=\"s1\">'-43.21'</span><span class=\"p\">],</span>\n  <span class=\"ss\">z: </span><span class=\"p\">{</span><span class=\"ss\">x: </span><span class=\"s1\">'12.34'</span><span class=\"p\">,</span> <span class=\"ss\">y: </span><span class=\"o\">-</span><span class=\"mf\">43.21</span><span class=\"p\">}</span>\n<span class=\"p\">})</span>\n<span class=\"no\">ActiveRecord</span><span class=\"o\">::</span><span class=\"no\">Point</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"mf\">12.32</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">43.21</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"n\">val</span><span class=\"p\">.</span><span class=\"nf\">x</span> <span class=\"o\">==</span> <span class=\"n\">val</span><span class=\"p\">.</span><span class=\"nf\">y</span> <span class=\"o\">==</span> <span class=\"n\">val</span><span class=\"p\">.</span><span class=\"nf\">z</span>\n</code></pre></div></div>\n\n<p><em>Stephen Drew</em></p>\n"
  },
  {
    "message": "*   Replace `SQLite3::Database#busy_timeout` with `#busy_handler_timeout=`.\n\n    Provides a non-GVL-blocking, fair retry interval busy handler implementation.\n\n    *Stephen Margheim*",
    "project": "activerecord",
    "date_merged": 1723908226000,
    "author": "Xavier Noria",
    "sha": "cffb642a0c32949da6454c5fb1f7283846d9ed98",
    "pr": "52636",
    "merge_sha": "02bf1c3ea3de6edeaf9924c0f88c08edbfc94be8",
    "html": "<p>Replace <code>SQLite3::Database#busy_timeout</code> with <code>#busy_handler_timeout=</code>.</p>\n\n<p>Provides a non-GVL-blocking, fair retry interval busy handler implementation.</p>\n\n<p><em>Stephen Margheim</em></p>\n"
  },
  {
    "message": "*   SQLite3Adapter: Translate `SQLite3::BusyException` into `ActiveRecord::StatementTimeout`.\n\n    *Matthew Nguyen*",
    "project": "activerecord",
    "date_merged": 1723808954000,
    "author": "Matthew Nguyen",
    "sha": "41c547cb4734d5b21c32ebde78be6a145c9216a3",
    "pr": "52577",
    "merge_sha": "8bf495a6226089e0cd67acfb66a59654cf4fe0f7",
    "html": "<p>SQLite3Adapter: Translate <code>SQLite3::BusyException</code> into <code>ActiveRecord::StatementTimeout</code>.</p>\n\n<p><em>Matthew Nguyen</em></p>\n"
  },
  {
    "message": "*   Include schema name in `enable_extension` statements in `db/schema.rb`.\n\n    The schema dumper will now include the schema name in generated\n    `enable_extension` statements if they differ from the current schema.\n\n    For example, if you have a migration:\n\n    ```ruby\n    enable_extension \"heroku_ext.pgcrypto\"\n    enable_extension \"pg_stat_statements\"\n    ```\n\n    then the generated schema dump will also contain:\n\n    ```ruby\n    enable_extension \"heroku_ext.pgcrypto\"\n    enable_extension \"pg_stat_statements\"\n    ```\n\n    *Tony Novak*",
    "project": "activerecord",
    "date_merged": 1723681776000,
    "author": "Tony Novak",
    "sha": "2ea8e89fd1b8bb07162a0fe4e5b2f6349d8bad48",
    "pr": "52313",
    "merge_sha": "c44d7ae6b1e0292a95a27b7a5573f4dec99e06f0",
    "html": "<p>Include schema name in <code>enable_extension</code> statements in <code>db/schema.rb</code>.</p>\n\n<p>The schema dumper will now include the schema name in generated<br />\n<code>enable_extension</code> statements if they differ from the current schema.</p>\n\n<p>For example, if you have a migration:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"n\">enable_extension</span> <span class=\"s2\">\"heroku_ext.pgcrypto\"</span>\n<span class=\"n\">enable_extension</span> <span class=\"s2\">\"pg_stat_statements\"</span>\n</code></pre></div></div>\n\n<p>then the generated schema dump will also contain:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"n\">enable_extension</span> <span class=\"s2\">\"heroku_ext.pgcrypto\"</span>\n<span class=\"n\">enable_extension</span> <span class=\"s2\">\"pg_stat_statements\"</span>\n</code></pre></div></div>\n\n<p><em>Tony Novak</em></p>\n"
  },
  {
    "message": "*   Fix `ActiveRecord::Encryption::EncryptedAttributeType#type` to return\n    actual cast type.\n\n    *Vasiliy Ermolovich*",
    "project": "activerecord",
    "date_merged": 1723656767000,
    "author": "Vasiliy Ermolovich",
    "sha": "eaa74eedba945e1bdcedd7fa6ac38c6493edd735",
    "pr": "52247",
    "merge_sha": "455cf48c7e0cb8bc5c35d8be88c0c6ad94ce9f62",
    "html": "<p>Fix <code>ActiveRecord::Encryption::EncryptedAttributeType#type</code> to return<br />\nactual cast type.</p>\n\n<p><em>Vasiliy Ermolovich</em></p>\n"
  },
  {
    "message": "*   SQLite3Adapter: Bulk insert fixtures.\n\n    Previously one insert command was executed for each fixture, now they are\n    aggregated in a single bulk insert command.\n\n    *Lázaro Nixon*",
    "project": "activerecord",
    "date_merged": 1723362353000,
    "author": "Nixon",
    "sha": "90b1108a646250c735548ebae3f96674313e53ae",
    "pr": "52562",
    "merge_sha": "5544762cb33ed28030f98bed73a031f745763275",
    "html": "<p>SQLite3Adapter: Bulk insert fixtures.</p>\n\n<p>Previously one insert command was executed for each fixture, now they are<br />\naggregated in a single bulk insert command.</p>\n\n<p><em>Lázaro Nixon</em></p>\n"
  },
  {
    "message": "*   PostgreSQLAdapter: Allow `disable_extension` to be called with schema-qualified name.\n\n    For parity with `enable_extension`, the `disable_extension` method can be called with a schema-qualified\n    name (e.g. `disable_extension \"myschema.pgcrypto\"`). Note that PostgreSQL's `DROP EXTENSION` does not\n    actually take a schema name (unlike `CREATE EXTENSION`), so the resulting SQL statement will only name\n    the extension, e.g. `DROP EXTENSION IF EXISTS \"pgcrypto\"`.\n\n    *Tony Novak*",
    "project": "activerecord",
    "date_merged": 1723017906000,
    "author": "Tony Novak",
    "sha": "eb6d1709fe33592ed827af177d93590d1124c1ed",
    "pr": "52452",
    "merge_sha": "cd912ad0bf1ff5f27e385bed4b33e222b72a88e0",
    "html": "<p>PostgreSQLAdapter: Allow <code>disable_extension</code> to be called with schema-qualified name.</p>\n\n<p>For parity with <code>enable_extension</code>, the <code>disable_extension</code> method can be called with a schema-qualified<br />\nname (e.g. <code>disable_extension \"myschema.pgcrypto\"</code>). Note that PostgreSQL’s <code>DROP EXTENSION</code> does not<br />\nactually take a schema name (unlike <code>CREATE EXTENSION</code>), so the resulting SQL statement will only name<br />\nthe extension, e.g. <code>DROP EXTENSION IF EXISTS \"pgcrypto\"</code>.</p>\n\n<p><em>Tony Novak</em></p>\n"
  },
  {
    "message": "*   Make `create_schema` / `drop_schema` reversible in migrations.\n\n    Previously, `create_schema` and `drop_schema` were irreversible migration operations.\n\n    *Tony Novak*",
    "project": "activerecord",
    "date_merged": 1722602264000,
    "author": "Tony Novak",
    "sha": "e800fc683dddd0113cd855352a8b2daad892abc0",
    "pr": "52451",
    "merge_sha": "7a0bf93b9dd291c7f61121a41b3a813ac8857e6a",
    "html": "<p>Make <code>create_schema</code> / <code>drop_schema</code> reversible in migrations.</p>\n\n<p>Previously, <code>create_schema</code> and <code>drop_schema</code> were irreversible migration operations.</p>\n\n<p><em>Tony Novak</em></p>\n"
  },
  {
    "message": "*   Support batching using custom columns.\n\n    ```ruby\n    Product.in_batches(cursor: [:shop_id, :id]) do |relation|\n      # do something with relation\n    end\n    ```\n\n    *fatkodima*",
    "project": "activerecord",
    "date_merged": 1722289384000,
    "author": "fatkodima",
    "sha": "fd52a754f2c6e234ee46834c63cfde02a368d5c6",
    "pr": "52384",
    "merge_sha": "bba9cbae2f8ab0e564cbccf852ba0d34848874db",
    "html": "<p>Support batching using custom columns.</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"no\">Product</span><span class=\"p\">.</span><span class=\"nf\">in_batches</span><span class=\"p\">(</span><span class=\"ss\">cursor: </span><span class=\"p\">[</span><span class=\"ss\">:shop_id</span><span class=\"p\">,</span> <span class=\"ss\">:id</span><span class=\"p\">])</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">relation</span><span class=\"o\">|</span>\n  <span class=\"c1\"># do something with relation</span>\n<span class=\"k\">end</span>\n</code></pre></div></div>\n\n<p><em>fatkodima</em></p>\n"
  },
  {
    "message": "*   Use SQLite `IMMEDIATE` transactions when possible.\n\n    Transactions run against the SQLite3 adapter default to IMMEDIATE mode to improve concurrency support and avoid busy exceptions.\n\n    *Stephen Margheim*",
    "project": "activerecord",
    "date_merged": 1721978138000,
    "author": "Stephen Margheim",
    "sha": "1e2c9048c46c9a8692046e5a429a085b55f01449",
    "pr": "50371",
    "merge_sha": "def0397e595c503099e3c10bd811d5d9e3613b38",
    "html": "<p>Use SQLite <code>IMMEDIATE</code> transactions when possible.</p>\n\n<p>Transactions run against the SQLite3 adapter default to IMMEDIATE mode to improve concurrency support and avoid busy exceptions.</p>\n\n<p><em>Stephen Margheim</em></p>\n"
  },
  {
    "message": "*   Raise specific exception when a connection is not defined.\n\n     The new `ConnectionNotDefined` exception provides connection name, shard and role accessors indicating the details of the connection that was requested.\n\n    *Hana Harencarova*, *Matthew Draper*",
    "project": "activerecord",
    "date_merged": 1721163420000,
    "author": "Hana Harencarova",
    "sha": "0bdf44d921ff983312c344b73efcd14a7152434e",
    "pr": "52298",
    "merge_sha": "e6ca80ee0d3db6d0d78a2e54119076d02213c6a7",
    "html": "<p>Raise specific exception when a connection is not defined.</p>\n\n<p>The new <code>ConnectionNotDefined</code> exception provides connection name, shard and role accessors indicating the details of the connection that was requested.</p>\n\n<p><em>Hana Harencarova</em>, <em>Matthew Draper</em></p>\n"
  },
  {
    "message": "*   Delete the deprecated constant `ActiveRecord::ImmutableRelation`.\n\n    *Xavier Noria*",
    "project": "activerecord",
    "date_merged": 1720870104000,
    "author": "Xavier Noria",
    "sha": "32c5a358bb2116c0d23bb2246f75180151b6f61b",
    "pr": "52321",
    "merge_sha": "e1f8909c66aee3afc91ba8d0d63d2df104bc9260",
    "html": "<p>Delete the deprecated constant <code>ActiveRecord::ImmutableRelation</code>.</p>\n\n<p><em>Xavier Noria</em></p>\n"
  },
  {
    "message": "*   Fix duplicate callback execution when child autosaves parent with `has_one` and `belongs_to`.\n\n    Before, persisting a new child record with a new associated parent record would run `before_validation`,\n    `after_validation`, `before_save` and `after_save` callbacks twice.\n\n    Now, these callbacks are only executed once as expected.\n\n    *Joshua Young*",
    "project": "activerecord",
    "date_merged": 1720458047000,
    "author": "Joshua Young",
    "sha": "154f4a4ba96b8f22e87084c2a82192e51c3a2362",
    "pr": "49847",
    "merge_sha": "16f1222753cac0a554a2acd8f4ffa3f23d51d945",
    "html": "<p>Fix duplicate callback execution when child autosaves parent with <code>has_one</code> and <code>belongs_to</code>.</p>\n\n<p>Before, persisting a new child record with a new associated parent record would run <code>before_validation</code>,<br />\n<code>after_validation</code>, <code>before_save</code> and <code>after_save</code> callbacks twice.</p>\n\n<p>Now, these callbacks are only executed once as expected.</p>\n\n<p><em>Joshua Young</em></p>\n"
  },
  {
    "message": "*   `ActiveRecord::Encryption::Encryptor` now supports a `:compressor` option to customize the compression algorithm used.\n\n    ```ruby\n    module ZstdCompressor\n      def self.deflate(data)\n        Zstd.compress(data)\n      end\n\n      def self.inflate(data)\n        Zstd.decompress(data)\n      end\n    end\n\n    class User\n      encrypts :name, compressor: ZstdCompressor\n    end\n    ```\n\n    You disable compression by passing `compress: false`.\n\n    ```ruby\n    class User\n      encrypts :name, compress: false\n    end\n    ```\n\n    *heka1024*",
    "project": "activerecord",
    "date_merged": 1720010353000,
    "author": "heka1024",
    "sha": "75421601ceeec4d7fd41bebb313c7765f1e6e4c7",
    "pr": "51735",
    "merge_sha": "71e14aa7e9d48a88b4e39322f1c6485e21511221",
    "html": "<p><code>ActiveRecord::Encryption::Encryptor</code> now supports a <code>:compressor</code> option to customize the compression algorithm used.</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"k\">module</span> <span class=\"nn\">ZstdCompressor</span>\n  <span class=\"k\">def</span> <span class=\"nc\">self</span><span class=\"o\">.</span><span class=\"nf\">deflate</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n    <span class=\"no\">Zstd</span><span class=\"p\">.</span><span class=\"nf\">compress</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"nc\">self</span><span class=\"o\">.</span><span class=\"nf\">inflate</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n    <span class=\"no\">Zstd</span><span class=\"p\">.</span><span class=\"nf\">decompress</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">User</span>\n  <span class=\"n\">encrypts</span> <span class=\"ss\">:name</span><span class=\"p\">,</span> <span class=\"ss\">compressor: </span><span class=\"no\">ZstdCompressor</span>\n<span class=\"k\">end</span>\n</code></pre></div></div>\n\n<p>You disable compression by passing <code>compress: false</code>.</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">User</span>\n  <span class=\"n\">encrypts</span> <span class=\"ss\">:name</span><span class=\"p\">,</span> <span class=\"ss\">compress: </span><span class=\"kp\">false</span>\n<span class=\"k\">end</span>\n</code></pre></div></div>\n\n<p><em>heka1024</em></p>\n"
  },
  {
    "message": "*   Add condensed `#inspect` for `ConnectionPool`, `AbstractAdapter`, and\n    `DatabaseConfig`.\n\n    *Hartley McGuire*",
    "project": "activerecord",
    "date_merged": 1719006353000,
    "author": "Hartley McGuire",
    "sha": "5c8172554ff6d50b491d40f9c4b2a949aa537a0a",
    "pr": "50405",
    "merge_sha": "5bec50bc70380bb1e70e8fb0a1654130042b1f16",
    "html": "<p>Add condensed <code>#inspect</code> for <code>ConnectionPool</code>, <code>AbstractAdapter</code>, and<br />\n<code>DatabaseConfig</code>.</p>\n\n<p><em>Hartley McGuire</em></p>\n"
  },
  {
    "message": "*   Add `.shard_keys`, `.sharded?`, & `.connected_to_all_shards` methods.\n\n    ```ruby\n    class ShardedBase < ActiveRecord::Base\n        self.abstract_class = true\n\n        connects_to shards: {\n          shard_one: { writing: :shard_one },\n          shard_two: { writing: :shard_two }\n        }\n    end\n\n    class ShardedModel < ShardedBase\n    end\n\n    ShardedModel.shard_keys => [:shard_one, :shard_two]\n    ShardedModel.sharded? => true\n    ShardedBase.connected_to_all_shards { ShardedModel.current_shard } => [:shard_one, :shard_two]\n    ```\n\n    *Nony Dutton*",
    "project": "activerecord",
    "date_merged": 1718714723000,
    "author": "Nony Dutton",
    "sha": "77cf5e6d927fd8f5db793be32bb625ac791e5824",
    "pr": "51009",
    "merge_sha": "ff0ef93e28d4919ffd8bf130132b7b7e3435c67a",
    "html": "<p>Add <code>.shard_keys</code>, <code>.sharded?</code>, &amp; <code>.connected_to_all_shards</code> methods.</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">ShardedBase</span> <span class=\"o\">&lt;</span> <span class=\"no\">ActiveRecord</span><span class=\"o\">::</span><span class=\"no\">Base</span>\n    <span class=\"nb\">self</span><span class=\"p\">.</span><span class=\"nf\">abstract_class</span> <span class=\"o\">=</span> <span class=\"kp\">true</span>\n\n    <span class=\"n\">connects_to</span> <span class=\"ss\">shards: </span><span class=\"p\">{</span>\n      <span class=\"ss\">shard_one: </span><span class=\"p\">{</span> <span class=\"ss\">writing: :shard_one</span> <span class=\"p\">},</span>\n      <span class=\"ss\">shard_two: </span><span class=\"p\">{</span> <span class=\"ss\">writing: :shard_two</span> <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n<span class=\"k\">end</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">ShardedModel</span> <span class=\"o\">&lt;</span> <span class=\"no\">ShardedBase</span>\n<span class=\"k\">end</span>\n\n<span class=\"no\">ShardedModel</span><span class=\"p\">.</span><span class=\"nf\">shard_keys</span> <span class=\"o\">=&gt;</span> <span class=\"p\">[</span><span class=\"ss\">:shard_one</span><span class=\"p\">,</span> <span class=\"ss\">:shard_two</span><span class=\"p\">]</span>\n<span class=\"no\">ShardedModel</span><span class=\"p\">.</span><span class=\"nf\">sharded?</span> <span class=\"o\">=&gt;</span> <span class=\"kp\">true</span>\n<span class=\"no\">ShardedBase</span><span class=\"p\">.</span><span class=\"nf\">connected_to_all_shards</span> <span class=\"p\">{</span> <span class=\"no\">ShardedModel</span><span class=\"p\">.</span><span class=\"nf\">current_shard</span> <span class=\"p\">}</span> <span class=\"o\">=&gt;</span> <span class=\"p\">[</span><span class=\"ss\">:shard_one</span><span class=\"p\">,</span> <span class=\"ss\">:shard_two</span><span class=\"p\">]</span>\n</code></pre></div></div>\n\n<p><em>Nony Dutton</em></p>\n"
  },
  {
    "message": "*   Add a `filter` option to `in_order_of` to prioritize certain values in the sorting without filtering the results\n    by these values.\n\n    *Igor Depolli*",
    "project": "activerecord",
    "date_merged": 1718230877000,
    "author": "Igor Depolli",
    "sha": "00f38563a4e09036a4e00a44b264441e3cc4073a",
    "pr": "51761",
    "merge_sha": "827f4ef15cfde1c42d75ed9521023a5c5cfe91d6",
    "html": "<p>Add a <code>filter</code> option to <code>in_order_of</code> to prioritize certain values in the sorting without filtering the results<br />\nby these values.</p>\n\n<p><em>Igor Depolli</em></p>\n"
  },
  {
    "message": "*   Fix an issue where the IDs reader method did not return expected results\n    for preloaded associations in models using composite primary keys.\n\n    *Jay Ang*",
    "project": "activerecord",
    "date_merged": 1717599308000,
    "author": "Jay Ang",
    "sha": "3e371c6dd6077efa21aeea98cdd14b79822403a2",
    "pr": "51167",
    "merge_sha": "5dabff4b7bf4cc5e2e552efb78c6a3f3e44bed37",
    "html": "<p>Fix an issue where the IDs reader method did not return expected results<br />\nfor preloaded associations in models using composite primary keys.</p>\n\n<p><em>Jay Ang</em></p>\n"
  },
  {
    "message": "*   Allow to configure `strict_loading_mode` globally or within a model.\n\n    Defaults to `:all`, can be changed to `:n_plus_one_only`.\n\n    *Garen Torikian*",
    "project": "activerecord",
    "date_merged": 1717420324000,
    "author": "Garen J. Torikian",
    "sha": "5ff9915db9464654ece43dce02232e8480f4a770",
    "pr": "51339",
    "merge_sha": "9cafa55ddd327d6da15073b4caca80305e3ce035",
    "html": "<p>Allow to configure <code>strict_loading_mode</code> globally or within a model.</p>\n\n<p>Defaults to <code>:all</code>, can be changed to <code>:n_plus_one_only</code>.</p>\n\n<p><em>Garen Torikian</em></p>\n"
  },
  {
    "message": "*   Add `ActiveRecord::Relation#readonly?`.\n\n    Reflects if the relation has been marked as readonly.\n\n    *Theodor Tonum*",
    "project": "activerecord",
    "date_merged": 1717009524000,
    "author": "Carlos Antonio da Silva",
    "sha": "e12ba4d5396089633708702ee4513a4b717acac6",
    "pr": "51943",
    "merge_sha": "f3b154de0297b690d5ee101704b012bc00d4e745",
    "html": "<p>Add <code>ActiveRecord::Relation#readonly?</code>.</p>\n\n<p>Reflects if the relation has been marked as readonly.</p>\n\n<p><em>Theodor Tonum</em></p>\n"
  },
  {
    "message": "*   Improve `ActiveRecord::Store` to raise a descriptive exception if the column is not either\n    structured (e.g., PostgreSQL +hstore+/+json+, or MySQL +json+) or declared serializable via\n    `ActiveRecord.store`.\n\n    Previously, a `NoMethodError` would be raised when the accessor was read or written:\n\n        NoMethodError: undefined method `accessor' for an instance of ActiveRecord::Type::Text\n\n    Now, a descriptive `ConfigurationError` is raised:\n\n        ActiveRecord::ConfigurationError: the column 'metadata' has not been configured as a store.\n          Please make sure the column is declared serializable via 'ActiveRecord.store' or, if your\n          database supports it, use a structured column type like hstore or json.\n\n    *Mike Dalessio*",
    "project": "activerecord",
    "date_merged": 1716532482000,
    "author": "Mike Dalessio",
    "sha": "2bf7e25243c85e7c5e32f91007f6827a2491067d",
    "pr": "51898",
    "merge_sha": "272aa3bd15c84c875e73592669a5c9007e1b12e4",
    "html": "<p>Improve <code>ActiveRecord::Store</code> to raise a descriptive exception if the column is not either<br />\nstructured (e.g., PostgreSQL +hstore+/+json+, or MySQL +json+) or declared serializable via<br />\n<code>ActiveRecord.store</code>.</p>\n\n<p>Previously, a <code>NoMethodError</code> would be raised when the accessor was read or written:</p>\n\n<pre><code>NoMethodError: undefined method `accessor' for an instance of ActiveRecord::Type::Text\n</code></pre>\n\n<p>Now, a descriptive <code>ConfigurationError</code> is raised:</p>\n\n<pre><code>ActiveRecord::ConfigurationError: the column 'metadata' has not been configured as a store.\n  Please make sure the column is declared serializable via 'ActiveRecord.store' or, if your\n  database supports it, use a structured column type like hstore or json.\n</code></pre>\n\n<p><em>Mike Dalessio</em></p>\n"
  },
  {
    "message": "*   Fix inference of association model on nested models with the same demodularized name.\n\n    E.g. with the following setup:\n\n    ```ruby\n    class Nested::Post < ApplicationRecord\n      has_one :post, through: :other\n    end\n    ```\n\n    Before, `#post` would infer the model as `Nested::Post`, but now it correctly infers `Post`.\n\n    *Joshua Young*",
    "project": "activerecord",
    "date_merged": 1716421574000,
    "author": "Joshua Young",
    "sha": "0516eafda2f744f1e01631305b94c2e7582442de",
    "pr": "51720",
    "merge_sha": "cacb8475a9d4373c0db437e7be4905685f03cefa",
    "html": "<p>Fix inference of association model on nested models with the same demodularized name.</p>\n\n<p>E.g. with the following setup:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">Nested::Post</span> <span class=\"o\">&lt;</span> <span class=\"no\">ApplicationRecord</span>\n  <span class=\"n\">has_one</span> <span class=\"ss\">:post</span><span class=\"p\">,</span> <span class=\"ss\">through: :other</span>\n<span class=\"k\">end</span>\n</code></pre></div></div>\n\n<p>Before, <code>#post</code> would infer the model as <code>Nested::Post</code>, but now it correctly infers <code>Post</code>.</p>\n\n<p><em>Joshua Young</em></p>\n"
  },
  {
    "message": "*   Add public method for checking if a table is ignored by the schema cache.\n\n    Previously, an application would need to reimplement `ignored_table?` from the schema cache class to check if a table was set to be ignored. This adds a public method to support this and updates the schema cache to use that directly.\n\n    ```ruby\n    ActiveRecord.schema_cache_ignored_tables = [\"developers\"]\n    ActiveRecord.schema_cache_ignored_table?(\"developers\")\n    => true\n    ```\n\n    *Eileen M. Uchitelle*",
    "project": "activerecord",
    "date_merged": 1716320031000,
    "author": "eileencodes",
    "sha": "e815c6663a99e277c43d5f132bcbae71d342a41d",
    "pr": "51878",
    "merge_sha": "2281edf99e3583b1ff7ae636906f681d80dab603",
    "html": "<p>Add public method for checking if a table is ignored by the schema cache.</p>\n\n<p>Previously, an application would need to reimplement <code>ignored_table?</code> from the schema cache class to check if a table was set to be ignored. This adds a public method to support this and updates the schema cache to use that directly.</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"no\">ActiveRecord</span><span class=\"p\">.</span><span class=\"nf\">schema_cache_ignored_tables</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s2\">\"developers\"</span><span class=\"p\">]</span>\n<span class=\"no\">ActiveRecord</span><span class=\"p\">.</span><span class=\"nf\">schema_cache_ignored_table?</span><span class=\"p\">(</span><span class=\"s2\">\"developers\"</span><span class=\"p\">)</span>\n<span class=\"o\">=&gt;</span> <span class=\"kp\">true</span>\n</code></pre></div></div>\n\n<p><em>Eileen M. Uchitelle</em></p>\n"
  },
  {
    "message": "*   `ActiveSupport::ErrorReporter#report` now assigns a backtrace to unraised exceptions.\n\n    Previously reporting an un-raised exception would result in an error report without\n    a backtrace. Now it automatically generates one.\n\n    *Jean Boussier*",
    "project": "activesupport",
    "date_merged": 1724409254000,
    "author": "Jean Boussier",
    "sha": "b1d8cf59d9b3c51fde5dd96ceb829d36b8e28c86",
    "pr": "52684",
    "merge_sha": "0794abb6bb95f0904cb0a6a605ddb24863aa809e",
    "html": "<p><code>ActiveSupport::ErrorReporter#report</code> now assigns a backtrace to unraised exceptions.</p>\n\n<p>Previously reporting an un-raised exception would result in an error report without<br />\na backtrace. Now it automatically generates one.</p>\n\n<p><em>Jean Boussier</em></p>\n"
  },
  {
    "message": "*   Add `escape_html_entities` option to `ActiveSupport::JSON.encode`.\n\n    This allows for overriding the global configuration found at\n    `ActiveSupport.escape_html_entities_in_json` for specific calls to `to_json`.\n\n    This should be usable from controllers in the following manner:\n    ```ruby\n    class MyController < ApplicationController\n      def index\n        render json: { hello: \"world\" }, escape_html_entities: false\n      end\n    end\n    ```\n\n    *Nigel Baillie*",
    "project": "activesupport",
    "date_merged": 1723368858000,
    "author": "Nigel Baillie",
    "sha": "bdbc8889e219814f1dc6bf847e9b88f4312aecf0",
    "pr": "51272",
    "merge_sha": "8ebd0a4e1efc65ffc1d6aaa32930c7c1d921feff",
    "html": "<p>Add <code>escape_html_entities</code> option to <code>ActiveSupport::JSON.encode</code>.</p>\n\n<p>This allows for overriding the global configuration found at<br />\n<code>ActiveSupport.escape_html_entities_in_json</code> for specific calls to <code>to_json</code>.</p>\n\n<p>This should be usable from controllers in the following manner:</p>\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">MyController</span> <span class=\"o\">&lt;</span> <span class=\"no\">ApplicationController</span>\n  <span class=\"k\">def</span> <span class=\"nf\">index</span>\n    <span class=\"n\">render</span> <span class=\"ss\">json: </span><span class=\"p\">{</span> <span class=\"ss\">hello: </span><span class=\"s2\">\"world\"</span> <span class=\"p\">},</span> <span class=\"ss\">escape_html_entities: </span><span class=\"kp\">false</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n</code></pre></div></div>\n\n<p><em>Nigel Baillie</em></p>\n"
  },
  {
    "message": "*   Raise when using key which can't respond to `#to_sym` in `EncryptedConfiguration`.\n\n    As is the case when trying to use an Integer or Float as a key, which is unsupported.\n\n    *zzak*",
    "project": "activesupport",
    "date_merged": 1723367846000,
    "author": "zzak",
    "sha": "1571041bf5fbbfee33f6b4fa276a449221e9cc4c",
    "pr": "51950",
    "merge_sha": "bd24e3dd221646fb62d32ba6a9d787e46052e064",
    "html": "<p>Raise when using key which can’t respond to <code>#to_sym</code> in <code>EncryptedConfiguration</code>.</p>\n\n<p>As is the case when trying to use an Integer or Float as a key, which is unsupported.</p>\n\n<p><em>zzak</em></p>\n"
  },
  {
    "message": "*   Deprecate addition and since between two `Time` and `ActiveSupport::TimeWithZone`.\n\n    Previously adding time instances together such as `10.days.ago + 10.days.ago` or `10.days.ago.since(10.days.ago)` produced a nonsensical future date. This behavior is deprecated and will be removed in Rails 8.1.\n\n    *Nick Schwaderer*",
    "project": "activesupport",
    "date_merged": 1721427926000,
    "author": "John Hawthorn",
    "sha": "3df676878a8a9e13f8a0cc9b44f17dada10740e5",
    "pr": "52370",
    "merge_sha": "e0a9ef12b39a4871d8f143dae926931b3c3a0919",
    "html": "<p>Deprecate addition and since between two <code>Time</code> and <code>ActiveSupport::TimeWithZone</code>.</p>\n\n<p>Previously adding time instances together such as <code>10.days.ago + 10.days.ago</code> or <code>10.days.ago.since(10.days.ago)</code> produced a nonsensical future date. This behavior is deprecated and will be removed in Rails 8.1.</p>\n\n<p><em>Nick Schwaderer</em></p>\n"
  },
  {
    "message": "*   Support rfc2822 format for Time#to_fs & Date#to_fs.\n\n    *Akshay Birajdar*",
    "project": "activesupport",
    "date_merged": 1721134851000,
    "author": "Akshay Birajdar",
    "sha": "26575aa19c04e81ef196ff5bd97d9aa2d3ed8417",
    "pr": "52337",
    "merge_sha": "f805b35c1b2cfc9bb303eab8374f9544792f7761",
    "html": "<p>Support rfc2822 format for Time#to_fs &amp; Date#to_fs.</p>\n\n<p><em>Akshay Birajdar</em></p>\n"
  },
  {
    "message": "*   Optimize load time for `Railtie#initialize_i18n`. Filter `I18n.load_path`s passed to the file watcher to only those\n    under `Rails.root`. Previously the watcher would grab all available locales, including those in gems\n    which do not require a watcher because they won't change.\n\n    *Nick Schwaderer*",
    "project": "activesupport",
    "date_merged": 1720720820000,
    "author": "Nick Schwaderer",
    "sha": "e61704612471ae01076ff454c57164127b088d83",
    "pr": "52271",
    "merge_sha": "36b2dbfc1d722128c05eb6d6506c7d435ba5b55d",
    "html": "<p>Optimize load time for <code>Railtie#initialize_i18n</code>. Filter <code>I18n.load_path</code>s passed to the file watcher to only those<br />\nunder <code>Rails.root</code>. Previously the watcher would grab all available locales, including those in gems<br />\nwhich do not require a watcher because they won’t change.</p>\n\n<p><em>Nick Schwaderer</em></p>\n"
  },
  {
    "message": "*   Add a `filter` option to `in_order_of` to prioritize certain values in the sorting without filtering the results\n    by these values.\n\n    *Igor Depolli*",
    "project": "activesupport",
    "date_merged": 1718230877000,
    "author": "Igor Depolli",
    "sha": "4813a0f0361c3407a681fa63632a336a9854028b",
    "pr": "52072",
    "merge_sha": "827f4ef15cfde1c42d75ed9521023a5c5cfe91d6",
    "html": "<p>Add a <code>filter</code> option to <code>in_order_of</code> to prioritize certain values in the sorting without filtering the results<br />\nby these values.</p>\n\n<p><em>Igor Depolli</em></p>\n"
  },
  {
    "message": "*   Improve error message when using `assert_difference` or `assert_changes` with a\n    proc by printing the proc's source code (MRI only).\n\n    *Richard Böhme*, *Jean Boussier*",
    "project": "activesupport",
    "date_merged": 1717923228000,
    "author": "Richard Böhme",
    "sha": "38e9695c10f822caaa54e399833c346249660005",
    "pr": "52036",
    "merge_sha": "e3ea4c74124f1de38897732f1ddb1f9a1d57e80d",
    "html": "<p>Improve error message when using <code>assert_difference</code> or <code>assert_changes</code> with a<br />\nproc by printing the proc’s source code (MRI only).</p>\n\n<p><em>Richard Böhme</em>, <em>Jean Boussier</em></p>\n"
  },
  {
    "message": "*   Add a new configuration value `:zone` for `ActiveSupport.to_time_preserves_timezone` and rename the previous `true` value to `:offset`. The new default value is `:zone`.\n\n    *Jason Kim*, *John Hawthorn*",
    "project": "activesupport",
    "date_merged": 1719432965000,
    "author": "Jason Kim",
    "sha": "9dcf17ec4c51722b5ab8146c5a714242cc0716ba",
    "pr": "52091",
    "merge_sha": "716e4a7d326c36fc44d4a6fcab7a21313ab3b2df",
    "html": "<p>Add a new configuration value <code>:zone</code> for <code>ActiveSupport.to_time_preserves_timezone</code> and rename the previous <code>true</code> value to <code>:offset</code>. The new default value is <code>:zone</code>.</p>\n\n<p><em>Jason Kim</em>, <em>John Hawthorn</em></p>\n"
  }
]
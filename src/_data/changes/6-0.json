[
  {
    "message": "*   Allow Content Security Policy DSL to generate for API responses.\n\n    *Tim Wade*",
    "project": "actionpack",
    "date_merged": 1651004370000,
    "author": "Aaron Patterson",
    "sha": "5299b57d596ea274f77f5ffee2b79c6ee0255508",
    "pr": null,
    "merge_sha": "23f8485dced9be73877ae98a6554c7d34156866b",
    "html": "<p>Allow Content Security Policy DSL to generate for API responses.</p>\n\n<p><em>Tim Wade</em></p>\n"
  },
  {
    "message": "*   Under certain circumstances, the middleware isn't informed that the\n    response body has been fully closed which result in request state not\n    being fully reset before the next request\n\n    [CVE-2022-23633]",
    "project": "actionpack",
    "date_merged": 1644605315000,
    "author": "Aaron Patterson",
    "sha": "1f1ef60c511e45f45a190ec13d6196e1cec0294d",
    "pr": null,
    "merge_sha": "cac7846c1c46164f071f100e243b6d10756fe3dd",
    "html": "<p>Under certain circumstances, the middleware isn’t informed that the<br />\nresponse body has been fully closed which result in request state not<br />\nbeing fully reset before the next request</p>\n\n<p>[CVE-2022-23633]</p>\n"
  },
  {
    "message": "*   Fix issue with host protection not allowing host with port in development.",
    "project": "actionpack",
    "date_merged": 1639608563000,
    "author": "Rafael Mendonça França",
    "sha": "34bd524a9d7580ceecbf4a6dd9dced6296e20f97",
    "pr": null,
    "merge_sha": "997d5fd47e12a5efc1a6eafffb0854b29908c587",
    "html": "<p>Fix issue with host protection not allowing host with port in development.</p>\n"
  },
  {
    "message": "*   Fix issue with host protection not allowing localhost in development.",
    "project": "actionpack",
    "date_merged": 1639608563000,
    "author": "Rafael Mendonça França",
    "sha": "34bd524a9d7580ceecbf4a6dd9dced6296e20f97",
    "pr": null,
    "merge_sha": "997d5fd47e12a5efc1a6eafffb0854b29908c587",
    "html": "<p>Fix issue with host protection not allowing localhost in development.</p>\n"
  },
  {
    "message": "*   Fix X_FORWARDED_HOST protection.  [CVE-2021-44528]",
    "project": "actionpack",
    "date_merged": 1639512884000,
    "author": "Aaron Patterson",
    "sha": "c40867cec68f5486fe31cb9e80ba54166fb6fa9d",
    "pr": null,
    "merge_sha": "f8ef5c292123893691eef1036424d88f00ee247d",
    "html": "<p>Fix X_FORWARDED_HOST protection.  [CVE-2021-44528]</p>\n"
  },
  {
    "message": "*   [CVE-2021-22942] Fix possible open redirect in Host Authorization middleware.\n\n    Specially crafted \"X-Forwarded-Host\" headers in combination with certain\n    \"allowed host\" formats can cause the Host Authorization middleware in Action\n    Pack to redirect users to a malicious website.",
    "project": "actionpack",
    "date_merged": 1629390850000,
    "author": "Aaron Patterson",
    "sha": "3838481a1a98e3fcd14906ea1f301fc1b2418f0d",
    "pr": null,
    "merge_sha": "9f02d2d84ac84827b98add4199a7efafd0124eba",
    "html": "<p>[CVE-2021-22942] Fix possible open redirect in Host Authorization middleware.</p>\n\n<p>Specially crafted “X-Forwarded-Host” headers in combination with certain<br />\n“allowed host” formats can cause the Host Authorization middleware in Action<br />\nPack to redirect users to a malicious website.</p>\n"
  },
  {
    "message": "*   Accept base64_urlsafe CSRF tokens to make forward compatible.\n\n    Base64 strict-encoded CSRF tokens are not inherently websafe, which makes\n    them difficult to deal with. For example, the common practice of sending\n    the CSRF token to a browser in a client-readable cookie does not work properly\n    out of the box: the value has to be url-encoded and decoded to survive transport.\n\n    In Rails 6.1, we generate Base64 urlsafe-encoded CSRF tokens, which are inherently\n    safe to transport. Validation accepts both urlsafe tokens, and strict-encoded\n    tokens for backwards compatibility.\n\n    In Rails 5.2.5, the CSRF token format is accidentally changed to urlsafe-encoded.\n    If you upgrade apps from 5.2.5, set the config `urlsafe_csrf_tokens = true`.\n\n    ```ruby\n    Rails.application.config.action_controller.urlsafe_csrf_tokens = true\n    ```\n\n    *Scott Blum*, *Étienne Barrié*",
    "project": "actionpack",
    "date_merged": 1617163765000,
    "author": "Ryuta Kamizono",
    "sha": "ef808bf1aad7a6d4d25afa3ed88f057c75c90b50",
    "pr": "41806",
    "merge_sha": "ce2d72a089f53ec75201cfae27de17d52c00b580",
    "html": "<p>Accept base64_urlsafe CSRF tokens to make forward compatible.</p>\n\n<p>Base64 strict-encoded CSRF tokens are not inherently websafe, which makes<br />\nthem difficult to deal with. For example, the common practice of sending<br />\nthe CSRF token to a browser in a client-readable cookie does not work properly<br />\nout of the box: the value has to be url-encoded and decoded to survive transport.</p>\n\n<p>In Rails 6.1, we generate Base64 urlsafe-encoded CSRF tokens, which are inherently<br />\nsafe to transport. Validation accepts both urlsafe tokens, and strict-encoded<br />\ntokens for backwards compatibility.</p>\n\n<p>In Rails 5.2.5, the CSRF token format is accidentally changed to urlsafe-encoded.<br />\nIf you upgrade apps from 5.2.5, set the config <code>urlsafe_csrf_tokens = true</code>.</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"no\">Rails</span><span class=\"p\">.</span><span class=\"nf\">application</span><span class=\"p\">.</span><span class=\"nf\">config</span><span class=\"p\">.</span><span class=\"nf\">action_controller</span><span class=\"p\">.</span><span class=\"nf\">urlsafe_csrf_tokens</span> <span class=\"o\">=</span> <span class=\"kp\">true</span>\n</code></pre></div></div>\n\n<p><em>Scott Blum</em>, <em>Étienne Barrié</em></p>\n"
  },
  {
    "message": "*   Signed and encrypted cookies can now store `false` as their value when\n    `action_dispatch.use_cookies_with_metadata` is enabled.\n\n    *Rolandas Barysas*",
    "project": "actionpack",
    "date_merged": 1591034311000,
    "author": "Eugene Kenny",
    "sha": "e7154f346ae88c45429c151a366eb34572479284",
    "pr": "39500",
    "merge_sha": "70aefde82e9d8f349e2d75f342aaf16db4ee14ab",
    "html": "<p>Signed and encrypted cookies can now store <code>false</code> as their value when<br />\n<code>action_dispatch.use_cookies_with_metadata</code> is enabled.</p>\n\n<p><em>Rolandas Barysas</em></p>\n"
  },
  {
    "message": "*   Prevent catastrophic backtracking during mime parsing\n    CVE-2021-22902",
    "project": "actionpack",
    "date_merged": 1620231479000,
    "author": "Aaron Patterson",
    "sha": "59b45665c05f2f1824dccaafea96423edd7b0018",
    "pr": null,
    "merge_sha": "98a0a12c5d27b86e0c57820ec1c6b4c4459a71e3",
    "html": "<p>Prevent catastrophic backtracking during mime parsing<br />\nCVE-2021-22902</p>\n"
  },
  {
    "message": "*   Prevent regex DoS in HTTP token authentication\n    CVE-2021-22904",
    "project": "actionpack",
    "date_merged": 1620231479000,
    "author": "Aaron Patterson",
    "sha": "59b45665c05f2f1824dccaafea96423edd7b0018",
    "pr": null,
    "merge_sha": "98a0a12c5d27b86e0c57820ec1c6b4c4459a71e3",
    "html": "<p>Prevent regex DoS in HTTP token authentication<br />\nCVE-2021-22904</p>\n"
  },
  {
    "message": "*   Prevent string polymorphic route arguments.\n\n    `url_for` supports building polymorphic URLs via an array\n    of arguments (usually symbols and records). If a developer passes a\n    user input array, strings can result in unwanted route helper calls.\n\n    CVE-2021-22885\n\n    *Gannon McGibbon*",
    "project": "actionpack",
    "date_merged": 1620231479000,
    "author": "Gannon McGibbon",
    "sha": "f202249bdd701f908a57d733e633d366a982f8ce",
    "pr": null,
    "merge_sha": "98a0a12c5d27b86e0c57820ec1c6b4c4459a71e3",
    "html": "<p>Prevent string polymorphic route arguments.</p>\n\n<p><code>url_for</code> supports building polymorphic URLs via an array<br />\nof arguments (usually symbols and records). If a developer passes a<br />\nuser input array, strings can result in unwanted route helper calls.</p>\n\n<p>CVE-2021-22885</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Prevent open redirect when allowed host starts with a dot\n\n    [CVE-2021-22881]\n\n    Thanks to @tktech (https://hackerone.com/tktech) for reporting this\n    issue and the patch!\n\n    *Aaron Patterson*",
    "project": "actionpack",
    "date_merged": 1612989812000,
    "author": "Rafael Mendonça França",
    "sha": "c5929d5eb55b749bc124b3ccc2d79323d015701f",
    "pr": null,
    "merge_sha": "55281b5088091fe826952f523987f3f40595f641",
    "html": "<p>Prevent open redirect when allowed host starts with a dot</p>\n\n<p>[CVE-2021-22881]</p>\n\n<p>Thanks to @tktech (https://hackerone.com/tktech) for reporting this<br />\nissue and the patch!</p>\n\n<p><em>Aaron Patterson</em></p>\n"
  },
  {
    "message": "*   [CVE-2020-8264] Prevent XSS in Actionable Exceptions",
    "project": "actionpack",
    "date_merged": 1602090142000,
    "author": "Aaron Patterson",
    "sha": "fe76a95b0d252a2d7c25e69498b720c96b243ea2",
    "pr": null,
    "merge_sha": "f6d330c134f288209ac74380c90ee4ef3d0b364f",
    "html": "<p>[CVE-2020-8264] Prevent XSS in Actionable Exceptions</p>\n"
  },
  {
    "message": "*   [CVE-2020-8185] Only allow ActionableErrors if show_detailed_exceptions is enabled",
    "project": "actionpack",
    "date_merged": 1592405960000,
    "author": "Aaron Patterson",
    "sha": "11052e0091a69d5566624101deb98e4db70e97eb",
    "pr": null,
    "merge_sha": "5438067c81e983c134c6b948a5d4702f95936db4",
    "html": "<p>[CVE-2020-8185] Only allow ActionableErrors if show_detailed_exceptions is enabled</p>\n"
  },
  {
    "message": "*   [CVE-2020-8166] HMAC raw CSRF token before masking it, so it cannot be used to reconstruct a per-form token",
    "project": "actionpack",
    "date_merged": 1589816988000,
    "author": "Aaron Patterson",
    "sha": "0ad524ab6e350412f7093a14f7a358e5f50b0c3f",
    "pr": null,
    "merge_sha": "9d997e1d1fcb8148fef87687325fc80373d69eb7",
    "html": "<p>[CVE-2020-8166] HMAC raw CSRF token before masking it, so it cannot be used to reconstruct a per-form token</p>\n"
  },
  {
    "message": "*   [CVE-2020-8164] Return self when calling #each, #each_pair, and #each_value instead of the raw @parameters hash",
    "project": "actionpack",
    "date_merged": 1589816988000,
    "author": "Aaron Patterson",
    "sha": "0ad524ab6e350412f7093a14f7a358e5f50b0c3f",
    "pr": null,
    "merge_sha": "9d997e1d1fcb8148fef87687325fc80373d69eb7",
    "html": "<p>[CVE-2020-8164] Return self when calling #each, #each_pair, and #each_value instead of the raw @parameters hash</p>\n"
  },
  {
    "message": "*   Include child session assertion count in ActionDispatch::IntegrationTest\n\n    `IntegrationTest#open_session` uses `dup` to create the new session, which\n    meant it had its own copy of `@assertions`. This prevented the assertions\n    from being correctly counted and reported.\n\n    Child sessions now have their `attr_accessor` overriden to delegate to the\n    root session.\n\n    Fixes #32142\n\n    *Sam Bostock*",
    "project": "actionpack",
    "date_merged": 1576665669000,
    "author": "Rafael Mendonça França",
    "sha": "574bba8c61a9efaca18de7fc06e0c69fb0834262",
    "pr": "38012",
    "merge_sha": "7391005c77cbc22230f15cc605550f768ae4f73c",
    "html": "<p>Include child session assertion count in ActionDispatch::IntegrationTest</p>\n\n<p><code>IntegrationTest#open_session</code> uses <code>dup</code> to create the new session, which<br />\nmeant it had its own copy of <code>@assertions</code>. This prevented the assertions<br />\nfrom being correctly counted and reported.</p>\n\n<p>Child sessions now have their <code>attr_accessor</code> overriden to delegate to the<br />\nroot session.</p>\n\n<p>Fixes #32142</p>\n\n<p><em>Sam Bostock</em></p>\n"
  },
  {
    "message": "*   Fix possible information leak / session hijacking vulnerability.\n\n    The `ActionDispatch::Session::MemcacheStore` is still vulnerable given it requires the\n    gem dalli to be updated as well.\n\n    CVE-2019-16782.",
    "project": "actionpack",
    "date_merged": 1576696307000,
    "author": "Rafael Mendonça França",
    "sha": "ad2da1ad82742354a73cf30be658574d9bd567f0",
    "pr": null,
    "merge_sha": "b6d445198ab311e2b5a00c28cb0ebdca66d13174",
    "html": "<p>Fix possible information leak / session hijacking vulnerability.</p>\n\n<p>The <code>ActionDispatch::Session::MemcacheStore</code> is still vulnerable given it requires the<br />\ngem dalli to be updated as well.</p>\n\n<p>CVE-2019-16782.</p>\n"
  },
  {
    "message": "*   Allow using mountable engine route helpers in System Tests.\n\n    *Chalo Fernandez*",
    "project": "actionpack",
    "date_merged": 1574896442000,
    "author": "Rafael Mendonça França",
    "sha": "c4175eb2cedc3a7ac89b39da408165ca32aec76f",
    "pr": "37806",
    "merge_sha": "a7eff88a51f11ae4c1500f052ffafa1b496adcc4",
    "html": "<p>Allow using mountable engine route helpers in System Tests.</p>\n\n<p><em>Chalo Fernandez</em></p>\n"
  },
  {
    "message": "*   `ActionDispatch::SystemTestCase` now inherits from `ActiveSupport::TestCase`\n    rather than `ActionDispatch::IntegrationTest`. This permits running jobs in\n    system tests.\n\n    *George Claghorn*, *Edouard Chin*",
    "project": "actionpack",
    "date_merged": 1572966447000,
    "author": "George Claghorn",
    "sha": "7982363efabc03e4624cd35aa86e2d284dcd35f7",
    "pr": null,
    "merge_sha": "f2dfc5a496f57f1f8d9f05daf7f7b18c057548f3",
    "html": "<p><code>ActionDispatch::SystemTestCase</code> now inherits from <code>ActiveSupport::TestCase</code><br />\nrather than <code>ActionDispatch::IntegrationTest</code>. This permits running jobs in<br />\nsystem tests.</p>\n\n<p><em>George Claghorn</em>, <em>Edouard Chin</em></p>\n"
  },
  {
    "message": "*   Registered MIME types may contain extra flags:\n\n    ```ruby\n    Mime::Type.register \"text/html; fragment\", :html_fragment\n    ```\n\n    *Aaron Patterson*",
    "project": "actionpack",
    "date_merged": 1572966447000,
    "author": "George Claghorn",
    "sha": "7982363efabc03e4624cd35aa86e2d284dcd35f7",
    "pr": null,
    "merge_sha": "f2dfc5a496f57f1f8d9f05daf7f7b18c057548f3",
    "html": "<p>Registered MIME types may contain extra flags:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"no\">Mime</span><span class=\"o\">::</span><span class=\"no\">Type</span><span class=\"p\">.</span><span class=\"nf\">register</span> <span class=\"s2\">\"text/html; fragment\"</span><span class=\"p\">,</span> <span class=\"ss\">:html_fragment</span>\n</code></pre></div></div>\n\n<p><em>Aaron Patterson</em></p>\n"
  },
  {
    "message": "*   Add the ability to set the CSP nonce only to the specified directives.\n\n    Fixes #35137.\n\n    *Yuji Yaginuma*",
    "project": "actionpack",
    "date_merged": 1562605952000,
    "author": "Yuji Yaginuma",
    "sha": "a23128ad3e76961e0785f82e88eb9607753692a9",
    "pr": "36621",
    "merge_sha": "eee9f070e6232eeb3b0e15b90e59ce228ca9f3c8",
    "html": "<p>Add the ability to set the CSP nonce only to the specified directives.</p>\n\n<p>Fixes #35137.</p>\n\n<p><em>Yuji Yaginuma</em></p>\n"
  },
  {
    "message": "*   Keep part when scope option has value.\n\n    When a route was defined within an optional scope, if that route didn't\n    take parameters the scope was lost when using path helpers. This commit\n    ensures scope is kept both when the route takes parameters or when it\n    doesn't.\n\n    Fixes #33219\n\n    *Alberto Almagro*",
    "project": "actionpack",
    "date_merged": 1562605952000,
    "author": "Yuji Yaginuma",
    "sha": "a23128ad3e76961e0785f82e88eb9607753692a9",
    "pr": "36621",
    "merge_sha": "eee9f070e6232eeb3b0e15b90e59ce228ca9f3c8",
    "html": "<p>Keep part when scope option has value.</p>\n\n<p>When a route was defined within an optional scope, if that route didn’t<br />\ntake parameters the scope was lost when using path helpers. This commit<br />\nensures scope is kept both when the route takes parameters or when it<br />\ndoesn’t.</p>\n\n<p>Fixes #33219</p>\n\n<p><em>Alberto Almagro</em></p>\n"
  },
  {
    "message": "*   Change `ActionDispatch::Response#content_type` to return Content-Type header as it is.\n\n    Previously, `ActionDispatch::Response#content_type` returned value does NOT\n    contain charset part. This behavior changed to returned Content-Type header\n    containing charset part as it is.\n\n    If you want just MIME type, please use `ActionDispatch::Response#media_type`\n    instead.\n\n    Enable `action_dispatch.return_only_media_type_on_content_type` to use this change.\n    If not enabled, `ActionDispatch::Response#content_type` returns the same\n    value as before version, but its behavior is deprecate.\n\n    *Yuji Yaginuma*",
    "project": "actionpack",
    "date_merged": 1559656924000,
    "author": "Yuji Yaginuma",
    "sha": "f355f920ddcd48670cb58f4d1e6782055a88110b",
    "pr": "36395",
    "merge_sha": "f9a0ae63013e5d67ed076df32881a5d78a5368e9",
    "html": "<p>Change <code>ActionDispatch::Response#content_type</code> to return Content-Type header as it is.</p>\n\n<p>Previously, <code>ActionDispatch::Response#content_type</code> returned value does NOT<br />\ncontain charset part. This behavior changed to returned Content-Type header<br />\ncontaining charset part as it is.</p>\n\n<p>If you want just MIME type, please use <code>ActionDispatch::Response#media_type</code><br />\ninstead.</p>\n\n<p>Enable <code>action_dispatch.return_only_media_type_on_content_type</code> to use this change.<br />\nIf not enabled, <code>ActionDispatch::Response#content_type</code> returns the same<br />\nvalue as before version, but its behavior is deprecate.</p>\n\n<p><em>Yuji Yaginuma</em></p>\n"
  },
  {
    "message": "*   Calling `ActionController::Parameters#transform_keys/!` without a block now returns\n    an enumerator for the parameters instead of the underlying hash.\n\n    *Eugene Kenny*",
    "project": "actionpack",
    "date_merged": 1559656924000,
    "author": "Ryuta Kamizono",
    "sha": "a0c39ff820f0a55fae24fcd7958ed34a00b35114",
    "pr": "36395",
    "merge_sha": "f9a0ae63013e5d67ed076df32881a5d78a5368e9",
    "html": "<p>Calling <code>ActionController::Parameters#transform_keys/!</code> without a block now returns<br />\nan enumerator for the parameters instead of the underlying hash.</p>\n\n<p><em>Eugene Kenny</em></p>\n"
  },
  {
    "message": "*   Fix a bug where DebugExceptions throws an error when malformed query parameters are provided\n\n    *Yuki Nishijima*, *Stan Lo*",
    "project": "actionpack",
    "date_merged": 1557245982000,
    "author": "Yuki Nishijima",
    "sha": "7b00308161241ac93df707f7ec84bfe6ed46cf80",
    "pr": "36196",
    "merge_sha": "d0a746047e03b63e70c85d284a23d2aee3d5057f",
    "html": "<p>Fix a bug where DebugExceptions throws an error when malformed query parameters are provided</p>\n\n<p><em>Yuki Nishijima</em>, <em>Stan Lo</em></p>\n"
  },
  {
    "message": "*   Make system tests take a failed screenshot in a `before_teardown` hook\n    rather than an `after_teardown` hook.\n\n    This helps minimize the time gap between when an assertion fails and when\n    the screenshot is taken (reducing the time in which the page could have\n    been dynamically updated after the assertion failed).\n\n    *Richard Macklin*",
    "project": "actionpack",
    "date_merged": 1555936137000,
    "author": "Richard Macklin",
    "sha": "ef12ccfd8bc42d88611dea1190988214836b951c",
    "pr": "36047",
    "merge_sha": "2db5895a5e8880915dfab08bd02f60a8ff2ad223",
    "html": "<p>Make system tests take a failed screenshot in a <code>before_teardown</code> hook<br />\nrather than an <code>after_teardown</code> hook.</p>\n\n<p>This helps minimize the time gap between when an assertion fails and when<br />\nthe screenshot is taken (reducing the time in which the page could have<br />\nbeen dynamically updated after the assertion failed).</p>\n\n<p><em>Richard Macklin</em></p>\n"
  },
  {
    "message": "*   Introduce `ActionDispatch::ActionableExceptions`.\n\n    The `ActionDispatch::ActionableExceptions` middleware dispatches actions\n    from `ActiveSupport::ActionableError` descendants.\n\n    Actionable errors let's you dispatch actions from Rails' error pages.\n\n    *Vipul A M*, *Yao Jie*, *Genadi Samokovarov*",
    "project": "actionpack",
    "date_merged": 1555681137000,
    "author": "Genadi Samokovarov",
    "sha": "45f1c7a3e16437e517baa6606674f7bbb16dba74",
    "pr": "34788",
    "merge_sha": "10da0a27512e108a5cde3eeba774b01c15f6c43a",
    "html": "<p>Introduce <code>ActionDispatch::ActionableExceptions</code>.</p>\n\n<p>The <code>ActionDispatch::ActionableExceptions</code> middleware dispatches actions<br />\nfrom <code>ActiveSupport::ActionableError</code> descendants.</p>\n\n<p>Actionable errors let’s you dispatch actions from Rails’ error pages.</p>\n\n<p><em>Vipul A M</em>, <em>Yao Jie</em>, <em>Genadi Samokovarov</em></p>\n"
  },
  {
    "message": "*   Raise an `ArgumentError` if a resource custom param contains a colon (`:`).\n\n    After this change it's not possible anymore to configure routes like this:\n\n    ```\n    routes.draw do\n      resources :users, param: 'name/:sneaky'\n    end\n    ```\n\n    Fixes #30467.\n\n    *Josua Schmid*",
    "project": "actionpack",
    "date_merged": 1553718676000,
    "author": "Josua Schmid",
    "sha": "25f2e0c39da2b9c61db75df2d767ee9c10d583b8",
    "pr": "35236",
    "merge_sha": "93dbbe3a81bee6da2f1e88ca6971299b462cad93",
    "html": "<p>Raise an <code>ArgumentError</code> if a resource custom param contains a colon (<code>:</code>).</p>\n\n<p>After this change it’s not possible anymore to configure routes like this:</p>\n\n<pre><code>routes.draw do\n  resources :users, param: 'name/:sneaky'\nend\n</code></pre>\n\n<p>Fixes #30467.</p>\n\n<p><em>Josua Schmid</em></p>\n"
  },
  {
    "message": "*   Make debug exceptions works in an environment where ActiveStorage is not loaded.\n\n    *Tomoyuki Kurosawa*",
    "project": "actionpack",
    "date_merged": 1549373791000,
    "author": "kurosawat",
    "sha": "a0c57775e2ee91d3bd860699c3a3fcb110d0bb08",
    "pr": "35139",
    "merge_sha": "44232b485485634d681c60868c619323f882e59f",
    "html": "<p>Make debug exceptions works in an environment where ActiveStorage is not loaded.</p>\n\n<p><em>Tomoyuki Kurosawa</em></p>\n"
  },
  {
    "message": "*   `ActionDispatch::SystemTestCase.driven_by` can now be called with a block\n    to define specific browser capabilities.\n\n    *Edouard Chin*",
    "project": "actionpack",
    "date_merged": 1548802456000,
    "author": "Edouard CHIN",
    "sha": "5936bd9a201a2c1a3730d9c857f0908959505d2b",
    "pr": "35081",
    "merge_sha": "94d54fa4ab641a0ddeb173409cb41cc5becc02a9",
    "html": "<p><code>ActionDispatch::SystemTestCase.driven_by</code> can now be called with a block<br />\nto define specific browser capabilities.</p>\n\n<p><em>Edouard Chin</em></p>\n"
  },
  {
    "message": "*   Remove deprecated `fragment_cache_key` helper in favor of `combined_fragment_cache_key`.\n\n    *Rafael Mendonça França*",
    "project": "actionpack",
    "date_merged": 1547763177000,
    "author": "Rafael Mendonça França",
    "sha": "e70d3df7c9b05c129b0fdcca57f66eca316c5cfc",
    "pr": "34954",
    "merge_sha": "e65a3a0ce585b1fbcd35872616717595d6950fca",
    "html": "<p>Remove deprecated <code>fragment_cache_key</code> helper in favor of <code>combined_fragment_cache_key</code>.</p>\n\n<p><em>Rafael Mendonça França</em></p>\n"
  },
  {
    "message": "*   Remove deprecated methods in `ActionDispatch::TestResponse`.\n\n    `#success?`, `missing?` and `error?` were deprecated in Rails 5.2 in favor of\n    `#successful?`, `not_found?` and `server_error?`.\n\n    *Rafael Mendonça França*",
    "project": "actionpack",
    "date_merged": 1547763177000,
    "author": "Rafael Mendonça França",
    "sha": "13ddc92e079e59a0b894e31bf5bb4fdecbd235d1",
    "pr": "34954",
    "merge_sha": "e65a3a0ce585b1fbcd35872616717595d6950fca",
    "html": "<p>Remove deprecated methods in <code>ActionDispatch::TestResponse</code>.</p>\n\n<p><code>#success?</code>, <code>missing?</code> and <code>error?</code> were deprecated in Rails 5.2 in favor of<br />\n<code>#successful?</code>, <code>not_found?</code> and <code>server_error?</code>.</p>\n\n<p><em>Rafael Mendonça França</em></p>\n"
  },
  {
    "message": "*   Introduce `ActionDispatch::HostAuthorization`.\n\n    This is a new middleware that guards against DNS rebinding attacks by\n    explicitly permitting the hosts a request can be made to.\n\n    Each host is checked with the case operator (`#===`) to support `Regexp`,\n    `Proc`, `IPAddr` and custom objects as host allowances.\n\n    *Genadi Samokovarov*",
    "project": "actionpack",
    "date_merged": 1554051927000,
    "author": "Ryuta Kamizono",
    "sha": "51ab5cb0432c483422112ebbb274855a3fa5ecc8",
    "pr": "35793",
    "merge_sha": "563bf5771fb8bf3c8458393cd5a42bab7a5b6f1e",
    "html": "<p>Introduce <code>ActionDispatch::HostAuthorization</code>.</p>\n\n<p>This is a new middleware that guards against DNS rebinding attacks by<br />\nexplicitly permitting the hosts a request can be made to.</p>\n\n<p>Each host is checked with the case operator (<code>#===</code>) to support <code>Regexp</code>,<br />\n<code>Proc</code>, <code>IPAddr</code> and custom objects as host allowances.</p>\n\n<p><em>Genadi Samokovarov</em></p>\n"
  },
  {
    "message": "*   Allow using `parsed_body` in `ActionController::TestCase`.\n\n    In addition to `ActionDispatch::IntegrationTest`, allow using\n    `parsed_body` in `ActionController::TestCase`:\n\n    ```\n    class SomeControllerTest < ActionController::TestCase\n      def test_some_action\n        post :action, body: { foo: 'bar' }\n        assert_equal({ \"foo\" => \"bar\" }, response.parsed_body)\n      end\n    end\n    ```\n\n    Fixes #34676.\n\n    *Tobias Bühlmann*",
    "project": "actionpack",
    "date_merged": 1545058891000,
    "author": "Tobias Bühlmann",
    "sha": "8246a8139c78aca29f988274be9732b1e9f4f51d",
    "pr": "34717",
    "merge_sha": "048e3172f51db1fddd03b89f676d96a443539a13",
    "html": "<p>Allow using <code>parsed_body</code> in <code>ActionController::TestCase</code>.</p>\n\n<p>In addition to <code>ActionDispatch::IntegrationTest</code>, allow using<br />\n<code>parsed_body</code> in <code>ActionController::TestCase</code>:</p>\n\n<pre><code>class SomeControllerTest &lt; ActionController::TestCase\n  def test_some_action\n    post :action, body: { foo: 'bar' }\n    assert_equal({ \"foo\" =&gt; \"bar\" }, response.parsed_body)\n  end\nend\n</code></pre>\n\n<p>Fixes #34676.</p>\n\n<p><em>Tobias Bühlmann</em></p>\n"
  },
  {
    "message": "*   Raise an error on root route naming conflicts.\n\n    Raises an `ArgumentError` when multiple root routes are defined in the\n    same context instead of assigning nil names to subsequent roots.\n\n    *Gannon McGibbon*",
    "project": "actionpack",
    "date_merged": 1542747473000,
    "author": "Gannon McGibbon",
    "sha": "dde9c488398293fb1cbdc02595b8c4e9860b03cc",
    "pr": "34494",
    "merge_sha": "eb22adce9a3a0d8d02c27d7afc944857e9ca0ada",
    "html": "<p>Raise an error on root route naming conflicts.</p>\n\n<p>Raises an <code>ArgumentError</code> when multiple root routes are defined in the<br />\nsame context instead of assigning nil names to subsequent roots.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Allow rescue from parameter parse errors:\n\n    ```\n    rescue_from ActionDispatch::Http::Parameters::ParseError do\n      head :unauthorized\n    end\n    ```\n\n    *Gannon McGibbon*, *Josh Cheek*",
    "project": "actionpack",
    "date_merged": 1542159150000,
    "author": "Gannon McGibbon",
    "sha": "6b3faf8e502dbd238fe4b4c409e96308638297a1",
    "pr": "34341",
    "merge_sha": "9ef26accd28e3a53a0e9180b2230806480e6144d",
    "html": "<p>Allow rescue from parameter parse errors:</p>\n\n<pre><code>rescue_from ActionDispatch::Http::Parameters::ParseError do\n  head :unauthorized\nend\n</code></pre>\n\n<p><em>Gannon McGibbon</em>, <em>Josh Cheek</em></p>\n"
  },
  {
    "message": "*   Reset Capybara sessions if failed system test screenshot raising an exception.\n\n    Reset Capybara sessions if `take_failed_screenshot` raise exception\n    in system test `after_teardown`.\n\n    *Maxim Perepelitsa*",
    "project": "actionpack",
    "date_merged": 1542147664000,
    "author": "Maxim Perepelitsa",
    "sha": "59895db44b73b9a333387eee2078fda8feec9ce5",
    "pr": "34411",
    "merge_sha": "6741e70518b55c4bbd7a53346b5937319a31a15f",
    "html": "<p>Reset Capybara sessions if failed system test screenshot raising an exception.</p>\n\n<p>Reset Capybara sessions if <code>take_failed_screenshot</code> raise exception<br />\nin system test <code>after_teardown</code>.</p>\n\n<p><em>Maxim Perepelitsa</em></p>\n"
  },
  {
    "message": "*   Use request object for context if there's no controller\n\n    There is no controller instance when using a redirect route or a\n    mounted rack application so pass the request object as the context\n    when resolving dynamic CSP sources in this scenario.\n\n    Fixes #34200.\n\n    *Andrew White*",
    "project": "actionpack",
    "date_merged": 1540276551000,
    "author": "Andrew White",
    "sha": "a150a026591b7b9dcaba5a2ef5fce02f7d990aba",
    "pr": "34286",
    "merge_sha": "759b3af0c6fc9fb502031a05b281736602ff8e5f",
    "html": "<p>Use request object for context if there’s no controller</p>\n\n<p>There is no controller instance when using a redirect route or a<br />\nmounted rack application so pass the request object as the context<br />\nwhen resolving dynamic CSP sources in this scenario.</p>\n\n<p>Fixes #34200.</p>\n\n<p><em>Andrew White</em></p>\n"
  },
  {
    "message": "*   Apply mapping to symbols returned from dynamic CSP sources\n\n    Previously if a dynamic source returned a symbol such as :self it\n    would be converted to a string implicitly, e.g:\n\n        policy.default_src -> { :self }\n\n    would generate the header:\n\n        Content-Security-Policy: default-src self\n\n    and now it generates:\n\n        Content-Security-Policy: default-src 'self'\n\n    *Andrew White*",
    "project": "actionpack",
    "date_merged": 1540276551000,
    "author": "Andrew White",
    "sha": "ed91b75c937805cb52b3930f2549b7a179cdc421",
    "pr": "34286",
    "merge_sha": "759b3af0c6fc9fb502031a05b281736602ff8e5f",
    "html": "<p>Apply mapping to symbols returned from dynamic CSP sources</p>\n\n<p>Previously if a dynamic source returned a symbol such as :self it<br />\nwould be converted to a string implicitly, e.g:</p>\n\n<pre><code>policy.default_src -&gt; { :self }\n</code></pre>\n\n<p>would generate the header:</p>\n\n<pre><code>Content-Security-Policy: default-src self\n</code></pre>\n\n<p>and now it generates:</p>\n\n<pre><code>Content-Security-Policy: default-src 'self'\n</code></pre>\n\n<p><em>Andrew White</em></p>\n"
  },
  {
    "message": "*   Add `ActionController::Parameters#each_value`.\n\n    *Lukáš Zapletal*",
    "project": "actionpack",
    "date_merged": 1539608112000,
    "author": "Bogdan",
    "sha": "6fe45f378ab7bc88fecb99576fa367f83b3255f3",
    "pr": "34214",
    "merge_sha": "25d1fefe877095a539a99df9db404d7fd994ed7c",
    "html": "<p>Add <code>ActionController::Parameters#each_value</code>.</p>\n\n<p><em>Lukáš Zapletal</em></p>\n"
  },
  {
    "message": "*   Deprecate `ActionDispatch::Http::ParameterFilter` in favor of `ActiveSupport::ParameterFilter`.\n\n    *Yoshiyuki Kinjo*",
    "project": "actionpack",
    "date_merged": 1538988559000,
    "author": "Yoshiyuki Kinjo",
    "sha": "7f80be29a2655757985b8f70855940f4dc5445cf",
    "pr": "34039",
    "merge_sha": "5dbf5c660ce4ad1f989f2d05032664c7ee26488c",
    "html": "<p>Deprecate <code>ActionDispatch::Http::ParameterFilter</code> in favor of <code>ActiveSupport::ParameterFilter</code>.</p>\n\n<p><em>Yoshiyuki Kinjo</em></p>\n"
  },
  {
    "message": "*   Encode Content-Disposition filenames on `send_data` and `send_file`.\n    Previously, `send_data 'data', filename: \"\\u{3042}.txt\"` sends\n    `\"filename=\\\"\\u{3042}.txt\\\"\"` as Content-Disposition and it can be\n    garbled.\n    Now it follows [RFC 2231](https://tools.ietf.org/html/rfc2231) and\n    [RFC 5987](https://tools.ietf.org/html/rfc5987) and sends\n    `\"filename=\\\"%3F.txt\\\"; filename*=UTF-8''%E3%81%82.txt\"`.\n    Most browsers can find filename correctly and old browsers fallback to ASCII\n    converted name.\n\n    *Fumiaki Matsushima*",
    "project": "actionpack",
    "date_merged": 1537724586000,
    "author": "Fumiaki MATSUSHIMA",
    "sha": "890485cfce4c361c03a41ec23b0ba187007818cc",
    "pr": "33829",
    "merge_sha": "ed56a031041a868eeeb439d8b79d04565be1286f",
    "html": "<p>Encode Content-Disposition filenames on <code>send_data</code> and <code>send_file</code>.<br />\nPreviously, <code>send_data 'data', filename: \"\\u{3042}.txt\"</code> sends<br />\n<code>\"filename=\\\"\\u{3042}.txt\\\"\"</code> as Content-Disposition and it can be<br />\ngarbled.<br />\nNow it follows <a href=\"https://tools.ietf.org/html/rfc2231\">RFC 2231</a> and<br />\n<a href=\"https://tools.ietf.org/html/rfc5987\">RFC 5987</a> and sends<br />\n<code>\"filename=\\\"%3F.txt\\\"; filename*=UTF-8''%E3%81%82.txt\"</code>.<br />\nMost browsers can find filename correctly and old browsers fallback to ASCII<br />\nconverted name.</p>\n\n<p><em>Fumiaki Matsushima</em></p>\n"
  },
  {
    "message": "*   Expose `ActionController::Parameters#each_key` which allows iterating over\n    keys without allocating an array.\n\n    *Richard Schneeman*",
    "project": "actionpack",
    "date_merged": 1536322181000,
    "author": "Ryuta Kamizono",
    "sha": "736edb982856f0de04d4566f657c0c84f145e7ef",
    "pr": "33756",
    "merge_sha": "2a470d73a75ebf8cd7975e469bd82586d9234442",
    "html": "<p>Expose <code>ActionController::Parameters#each_key</code> which allows iterating over<br />\nkeys without allocating an array.</p>\n\n<p><em>Richard Schneeman</em></p>\n"
  },
  {
    "message": "*   Purpose metadata for signed/encrypted cookies.\n\n    Rails can now thwart attacks that attempt to copy signed/encrypted value\n    of a cookie and use it as the value of another cookie.\n\n    It does so by stashing the cookie-name in the purpose field which is\n    then signed/encrypted along with the cookie value. Then, on a server-side\n    read, we verify the cookie-names and discard any attacked cookies.\n\n    Enable `action_dispatch.use_cookies_with_metadata` to use this feature, which\n    writes cookies with the new purpose and expiry metadata embedded.\n\n    *Assain Jaleel*",
    "project": "actionpack",
    "date_merged": 1534355869000,
    "author": "Assain",
    "sha": "5fbdfef0a3ac7652523b27d7e5e6702152c554a1",
    "pr": "33605",
    "merge_sha": "d25e65a514574c71e31d6dc6d01589addc2b0170",
    "html": "<p>Purpose metadata for signed/encrypted cookies.</p>\n\n<p>Rails can now thwart attacks that attempt to copy signed/encrypted value<br />\nof a cookie and use it as the value of another cookie.</p>\n\n<p>It does so by stashing the cookie-name in the purpose field which is<br />\nthen signed/encrypted along with the cookie value. Then, on a server-side<br />\nread, we verify the cookie-names and discard any attacked cookies.</p>\n\n<p>Enable <code>action_dispatch.use_cookies_with_metadata</code> to use this feature, which<br />\nwrites cookies with the new purpose and expiry metadata embedded.</p>\n\n<p><em>Assain Jaleel</em></p>\n"
  },
  {
    "message": "*   Raises `ActionController::RespondToMismatchError` with conflicting `respond_to` invocations.\n\n    `respond_to` can match multiple types and lead to undefined behavior when\n    multiple invocations are made and the types do not match:\n\n        respond_to do |outer_type|\n          outer_type.js do\n            respond_to do |inner_type|\n              inner_type.html { render body: \"HTML\" }\n            end\n          end\n        end\n\n    *Patrick Toomey*",
    "project": "actionpack",
    "date_merged": 1548183762000,
    "author": "alkesh26",
    "sha": "78cf58b7657a60d50046c044b8dad7b2800304f0",
    "pr": "35020",
    "merge_sha": "1d359d4bf6775585b0a488678dac3d8b5ff9c634",
    "html": "<p>Raises <code>ActionController::RespondToMismatchError</code> with conflicting <code>respond_to</code> invocations.</p>\n\n<p><code>respond_to</code> can match multiple types and lead to undefined behavior when<br />\nmultiple invocations are made and the types do not match:</p>\n\n<pre><code>respond_to do |outer_type|\n  outer_type.js do\n    respond_to do |inner_type|\n      inner_type.html { render body: \"HTML\" }\n    end\n  end\nend\n</code></pre>\n\n<p><em>Patrick Toomey</em></p>\n"
  },
  {
    "message": "*   `ActionDispatch::Http::UploadedFile` now delegates `to_path` to its tempfile.\n\n    This allows uploaded file objects to be passed directly to `File.read`\n    without raising a `TypeError`:\n\n        uploaded_file = ActionDispatch::Http::UploadedFile.new(tempfile: tmp_file)\n        File.read(uploaded_file)\n\n    *Aaron Kromer*",
    "project": "actionpack",
    "date_merged": 1532269264000,
    "author": "Aaron Kromer",
    "sha": "20543c049625784a91944efdebc1d0c397406f21",
    "pr": "33418",
    "merge_sha": "a53a88efaeef9d2ad03da2b534b2d501f7b6648d",
    "html": "<p><code>ActionDispatch::Http::UploadedFile</code> now delegates <code>to_path</code> to its tempfile.</p>\n\n<p>This allows uploaded file objects to be passed directly to <code>File.read</code><br />\nwithout raising a <code>TypeError</code>:</p>\n\n<pre><code>uploaded_file = ActionDispatch::Http::UploadedFile.new(tempfile: tmp_file)\nFile.read(uploaded_file)\n</code></pre>\n\n<p><em>Aaron Kromer</em></p>\n"
  },
  {
    "message": "*   Pass along arguments to underlying `get` method in `follow_redirect!`\n\n    Now all arguments passed to `follow_redirect!` are passed to the underlying\n    `get` method. This for example allows to set custom headers for the\n    redirection request to the server.\n\n        follow_redirect!(params: { foo: :bar })\n\n    *Remo Fritzsche*",
    "project": "actionpack",
    "date_merged": 1548802456000,
    "author": "Edouard CHIN",
    "sha": "01a26e581f977b08de072ce3c40b9adee2ba1c10",
    "pr": "35081",
    "merge_sha": "94d54fa4ab641a0ddeb173409cb41cc5becc02a9",
    "html": "<p>Pass along arguments to underlying <code>get</code> method in <code>follow_redirect!</code></p>\n\n<p>Now all arguments passed to <code>follow_redirect!</code> are passed to the underlying<br />\n<code>get</code> method. This for example allows to set custom headers for the<br />\nredirection request to the server.</p>\n\n<pre><code>follow_redirect!(params: { foo: :bar })\n</code></pre>\n\n<p><em>Remo Fritzsche</em></p>\n"
  },
  {
    "message": "*   Introduce a new error page to when the implicit render page is accessed in the browser.\n\n    Now instead of showing an error page that with exception and backtraces we now show only\n    one informative page.\n\n    *Vinicius Stock*",
    "project": "actionpack",
    "date_merged": 1529563616000,
    "author": "Genadi Samokovarov",
    "sha": "08433f2fd0de84a260e794e10ecf4e1be9327886",
    "pr": "33175",
    "merge_sha": "f84a4fd1d59761e3d0308ea17dcd2332440f648e",
    "html": "<p>Introduce a new error page to when the implicit render page is accessed in the browser.</p>\n\n<p>Now instead of showing an error page that with exception and backtraces we now show only<br />\none informative page.</p>\n\n<p><em>Vinicius Stock</em></p>\n"
  },
  {
    "message": "*   Introduce `ActionDispatch::DebugExceptions.register_interceptor`.\n\n    Exception aware plugin authors can use the newly introduced\n    `.register_interceptor` method to get the processed exception, instead of\n    monkey patching DebugExceptions.\n\n        ActionDispatch::DebugExceptions.register_interceptor do |request, exception|\n          HypoteticalPlugin.capture_exception(request, exception)\n        end\n\n    *Genadi Samokovarov*",
    "project": "actionpack",
    "date_merged": 1535628300000,
    "author": "bogdanvlviv",
    "sha": "3175d3d549821edefff4604db8fc729391957f0e",
    "pr": "33757",
    "merge_sha": "9297af5daf57c4dca7120a2979ba1923eb4e2a09",
    "html": "<p>Introduce <code>ActionDispatch::DebugExceptions.register_interceptor</code>.</p>\n\n<p>Exception aware plugin authors can use the newly introduced<br />\n<code>.register_interceptor</code> method to get the processed exception, instead of<br />\nmonkey patching DebugExceptions.</p>\n\n<pre><code>ActionDispatch::DebugExceptions.register_interceptor do |request, exception|\n  HypoteticalPlugin.capture_exception(request, exception)\nend\n</code></pre>\n\n<p><em>Genadi Samokovarov</em></p>\n"
  },
  {
    "message": "*   Output only one Content-Security-Policy nonce header value per request.\n\n    Fixes #32597.\n\n    *Andrey Novikov*, *Andrew White*",
    "project": "actionpack",
    "date_merged": 1524049817000,
    "author": "Andrey Novikov",
    "sha": "b9b660728ff771424e423ef917ad81ffadd50210",
    "pr": "32602",
    "merge_sha": "e40578bcda324db1585c49d635d43aedf6e1bfc1",
    "html": "<p>Output only one Content-Security-Policy nonce header value per request.</p>\n\n<p>Fixes #32597.</p>\n\n<p><em>Andrey Novikov</em>, <em>Andrew White</em></p>\n"
  },
  {
    "message": "*   Move default headers configuration into their own module that can be included in controllers.\n\n    *Kevin Deisz*",
    "project": "actionpack",
    "date_merged": 1523401852000,
    "author": "Kevin Deisz",
    "sha": "f22bc41a92e8f51d6f6da5b840f3364474d6aaba",
    "pr": "32484",
    "merge_sha": "6e4e692ee0f7ceb4e33c3711be838701bb65bb6c",
    "html": "<p>Move default headers configuration into their own module that can be included in controllers.</p>\n\n<p><em>Kevin Deisz</em></p>\n"
  },
  {
    "message": "*   Add method `dig` to `session`.\n\n    *claudiob*, *Takumi Shotoku*",
    "project": "actionpack",
    "date_merged": 1523033029000,
    "author": "bogdanvlviv",
    "sha": "15331a2ac4113673d4948eda03e33d0d11d9f335",
    "pr": "32480",
    "merge_sha": "162b1f5463f171be339bea659626bd315f75d630",
    "html": "<p>Add method <code>dig</code> to <code>session</code>.</p>\n\n<p><em>claudiob</em>, <em>Takumi Shotoku</em></p>\n"
  },
  {
    "message": "*   Controller level `force_ssl` has been deprecated in favor of\n    `config.force_ssl`.\n\n    *Derek Prior*",
    "project": "actionpack",
    "date_merged": 1522418569000,
    "author": "Derek Prior",
    "sha": "4701a50b586a440d118dce29c9a48bfb306ade5c",
    "pr": "32277",
    "merge_sha": "c680080967c8941e8a7a6eb44ee3d9e697dd3c91",
    "html": "<p>Controller level <code>force_ssl</code> has been deprecated in favor of<br />\n<code>config.force_ssl</code>.</p>\n\n<p><em>Derek Prior</em></p>\n"
  },
  {
    "message": "*   Rails 6 requires Ruby 2.5.0 or newer.\n\n    *Jeremy Daer*, *Kasper Timm Hansen*",
    "project": "actionpack",
    "date_merged": 1545257730000,
    "author": "Kasper Timm Hansen",
    "sha": "1b7c3222e86b98ce886110ae0860ba62e35e2299",
    "pr": "34754",
    "merge_sha": "04159a7a1dd8e63e070837a461eb15c1cb02aee1",
    "html": "<p>Rails 6 requires Ruby 2.5.0 or newer.</p>\n\n<p><em>Jeremy Daer</em>, <em>Kasper Timm Hansen</em></p>\n"
  },
  {
    "message": "*   Fix and add protections for XSS in `ActionView::Helpers` and `ERB::Util`.\n\n    Add the method `ERB::Util.xml_name_escape` to escape dangerous characters\n    in names of tags and names of attributes, following the specification of XML.\n\n    *Álvaro Martín Fraguas*",
    "project": "activesupport",
    "date_merged": 1651004370000,
    "author": "Alvaro Martin Fraguas",
    "sha": "36a6dad07d572a0098c29d6d96a226638a7caa38",
    "pr": null,
    "merge_sha": "23f8485dced9be73877ae98a6554c7d34156866b",
    "html": "<p>Fix and add protections for XSS in <code>ActionView::Helpers</code> and <code>ERB::Util</code>.</p>\n\n<p>Add the method <code>ERB::Util.xml_name_escape</code> to escape dangerous characters<br />\nin names of tags and names of attributes, following the specification of XML.</p>\n\n<p><em>Álvaro Martín Fraguas</em></p>\n"
  },
  {
    "message": "*   Fix Reloader method signature to work with the new Executor signature",
    "project": "activesupport",
    "date_merged": 1644608758000,
    "author": "Aaron Patterson",
    "sha": "cd81422e05710582a9c5e7d35a490457c36d29d6",
    "pr": null,
    "merge_sha": "ebd753948080313fa87b305c1a717cb3c4952f25",
    "html": "<p>Fix Reloader method signature to work with the new Executor signature</p>\n"
  },
  {
    "message": "*   Fixed issue in `ActiveSupport::Cache::RedisCacheStore` not passing options\n    to `read_multi` causing `fetch_multi` to not work properly.\n\n    *Rajesh Sharma*",
    "project": "activesupport",
    "date_merged": 1598111083000,
    "author": "Eugene Kenny",
    "sha": "dd6087c8f54d999678a8a94d94f2c90698ce5953",
    "pr": "40085",
    "merge_sha": "6dd78c595ebb70342e7d0ec472d5cd03208230cb",
    "html": "<p>Fixed issue in <code>ActiveSupport::Cache::RedisCacheStore</code> not passing options<br />\nto <code>read_multi</code> causing <code>fetch_multi</code> to not work properly.</p>\n\n<p><em>Rajesh Sharma</em></p>\n"
  },
  {
    "message": "*   `with_options` copies its options hash again to avoid leaking mutations.\n\n    Fixes #39343.\n\n    *Eugene Kenny*",
    "project": "activesupport",
    "date_merged": 1590475612000,
    "author": "Eugene Kenny",
    "sha": "d63c53606207116bc7ea5f6124377ae76e93d09b",
    "pr": "39434",
    "merge_sha": "0900923b2403581c1b265ff9dd5fc87fa27ffcce",
    "html": "<p><code>with_options</code> copies its options hash again to avoid leaking mutations.</p>\n\n<p>Fixes #39343.</p>\n\n<p><em>Eugene Kenny</em></p>\n"
  },
  {
    "message": "*   [CVE-2020-8165] Deprecate Marshal.load on raw cache read in RedisCacheStore",
    "project": "activesupport",
    "date_merged": 1589816988000,
    "author": "Aaron Patterson",
    "sha": "0ad524ab6e350412f7093a14f7a358e5f50b0c3f",
    "pr": null,
    "merge_sha": "9d997e1d1fcb8148fef87687325fc80373d69eb7",
    "html": "<p>[CVE-2020-8165] Deprecate Marshal.load on raw cache read in RedisCacheStore</p>\n"
  },
  {
    "message": "*   [CVE-2020-8165] Avoid Marshal.load on raw cache value in MemCacheStore",
    "project": "activesupport",
    "date_merged": 1589816988000,
    "author": "Aaron Patterson",
    "sha": "0ad524ab6e350412f7093a14f7a358e5f50b0c3f",
    "pr": null,
    "merge_sha": "9d997e1d1fcb8148fef87687325fc80373d69eb7",
    "html": "<p>[CVE-2020-8165] Avoid Marshal.load on raw cache value in MemCacheStore</p>\n"
  },
  {
    "message": "*   `Array#to_sentence` no longer returns a frozen string.\n\n    Before:\n\n        ['one', 'two'].to_sentence.frozen?\n        # => true\n\n    After:\n\n        ['one', 'two'].to_sentence.frozen?\n        # => false\n\n    *Nicolas Dular*",
    "project": "activesupport",
    "date_merged": 1580131150000,
    "author": "Rafael França",
    "sha": "77ca887dd12c25ad398b712af2e9ab41f276d6b4",
    "pr": "38316",
    "merge_sha": "bde60239059e50b2201f5082603207035bf7f153",
    "html": "<p><code>Array#to_sentence</code> no longer returns a frozen string.</p>\n\n<p>Before:</p>\n\n<pre><code>['one', 'two'].to_sentence.frozen?\n# =&gt; true\n</code></pre>\n\n<p>After:</p>\n\n<pre><code>['one', 'two'].to_sentence.frozen?\n# =&gt; false\n</code></pre>\n\n<p><em>Nicolas Dular</em></p>\n"
  },
  {
    "message": "*   Update `ActiveSupport::Messages::Metadata#fresh?` to work for cookies with expiry set when\n    `ActiveSupport.parse_json_times = true`.\n\n    *Christian Gregg*",
    "project": "activesupport",
    "date_merged": 1576546836000,
    "author": "Christian Gregg",
    "sha": "d33135bc201b67a159a34ac697d9da67422640b6",
    "pr": "37983",
    "merge_sha": "557dbcf1ed5a73420fb41f5899bce28ef0a21373",
    "html": "<p>Update <code>ActiveSupport::Messages::Metadata#fresh?</code> to work for cookies with expiry set when<br />\n<code>ActiveSupport.parse_json_times = true</code>.</p>\n\n<p><em>Christian Gregg</em></p>\n"
  },
  {
    "message": "*   Eager load translations during initialization.\n\n    *Diego Plentz*",
    "project": "activesupport",
    "date_merged": 1574896442000,
    "author": "Rafael Mendonça França",
    "sha": "c4175eb2cedc3a7ac89b39da408165ca32aec76f",
    "pr": "37806",
    "merge_sha": "a7eff88a51f11ae4c1500f052ffafa1b496adcc4",
    "html": "<p>Eager load translations during initialization.</p>\n\n<p><em>Diego Plentz</em></p>\n"
  },
  {
    "message": "*   Use per-thread CPU time clock on `ActiveSupport::Notifications`.\n\n    *George Claghorn*",
    "project": "activesupport",
    "date_merged": 1574896442000,
    "author": "Rafael Mendonça França",
    "sha": "c4175eb2cedc3a7ac89b39da408165ca32aec76f",
    "pr": "37806",
    "merge_sha": "a7eff88a51f11ae4c1500f052ffafa1b496adcc4",
    "html": "<p>Use per-thread CPU time clock on <code>ActiveSupport::Notifications</code>.</p>\n\n<p><em>George Claghorn</em></p>\n"
  },
  {
    "message": "*   `ActiveSupport::SafeBuffer` supports `Enumerator` methods.\n\n    *Shugo Maeda*",
    "project": "activesupport",
    "date_merged": 1572966447000,
    "author": "George Claghorn",
    "sha": "7982363efabc03e4624cd35aa86e2d284dcd35f7",
    "pr": null,
    "merge_sha": "f2dfc5a496f57f1f8d9f05daf7f7b18c057548f3",
    "html": "<p><code>ActiveSupport::SafeBuffer</code> supports <code>Enumerator</code> methods.</p>\n\n<p><em>Shugo Maeda</em></p>\n"
  },
  {
    "message": "*   The Redis cache store fails gracefully when the server returns a \"max number\n    of clients reached\" error.\n\n    *Brandon Medenwald*",
    "project": "activesupport",
    "date_merged": 1572966447000,
    "author": "George Claghorn",
    "sha": "7982363efabc03e4624cd35aa86e2d284dcd35f7",
    "pr": null,
    "merge_sha": "f2dfc5a496f57f1f8d9f05daf7f7b18c057548f3",
    "html": "<p>The Redis cache store fails gracefully when the server returns a “max number<br />\nof clients reached” error.</p>\n\n<p><em>Brandon Medenwald</em></p>\n"
  },
  {
    "message": "*   Fixed that mutating a value returned by a memory cache store would\n    unexpectedly change the cached value.\n\n    *Jonathan Hyman*",
    "project": "activesupport",
    "date_merged": 1572966447000,
    "author": "George Claghorn",
    "sha": "7982363efabc03e4624cd35aa86e2d284dcd35f7",
    "pr": null,
    "merge_sha": "f2dfc5a496f57f1f8d9f05daf7f7b18c057548f3",
    "html": "<p>Fixed that mutating a value returned by a memory cache store would<br />\nunexpectedly change the cached value.</p>\n\n<p><em>Jonathan Hyman</em></p>\n"
  },
  {
    "message": "*   The default inflectors in `zeitwerk` mode support overrides:\n\n    ```ruby\n    # config/initializers/zeitwerk.rb\n    Rails.autoloaders.each do |autoloader|\n      autoloader.inflector.inflect(\n        \"html_parser\" => \"HTMLParser\",\n        \"ssl_error\"   => \"SSLError\"\n      )\n    end\n    ```\n\n    That way, you can tweak how individual basenames are inflected without touching Active Support inflection rules, which are global. These inflectors fallback to `String#camelize`, so existing inflection rules are still taken into account for non-overridden basenames.\n\n    Please, check the [autoloading guide for `zeitwerk` mode](https://guides.rubyonrails.org/v6.0/autoloading_and_reloading_constants.html#customizing-inflections) if you prefer not to depend on `String#camelize` at all.\n\n    *Xavier Noria*",
    "project": "activesupport",
    "date_merged": 1571254169000,
    "author": "Xavier Noria",
    "sha": "7b6e25c9f4fd4f1a0b7c6f72e686a7f2d1dd8fdf",
    "pr": "37483",
    "merge_sha": "278f2c431ae3c39c11a389f850a08982910a7674",
    "html": "<p>The default inflectors in <code>zeitwerk</code> mode support overrides:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"c1\"># config/initializers/zeitwerk.rb</span>\n<span class=\"no\">Rails</span><span class=\"p\">.</span><span class=\"nf\">autoloaders</span><span class=\"p\">.</span><span class=\"nf\">each</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">autoloader</span><span class=\"o\">|</span>\n  <span class=\"n\">autoloader</span><span class=\"p\">.</span><span class=\"nf\">inflector</span><span class=\"p\">.</span><span class=\"nf\">inflect</span><span class=\"p\">(</span>\n    <span class=\"s2\">\"html_parser\"</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"HTMLParser\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"ssl_error\"</span>   <span class=\"o\">=&gt;</span> <span class=\"s2\">\"SSLError\"</span>\n  <span class=\"p\">)</span>\n<span class=\"k\">end</span>\n</code></pre></div></div>\n\n<p>That way, you can tweak how individual basenames are inflected without touching Active Support inflection rules, which are global. These inflectors fallback to <code>String#camelize</code>, so existing inflection rules are still taken into account for non-overridden basenames.</p>\n\n<p>Please, check the <a href=\"https://guides.rubyonrails.org/v6.0/autoloading_and_reloading_constants.html#customizing-inflections\">autoloading guide for <code>zeitwerk</code> mode</a> if you prefer not to depend on <code>String#camelize</code> at all.</p>\n\n<p><em>Xavier Noria</em></p>\n"
  },
  {
    "message": "*   Improve `Range#===`, `Range#include?`, and `Range#cover?` to work with beginless (startless)\n    and endless range targets.\n\n    *Allen Hsu*, *Andrew Hodgkinson*",
    "project": "activesupport",
    "date_merged": 1569987140000,
    "author": "Carlos Antonio da Silva",
    "sha": "2bc6a948a2f46f8cf2d44506af1be235691c84b5",
    "pr": "37334",
    "merge_sha": "dde8025eb6af382154a63e176852a062c5e3996e",
    "html": "<p>Improve <code>Range#===</code>, <code>Range#include?</code>, and <code>Range#cover?</code> to work with beginless (startless)<br />\nand endless range targets.</p>\n\n<p><em>Allen Hsu</em>, <em>Andrew Hodgkinson</em></p>\n"
  },
  {
    "message": "*   Don't use `Process#clock_gettime(CLOCK_THREAD_CPUTIME_ID)` on Solaris.\n\n    *Iain Beeston*",
    "project": "activesupport",
    "date_merged": 1574896442000,
    "author": "Ryuta Kamizono",
    "sha": "ddf65f222973dacdcf2987307ddbab94c60682b4",
    "pr": "37806",
    "merge_sha": "a7eff88a51f11ae4c1500f052ffafa1b496adcc4",
    "html": "<p>Don’t use <code>Process#clock_gettime(CLOCK_THREAD_CPUTIME_ID)</code> on Solaris.</p>\n\n<p><em>Iain Beeston</em></p>\n"
  },
  {
    "message": "*   Let `require_dependency` in `zeitwerk` mode look the autoload paths up for\n    better backwards compatibility.\n\n    *Xavier Noria*",
    "project": "activesupport",
    "date_merged": 1564563726000,
    "author": "Xavier Noria",
    "sha": "c701e0b8d79d66a6cfcb76851a304bea386bd5ee",
    "pr": "36820",
    "merge_sha": "5a243f6ace8286102fddc3f6ddbd75be5ece078a",
    "html": "<p>Let <code>require_dependency</code> in <code>zeitwerk</code> mode look the autoload paths up for<br />\nbetter backwards compatibility.</p>\n\n<p><em>Xavier Noria</em></p>\n"
  },
  {
    "message": "*   Let `require_dependency` in `zeitwerk` mode support arguments that respond\n    to `to_path` for better backwards compatibility.\n\n    *Xavier Noria*",
    "project": "activesupport",
    "date_merged": 1564563726000,
    "author": "Xavier Noria",
    "sha": "c701e0b8d79d66a6cfcb76851a304bea386bd5ee",
    "pr": "36820",
    "merge_sha": "5a243f6ace8286102fddc3f6ddbd75be5ece078a",
    "html": "<p>Let <code>require_dependency</code> in <code>zeitwerk</code> mode support arguments that respond<br />\nto <code>to_path</code> for better backwards compatibility.</p>\n\n<p><em>Xavier Noria</em></p>\n"
  },
  {
    "message": "*   Make ActiveSupport::Logger Fiber-safe. Fixes #36752.\n\n    Use `Fiber.current.__id__` in `ActiveSupport::Logger#local_level=` in order\n    to make log level local to Ruby Fibers in addition to Threads.\n\n    Example:\n\n        logger = ActiveSupport::Logger.new(STDOUT)\n        logger.level = 1\n        p \"Main is debug? #{logger.debug?}\"\n\n        Fiber.new {\n          logger.local_level = 0\n          p \"Thread is debug? #{logger.debug?}\"\n        }.resume\n\n        p \"Main is debug? #{logger.debug?}\"\n\n    Before:\n\n        Main is debug? false\n        Thread is debug? true\n        Main is debug? true\n\n    After:\n\n        Main is debug? false\n        Thread is debug? true\n        Main is debug? false\n\n    *Alexander Varnin*",
    "project": "activesupport",
    "date_merged": 1564160335000,
    "author": "Rafael França",
    "sha": "ace28a54b9fca1dd1984988eb8a151aab7fa3c1d",
    "pr": "36372",
    "merge_sha": "b6f1d199a3693be8034640aa1c82d4906bc5a2fd",
    "html": "<p>Make ActiveSupport::Logger Fiber-safe. Fixes #36752.</p>\n\n<p>Use <code>Fiber.current.__id__</code> in <code>ActiveSupport::Logger#local_level=</code> in order<br />\nto make log level local to Ruby Fibers in addition to Threads.</p>\n\n<p>Example:</p>\n\n<pre><code>logger = ActiveSupport::Logger.new(STDOUT)\nlogger.level = 1\np \"Main is debug? #{logger.debug?}\"\n\nFiber.new {\n  logger.local_level = 0\n  p \"Thread is debug? #{logger.debug?}\"\n}.resume\n\np \"Main is debug? #{logger.debug?}\"\n</code></pre>\n\n<p>Before:</p>\n\n<pre><code>Main is debug? false\nThread is debug? true\nMain is debug? true\n</code></pre>\n\n<p>After:</p>\n\n<pre><code>Main is debug? false\nThread is debug? true\nMain is debug? false\n</code></pre>\n\n<p><em>Alexander Varnin</em></p>\n"
  },
  {
    "message": "*   Do not delegate missing `marshal_dump` and `_dump` methods via the\n    `delegate_missing_to` extension. This avoids unintentionally adding instance\n    variables when calling `Marshal.dump(object)`, should the delegation target of\n    `object` be a method which would otherwise add them. Fixes #36522.\n\n    *Aaron Lipman*",
    "project": "activesupport",
    "date_merged": 1564160335000,
    "author": "Aaron Lipman",
    "sha": "056414eb0521892dca251f2f03bef6bb314a0f7f",
    "pr": "36372",
    "merge_sha": "b6f1d199a3693be8034640aa1c82d4906bc5a2fd",
    "html": "<p>Do not delegate missing <code>marshal_dump</code> and <code>_dump</code> methods via the<br />\n<code>delegate_missing_to</code> extension. This avoids unintentionally adding instance<br />\nvariables when calling <code>Marshal.dump(object)</code>, should the delegation target of<br />\n<code>object</code> be a method which would otherwise add them. Fixes #36522.</p>\n\n<p><em>Aaron Lipman</em></p>\n"
  },
  {
    "message": "*   `truncate` would return the original string if it was too short to be truncated\n    and a frozen string if it were long enough to be truncated. Now truncate will\n    consistently return an unfrozen string regardless. This behavior is consistent\n    with `gsub` and `strip`.\n\n    Before:\n\n        'foobar'.truncate(5).frozen?\n        # => true\n        'foobar'.truncate(6).frozen?\n        # => false\n\n    After:\n\n        'foobar'.truncate(5).frozen?\n        # => false\n        'foobar'.truncate(6).frozen?\n        # => false\n\n    *Jordan Thomas*",
    "project": "activesupport",
    "date_merged": 1556939360000,
    "author": "Jordan Thomas",
    "sha": "95da7fa5c118b39fc318299f27b7ab82caf0cd11",
    "pr": "36169",
    "merge_sha": "485de3d9f2d7164ece1b0cc283bb406af670ff10",
    "html": "<p><code>truncate</code> would return the original string if it was too short to be truncated<br />\nand a frozen string if it were long enough to be truncated. Now truncate will<br />\nconsistently return an unfrozen string regardless. This behavior is consistent<br />\nwith <code>gsub</code> and <code>strip</code>.</p>\n\n<p>Before:</p>\n\n<pre><code>'foobar'.truncate(5).frozen?\n# =&gt; true\n'foobar'.truncate(6).frozen?\n# =&gt; false\n</code></pre>\n\n<p>After:</p>\n\n<pre><code>'foobar'.truncate(5).frozen?\n# =&gt; false\n'foobar'.truncate(6).frozen?\n# =&gt; false\n</code></pre>\n\n<p><em>Jordan Thomas</em></p>\n"
  },
  {
    "message": "*   Speed improvements to `Hash.except` and `HashWithIndifferentAccess#except`.\n\n    These methods now unset the `default`/`default_proc` on the returned Hash, compatible with Ruby 3.0’s native implementation.\n\n    *Timo Schilling*",
    "project": "activesupport",
    "date_merged": 1613152809000,
    "author": "Chris Stainthorpe",
    "sha": "1a7580fd2a34ba23cf3a6553290e59ca26122c9d",
    "pr": "41424",
    "merge_sha": "17cdab8d89b74ca8de4b46289dac72a9a61c4a89",
    "html": "<p>Speed improvements to <code>Hash.except</code> and <code>HashWithIndifferentAccess#except</code>.</p>\n\n<p>These methods now unset the <code>default</code>/<code>default_proc</code> on the returned Hash, compatible with Ruby 3.0’s native implementation.</p>\n\n<p><em>Timo Schilling</em></p>\n"
  },
  {
    "message": "*   Introduce `ActiveSupport::ActionableError`.\n\n    Actionable errors let's you dispatch actions from Rails' error pages. This\n    can help you save time if you have a clear action for the resolution of\n    common development errors.\n\n    The de-facto example are pending migrations. Every time pending migrations\n    are found, a middleware raises an error. With actionable errors, you can\n    run the migrations right from the error page. Other examples include Rails\n    plugins that need to run a rake task to setup themselves. They can now\n    raise actionable errors to run the setup straight from the error pages.\n\n    Here is how to define an actionable error:\n\n    ```ruby\n    class PendingMigrationError < MigrationError #:nodoc:\n      include ActiveSupport::ActionableError\n\n      action \"Run pending migrations\" do\n        ActiveRecord::Tasks::DatabaseTasks.migrate\n      end\n    end\n    ```\n\n    To make an error actionable, include the `ActiveSupport::ActionableError`\n    module and invoke the `action` class macro to define the action. An action\n    needs a name and a procedure to execute. The name is shown as the name of a\n    button on the error pages. Once clicked, it will invoke the given\n    procedure.\n\n    *Vipul A M*, *Yao Jie*, *Genadi Samokovarov*",
    "project": "activesupport",
    "date_merged": 1555681137000,
    "author": "Genadi Samokovarov",
    "sha": "45f1c7a3e16437e517baa6606674f7bbb16dba74",
    "pr": "34788",
    "merge_sha": "10da0a27512e108a5cde3eeba774b01c15f6c43a",
    "html": "<p>Introduce <code>ActiveSupport::ActionableError</code>.</p>\n\n<p>Actionable errors let’s you dispatch actions from Rails’ error pages. This<br />\ncan help you save time if you have a clear action for the resolution of<br />\ncommon development errors.</p>\n\n<p>The de-facto example are pending migrations. Every time pending migrations<br />\nare found, a middleware raises an error. With actionable errors, you can<br />\nrun the migrations right from the error page. Other examples include Rails<br />\nplugins that need to run a rake task to setup themselves. They can now<br />\nraise actionable errors to run the setup straight from the error pages.</p>\n\n<p>Here is how to define an actionable error:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">PendingMigrationError</span> <span class=\"o\">&lt;</span> <span class=\"no\">MigrationError</span> <span class=\"c1\">#:nodoc:</span>\n  <span class=\"kp\">include</span> <span class=\"no\">ActiveSupport</span><span class=\"o\">::</span><span class=\"no\">ActionableError</span>\n\n  <span class=\"n\">action</span> <span class=\"s2\">\"Run pending migrations\"</span> <span class=\"k\">do</span>\n    <span class=\"no\">ActiveRecord</span><span class=\"o\">::</span><span class=\"no\">Tasks</span><span class=\"o\">::</span><span class=\"no\">DatabaseTasks</span><span class=\"p\">.</span><span class=\"nf\">migrate</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n</code></pre></div></div>\n\n<p>To make an error actionable, include the <code>ActiveSupport::ActionableError</code><br />\nmodule and invoke the <code>action</code> class macro to define the action. An action<br />\nneeds a name and a procedure to execute. The name is shown as the name of a<br />\nbutton on the error pages. Once clicked, it will invoke the given<br />\nprocedure.</p>\n\n<p><em>Vipul A M</em>, <em>Yao Jie</em>, <em>Genadi Samokovarov</em></p>\n"
  },
  {
    "message": "*   Preserve `html_safe?` status on `ActiveSupport::SafeBuffer#*`.\n\n    Before:\n\n        (\"<br />\".html_safe * 2).html_safe? #=> nil\n\n    After:\n\n        (\"<br />\".html_safe * 2).html_safe? #=> true\n\n    *Ryo Nakamura*",
    "project": "activesupport",
    "date_merged": 1555625053000,
    "author": "r7kamura",
    "sha": "9dd254c2a20b393d68c9db4b17a15a672e2a2c16",
    "pr": "36012",
    "merge_sha": "4acddae05e65ec62114219d0595d78bd13ed889d",
    "html": "<p>Preserve <code>html_safe?</code> status on <code>ActiveSupport::SafeBuffer#*</code>.</p>\n\n<p>Before:</p>\n\n<pre><code>(\"&lt;br /&gt;\".html_safe * 2).html_safe? #=&gt; nil\n</code></pre>\n\n<p>After:</p>\n\n<pre><code>(\"&lt;br /&gt;\".html_safe * 2).html_safe? #=&gt; true\n</code></pre>\n\n<p><em>Ryo Nakamura</em></p>\n"
  },
  {
    "message": "*   Calling test methods with `with_info_handler` method to allow minitest-hooks\n    plugin to work.\n\n    *Mauri Mustonen*",
    "project": "activesupport",
    "date_merged": 1555448413000,
    "author": "Mauri Mustonen",
    "sha": "758ba117a008b6ea2d3b92c53b6a7a8d7ccbca69",
    "pr": "34378",
    "merge_sha": "1da9a7e410f15859939eb4158421846638a41e71",
    "html": "<p>Calling test methods with <code>with_info_handler</code> method to allow minitest-hooks<br />\nplugin to work.</p>\n\n<p><em>Mauri Mustonen</em></p>\n"
  },
  {
    "message": "*   The Zeitwerk compatibility interface for `ActiveSupport::Dependencies` no\n    longer implements `autoloaded_constants` or `autoloaded?` (undocumented,\n    anyway). Experience shows introspection does not have many use cases, and\n    troubleshooting is done by logging. With this design trade-off we are able\n    to use even less memory in all environments.\n\n    *Xavier Noria*",
    "project": "activesupport",
    "date_merged": 1554811050000,
    "author": "Xavier Noria",
    "sha": "9b5401fcc9624be9bd60331d59169267ae2f7bac",
    "pr": "35904",
    "merge_sha": "17418ba7d19aee9893d42024792268db2e117887",
    "html": "<p>The Zeitwerk compatibility interface for <code>ActiveSupport::Dependencies</code> no<br />\nlonger implements <code>autoloaded_constants</code> or <code>autoloaded?</code> (undocumented,<br />\nanyway). Experience shows introspection does not have many use cases, and<br />\ntroubleshooting is done by logging. With this design trade-off we are able<br />\nto use even less memory in all environments.</p>\n\n<p><em>Xavier Noria</em></p>\n"
  },
  {
    "message": "*   Depends on Zeitwerk 2, which stores less metadata if reloading is disabled\n    and hence uses less memory when `config.cache_classes` is `true`, a standard\n    setup in production.\n\n    *Xavier Noria*",
    "project": "activesupport",
    "date_merged": 1554727649000,
    "author": "Xavier Noria",
    "sha": "57c7cbb1623c0e8befc58988a34bbb9896fd226a",
    "pr": "35883",
    "merge_sha": "dbd3ce616076fc5688cea67e124676ee504bcb1b",
    "html": "<p>Depends on Zeitwerk 2, which stores less metadata if reloading is disabled<br />\nand hence uses less memory when <code>config.cache_classes</code> is <code>true</code>, a standard<br />\nsetup in production.</p>\n\n<p><em>Xavier Noria</em></p>\n"
  },
  {
    "message": "*   In `:zeitwerk` mode, eager load directories in engines and applications only\n    if present in their respective `config.eager_load_paths`.\n\n    A common use case for this is adding `lib` to `config.autoload_paths`, but\n    not to `config.eager_load_paths`. In that configuration, for example, files\n    in the `lib` directory should not be eager loaded.\n\n    *Xavier Noria*",
    "project": "activesupport",
    "date_merged": 1553950065000,
    "author": "Xavier Noria",
    "sha": "278f0dfeac03e9e9d57eae8f4618ff94d8584abe",
    "pr": "35802",
    "merge_sha": "26be20ac007045f84fed2a5eabefbf8d7438e61e",
    "html": "<p>In <code>:zeitwerk</code> mode, eager load directories in engines and applications only<br />\nif present in their respective <code>config.eager_load_paths</code>.</p>\n\n<p>A common use case for this is adding <code>lib</code> to <code>config.autoload_paths</code>, but<br />\nnot to <code>config.eager_load_paths</code>. In that configuration, for example, files<br />\nin the <code>lib</code> directory should not be eager loaded.</p>\n\n<p><em>Xavier Noria</em></p>\n"
  },
  {
    "message": "*   Fix bug in Range comparisons when comparing to an excluded-end Range\n\n    Before:\n\n        (1..10).cover?(1...11) # => false\n\n    After:\n\n        (1..10).cover?(1...11) # => true\n\n    With the same change for `Range#include?` and `Range#===`.\n\n    *Owen Stephens*",
    "project": "activesupport",
    "date_merged": 1553739279000,
    "author": "Owen Stephens",
    "sha": "ca2a3bcaad04b522a08b89aafaf0ecb6db7d05ca",
    "pr": "35776",
    "merge_sha": "a7723b80f031f3b19c2fc73f054f6e06c3a88141",
    "html": "<p>Fix bug in Range comparisons when comparing to an excluded-end Range</p>\n\n<p>Before:</p>\n\n<pre><code>(1..10).cover?(1...11) # =&gt; false\n</code></pre>\n\n<p>After:</p>\n\n<pre><code>(1..10).cover?(1...11) # =&gt; true\n</code></pre>\n\n<p>With the same change for <code>Range#include?</code> and <code>Range#===</code>.</p>\n\n<p><em>Owen Stephens</em></p>\n"
  },
  {
    "message": "*   Use weak references in descendants tracker to allow anonymous subclasses to\n    be garbage collected.\n\n    *Edgars Beigarts*",
    "project": "activesupport",
    "date_merged": 1553607880000,
    "author": "Edgars Beigarts",
    "sha": "7432c9226e67de1b9a334a097446ea8c12350dbe",
    "pr": "31442",
    "merge_sha": "3296dc258960aa3289a3a9a6d118d3ef40089bd9",
    "html": "<p>Use weak references in descendants tracker to allow anonymous subclasses to<br />\nbe garbage collected.</p>\n\n<p><em>Edgars Beigarts</em></p>\n"
  },
  {
    "message": "*   Update `ActiveSupport::Notifications::Instrumenter#instrument` to make\n    passing a block optional. This will let users use\n    `ActiveSupport::Notifications` messaging features outside of\n    instrumentation.\n\n    *Ali Ibrahim*",
    "project": "activesupport",
    "date_merged": 1553282975000,
    "author": "Ali Ibrahim",
    "sha": "b64cb9745217128086c9068c5964e3ea7b726e3c",
    "pr": "35710",
    "merge_sha": "1d2f553d16d8e3ee1dd6622b96ad98a72ea98d2d",
    "html": "<p>Update <code>ActiveSupport::Notifications::Instrumenter#instrument</code> to make<br />\npassing a block optional. This will let users use<br />\n<code>ActiveSupport::Notifications</code> messaging features outside of<br />\ninstrumentation.</p>\n\n<p><em>Ali Ibrahim</em></p>\n"
  },
  {
    "message": "*   Fix `Time#advance` to work with dates before 1001-03-07\n\n    Before:\n\n        Time.utc(1001, 3, 6).advance(years: -1) # => 1000-03-05 00:00:00 UTC\n\n    After\n\n        Time.utc(1001, 3, 6).advance(years: -1) # => 1000-03-06 00:00:00 UTC\n\n    Note that this doesn't affect `DateTime#advance` as that doesn't use a proleptic calendar.\n\n    *Andrew White*",
    "project": "activesupport",
    "date_merged": 1552995439000,
    "author": "Andrew White",
    "sha": "58ac3f212f0dca31d8dc3c35ba13c14581d8b5f3",
    "pr": "35659",
    "merge_sha": "4a797074e40916d85012461a92310b46d396428a",
    "html": "<p>Fix <code>Time#advance</code> to work with dates before 1001-03-07</p>\n\n<p>Before:</p>\n\n<pre><code>Time.utc(1001, 3, 6).advance(years: -1) # =&gt; 1000-03-05 00:00:00 UTC\n</code></pre>\n\n<p>After</p>\n\n<pre><code>Time.utc(1001, 3, 6).advance(years: -1) # =&gt; 1000-03-06 00:00:00 UTC\n</code></pre>\n\n<p>Note that this doesn’t affect <code>DateTime#advance</code> as that doesn’t use a proleptic calendar.</p>\n\n<p><em>Andrew White</em></p>\n"
  },
  {
    "message": "*   In Zeitwerk mode, engines are now managed by the `main` autoloader. Engines may reference application constants, if the application is reloaded and we do not reload engines, they won't use the reloaded application code.\n\n    *Xavier Noria*",
    "project": "activesupport",
    "date_merged": 1552693246000,
    "author": "Xavier Noria",
    "sha": "a47c84d584777238a6955e3a08436577c471af0f",
    "pr": "35634",
    "merge_sha": "26b5e6284703432fc9022b215a221037fc05920d",
    "html": "<p>In Zeitwerk mode, engines are now managed by the <code>main</code> autoloader. Engines may reference application constants, if the application is reloaded and we do not reload engines, they won’t use the reloaded application code.</p>\n\n<p><em>Xavier Noria</em></p>\n"
  },
  {
    "message": "*   Add support for supplying `locale` to `transliterate` and `parameterize`.\n\n        I18n.backend.store_translations(:de, i18n: { transliterate: { rule: { \"ü\" => \"ue\" } } })\n\n        ActiveSupport::Inflector.transliterate(\"ü\", locale: :de) # => \"ue\"\n        \"Fünf autos\".parameterize(locale: :de) # => \"fuenf-autos\"\n        ActiveSupport::Inflector.parameterize(\"Fünf autos\", locale: :de) # => \"fuenf-autos\"\n\n    *Kaan Ozkan*, *Sharang Dashputre*",
    "project": "activesupport",
    "date_merged": 1552387144000,
    "author": "Ryuta Kamizono",
    "sha": "c5979e7bea40f77a66c10169a1a3ced56d64241c",
    "pr": "35530",
    "merge_sha": "7ed1302cd2c458bb552fcd0ded83403c039de28d",
    "html": "<p>Add support for supplying <code>locale</code> to <code>transliterate</code> and <code>parameterize</code>.</p>\n\n<pre><code>I18n.backend.store_translations(:de, i18n: { transliterate: { rule: { \"ü\" =&gt; \"ue\" } } })\n\nActiveSupport::Inflector.transliterate(\"ü\", locale: :de) # =&gt; \"ue\"\n\"Fünf autos\".parameterize(locale: :de) # =&gt; \"fuenf-autos\"\nActiveSupport::Inflector.parameterize(\"Fünf autos\", locale: :de) # =&gt; \"fuenf-autos\"\n</code></pre>\n\n<p><em>Kaan Ozkan</em>, <em>Sharang Dashputre</em></p>\n"
  },
  {
    "message": "*   Allow `Array#excluding` and `Enumerable#excluding` to deal with a passed array gracefully.\n\n        [ 1, 2, 3, 4, 5 ].excluding([4, 5]) # => [ 1, 2, 3 ]\n\n    *DHH*",
    "project": "activesupport",
    "date_merged": 1554051927000,
    "author": "Ryuta Kamizono",
    "sha": "51ab5cb0432c483422112ebbb274855a3fa5ecc8",
    "pr": "35793",
    "merge_sha": "563bf5771fb8bf3c8458393cd5a42bab7a5b6f1e",
    "html": "<p>Allow <code>Array#excluding</code> and <code>Enumerable#excluding</code> to deal with a passed array gracefully.</p>\n\n<pre><code>[ 1, 2, 3, 4, 5 ].excluding([4, 5]) # =&gt; [ 1, 2, 3 ]\n</code></pre>\n\n<p><em>DHH</em></p>\n"
  },
  {
    "message": "*   Renamed `Array#without` and `Enumerable#without` to `Array#excluding` and `Enumerable#excluding`, to create parity with\n    `Array#including` and `Enumerable#including`. Retained the old names as aliases.\n\n    *DHH*",
    "project": "activesupport",
    "date_merged": 1553991085000,
    "author": "Ryuta Kamizono",
    "sha": "b89a3e7e638a50c648a17d09c48b49b707e1d90d",
    "pr": "35799",
    "merge_sha": "aae8fd0e07a9e924838845c1b29960f598fc14f3",
    "html": "<p>Renamed <code>Array#without</code> and <code>Enumerable#without</code> to <code>Array#excluding</code> and <code>Enumerable#excluding</code>, to create parity with<br />\n<code>Array#including</code> and <code>Enumerable#including</code>. Retained the old names as aliases.</p>\n\n<p><em>DHH</em></p>\n"
  },
  {
    "message": "*   Added `Array#including` and `Enumerable#including` to conveniently enlarge a collection with more members using a method rather than an operator:\n\n        [ 1, 2, 3 ].including(4, 5) # => [ 1, 2, 3, 4, 5 ]\n        post.authors.including(Current.person) # => All the authors plus the current person!\n\n    *DHH*",
    "project": "activesupport",
    "date_merged": 1553991085000,
    "author": "Ryuta Kamizono",
    "sha": "b89a3e7e638a50c648a17d09c48b49b707e1d90d",
    "pr": "35799",
    "merge_sha": "aae8fd0e07a9e924838845c1b29960f598fc14f3",
    "html": "<p>Added <code>Array#including</code> and <code>Enumerable#including</code> to conveniently enlarge a collection with more members using a method rather than an operator:</p>\n\n<pre><code>[ 1, 2, 3 ].including(4, 5) # =&gt; [ 1, 2, 3, 4, 5 ]\npost.authors.including(Current.person) # =&gt; All the authors plus the current person!\n</code></pre>\n\n<p><em>DHH</em></p>\n"
  },
  {
    "message": "*   New autoloading based on [Zeitwerk](https://github.com/fxn/zeitwerk).\n\n    *Xavier Noria*",
    "project": "activesupport",
    "date_merged": 1550167134000,
    "author": "Xavier Noria",
    "sha": "e53430fa9af239e21e11548499d814f540d421e5",
    "pr": "35242",
    "merge_sha": "5f7180676bd60b44566a24b293376d54ff5d0d94",
    "html": "<p>New autoloading based on <a href=\"https://github.com/fxn/zeitwerk\">Zeitwerk</a>.</p>\n\n<p><em>Xavier Noria</em></p>\n"
  },
  {
    "message": "*   Revise `ActiveSupport::Notifications.unsubscribe` to correctly handle Regex or other multiple-pattern subscribers.\n\n    *Zach Kemp*",
    "project": "activesupport",
    "date_merged": 1549935737000,
    "author": "zvkemp",
    "sha": "94f8e8c8f73b7034a9cc3e7f6bf040350aa9701f",
    "pr": "32861",
    "merge_sha": "87a5b5d023cf785d89cf0abd3e78e3084b6af02d",
    "html": "<p>Revise <code>ActiveSupport::Notifications.unsubscribe</code> to correctly handle Regex or other multiple-pattern subscribers.</p>\n\n<p><em>Zach Kemp</em></p>\n"
  },
  {
    "message": "*   Add `before_reset` callback to `CurrentAttributes` and define `after_reset` as an alias of `resets` for symmetry.\n\n    *Rosa Gutierrez*",
    "project": "activesupport",
    "date_merged": 1549320100000,
    "author": "Rosa Gutierrez",
    "sha": "2ce8455cc994c788a44f5b414769cb2dbee4577d",
    "pr": "35063",
    "merge_sha": "3cf57007bfcba8172a0f5cce445bb364720d5665",
    "html": "<p>Add <code>before_reset</code> callback to <code>CurrentAttributes</code> and define <code>after_reset</code> as an alias of <code>resets</code> for symmetry.</p>\n\n<p><em>Rosa Gutierrez</em></p>\n"
  },
  {
    "message": "*   Remove the `` Kernel#` `` override that suppresses ENOENT and accidentally returns nil on Unix systems.\n\n    *Akinori Musha*",
    "project": "activesupport",
    "date_merged": 1549320159000,
    "author": "Rafael Mendonça França",
    "sha": "3cf57007bfcba8172a0f5cce445bb364720d5665",
    "pr": "35157",
    "merge_sha": "264a5417b38c16eeee786d87bcc668fc5d966037",
    "html": "<p>Remove the <code>Kernel#`</code> override that suppresses ENOENT and accidentally returns nil on Unix systems.</p>\n\n<p><em>Akinori Musha</em></p>\n"
  },
  {
    "message": "*   Add `ActiveSupport::HashWithIndifferentAccess#assoc`.\n\n    `assoc` can now be called with either a string or a symbol.\n\n    *Stefan Schüßler*",
    "project": "activesupport",
    "date_merged": 1548839155000,
    "author": "Stefan Schüßler",
    "sha": "fc6a525341d7a287740d3e61beaccabd3e65bdc3",
    "pr": "35080",
    "merge_sha": "9bb07b79e4bd855f24c098ba636dae15340e03ed",
    "html": "<p>Add <code>ActiveSupport::HashWithIndifferentAccess#assoc</code>.</p>\n\n<p><code>assoc</code> can now be called with either a string or a symbol.</p>\n\n<p><em>Stefan Schüßler</em></p>\n"
  },
  {
    "message": "*   Add `Hash#deep_transform_values`, and `Hash#deep_transform_values!`.\n\n    *Guillermo Iguaran*",
    "project": "activesupport",
    "date_merged": 1549742042000,
    "author": "Guillermo Iguaran",
    "sha": "b8dc06b8fdc16874160f61dcf58743fcc10e57db",
    "pr": "35201",
    "merge_sha": "ea0eaced55465ce8054cf54ff583d75272bd8505",
    "html": "<p>Add <code>Hash#deep_transform_values</code>, and <code>Hash#deep_transform_values!</code>.</p>\n\n<p><em>Guillermo Iguaran</em></p>\n"
  },
  {
    "message": "*   Remove deprecated `Module#reachable?` method.\n\n    *Rafael Mendonça França*",
    "project": "activesupport",
    "date_merged": 1547763177000,
    "author": "Rafael Mendonça França",
    "sha": "6eb1d56a333fd2015610d31793ed6281acd66551",
    "pr": "34954",
    "merge_sha": "e65a3a0ce585b1fbcd35872616717595d6950fca",
    "html": "<p>Remove deprecated <code>Module#reachable?</code> method.</p>\n\n<p><em>Rafael Mendonça França</em></p>\n"
  },
  {
    "message": "*   Remove deprecated `#acronym_regex` method from `Inflections`.\n\n    *Rafael Mendonça França*",
    "project": "activesupport",
    "date_merged": 1547763177000,
    "author": "Rafael Mendonça França",
    "sha": "0ce67d3cd6d1b7b9576b07fecae3dd5b422a5689",
    "pr": "34954",
    "merge_sha": "e65a3a0ce585b1fbcd35872616717595d6950fca",
    "html": "<p>Remove deprecated <code>#acronym_regex</code> method from <code>Inflections</code>.</p>\n\n<p><em>Rafael Mendonça França</em></p>\n"
  },
  {
    "message": "*   Fix `String#safe_constantize` throwing a `LoadError` for incorrectly cased constant references.\n\n    *Keenan Brock*",
    "project": "activesupport",
    "date_merged": 1547148254000,
    "author": "Keenan Brock",
    "sha": "a930f5ba0654e8c8c7ac7b3febbb573d03559a40",
    "pr": "34892",
    "merge_sha": "ebda02d017e623ce0edade5a5ed37ebf2f2c7442",
    "html": "<p>Fix <code>String#safe_constantize</code> throwing a <code>LoadError</code> for incorrectly cased constant references.</p>\n\n<p><em>Keenan Brock</em></p>\n"
  },
  {
    "message": "*   Preserve key order passed to `ActiveSupport::CacheStore#fetch_multi`.\n\n    `fetch_multi(*names)` now returns its results in the same order as the `*names` requested, rather than returning cache hits followed by cache misses.\n\n    *Gannon McGibbon*",
    "project": "activesupport",
    "date_merged": 1546886942000,
    "author": "Gannon McGibbon",
    "sha": "94ecf95674f81c5590c8f08549208907b81e3bf8",
    "pr": "34700",
    "merge_sha": "cd16413ef3280a50c1b13b1ed7be1a907fad88d1",
    "html": "<p>Preserve key order passed to <code>ActiveSupport::CacheStore#fetch_multi</code>.</p>\n\n<p><code>fetch_multi(*names)</code> now returns its results in the same order as the <code>*names</code> requested, rather than returning cache hits followed by cache misses.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   If the same block is `included` multiple times for a Concern, an exception is no longer raised.\n\n    *Mark J. Titorenko*, *Vlad Bokov*",
    "project": "activesupport",
    "date_merged": 1543521199000,
    "author": "Mark J. Titorenko",
    "sha": "8212dfcf14c63c006b9e1c37595f3d62eab052cf",
    "pr": "34553",
    "merge_sha": "c8e4d5a1e3be2290bc6007987e40312e19480474",
    "html": "<p>If the same block is <code>included</code> multiple times for a Concern, an exception is no longer raised.</p>\n\n<p><em>Mark J. Titorenko</em>, <em>Vlad Bokov</em></p>\n"
  },
  {
    "message": "*   Fix bug where `#to_options` for `ActiveSupport::HashWithIndifferentAccess`\n    would not act as alias for `#symbolize_keys`.\n\n    *Nick Weiland*",
    "project": "activesupport",
    "date_merged": 1541092869000,
    "author": "Nick Weiland",
    "sha": "4ba5386e6c647b285490b0a9f44fcf617daeda41",
    "pr": "34360",
    "merge_sha": "d80925b169f0db950697868f5659a67cc03e8654",
    "html": "<p>Fix bug where <code>#to_options</code> for <code>ActiveSupport::HashWithIndifferentAccess</code><br />\nwould not act as alias for <code>#symbolize_keys</code>.</p>\n\n<p><em>Nick Weiland</em></p>\n"
  },
  {
    "message": "*   Improve the logic that detects non-autoloaded constants.\n\n    *Jan Habermann*, *Xavier Noria*",
    "project": "activesupport",
    "date_merged": 1540777528000,
    "author": "Xavier Noria",
    "sha": "d3cf5d25fca91ee48097f10b1f34b2f8f852cb6a",
    "pr": "34334",
    "merge_sha": "0bd4894d8b1977c00f4af64947ef860eee5d2b44",
    "html": "<p>Improve the logic that detects non-autoloaded constants.</p>\n\n<p><em>Jan Habermann</em>, <em>Xavier Noria</em></p>\n"
  },
  {
    "message": "*   Deprecate `ActiveSupport::Multibyte::Unicode#pack_graphemes(array)` and `ActiveSupport::Multibyte::Unicode#unpack_graphemes(string)`\n    in favor of `array.flatten.pack(\"U*\")` and `string.scan(/\\X/).map(&:codepoints)`, respectively.\n\n    *Francesco Rodríguez*",
    "project": "activesupport",
    "date_merged": 1573596888000,
    "author": "Romil Mehta",
    "sha": "6475ce10b9a8d3a7c80b9e35a903906355571266",
    "pr": "37691",
    "merge_sha": "bab4593a448fe8d6e41a0e10f4bca5e66198e025",
    "html": "<p>Deprecate <code>ActiveSupport::Multibyte::Unicode#pack_graphemes(array)</code> and <code>ActiveSupport::Multibyte::Unicode#unpack_graphemes(string)</code><br />\nin favor of <code>array.flatten.pack(\"U*\")</code> and <code>string.scan(/\\X/).map(&amp;:codepoints)</code>, respectively.</p>\n\n<p><em>Francesco Rodríguez</em></p>\n"
  },
  {
    "message": "*   Deprecate `ActiveSupport::Multibyte::Chars.consumes?` in favor of `String#is_utf8?`.\n\n    *Francesco Rodríguez*",
    "project": "activesupport",
    "date_merged": 1539651261000,
    "author": "Francesco Rodríguez",
    "sha": "134dab46e4e94d7e6e37cec43dca8183fe72aea6",
    "pr": "33075",
    "merge_sha": "b7c29fc962588b28d2955dfcb14e5f655e181164",
    "html": "<p>Deprecate <code>ActiveSupport::Multibyte::Chars.consumes?</code> in favor of <code>String#is_utf8?</code>.</p>\n\n<p><em>Francesco Rodríguez</em></p>\n"
  },
  {
    "message": "*   Fix duration being rounded to a full second.\n    ```\n      time = DateTime.parse(\"2018-1-1\")\n      time += 0.51.seconds\n    ```\n    Will now correctly add 0.51 second and not 1 full second.\n\n    *Edouard Chin*",
    "project": "activesupport",
    "date_merged": 1539593593000,
    "author": "Edouard CHIN",
    "sha": "c85e3f65f3409fc329732912908c3601d8e5fac9",
    "pr": "34135",
    "merge_sha": "777cc1da7d3ecca3f669976b47310f362e2bc8a4",
    "html": "<p>Fix duration being rounded to a full second.</p>\n<pre><code>  time = DateTime.parse(\"2018-1-1\")\n  time += 0.51.seconds\n</code></pre>\n<p>Will now correctly add 0.51 second and not 1 full second.</p>\n\n<p><em>Edouard Chin</em></p>\n"
  },
  {
    "message": "*   Deprecate `ActiveSupport::Multibyte::Unicode#normalize` and `ActiveSupport::Multibyte::Chars#normalize`\n    in favor of `String#unicode_normalize`\n\n    *Francesco Rodríguez*",
    "project": "activesupport",
    "date_merged": 1573596888000,
    "author": "Romil Mehta",
    "sha": "6475ce10b9a8d3a7c80b9e35a903906355571266",
    "pr": "37691",
    "merge_sha": "bab4593a448fe8d6e41a0e10f4bca5e66198e025",
    "html": "<p>Deprecate <code>ActiveSupport::Multibyte::Unicode#normalize</code> and <code>ActiveSupport::Multibyte::Chars#normalize</code><br />\nin favor of <code>String#unicode_normalize</code></p>\n\n<p><em>Francesco Rodríguez</em></p>\n"
  },
  {
    "message": "*   Deprecate `ActiveSupport::Multibyte::Unicode#downcase/upcase/swapcase` in favor of\n    `String#downcase/upcase/swapcase`.\n\n    *Francesco Rodríguez*",
    "project": "activesupport",
    "date_merged": 1539354975000,
    "author": "Francesco Rodríguez",
    "sha": "e52b223487c4a72ccdd6d631318fc3cfcf8097ba",
    "pr": "34123",
    "merge_sha": "619b2ae6a489c627096a36aa63fdff546ce766d1",
    "html": "<p>Deprecate <code>ActiveSupport::Multibyte::Unicode#downcase/upcase/swapcase</code> in favor of<br />\n<code>String#downcase/upcase/swapcase</code>.</p>\n\n<p><em>Francesco Rodríguez</em></p>\n"
  },
  {
    "message": "*   Add `ActiveSupport::ParameterFilter`.\n\n    *Yoshiyuki Kinjo*",
    "project": "activesupport",
    "date_merged": 1538988559000,
    "author": "Yoshiyuki Kinjo",
    "sha": "7f80be29a2655757985b8f70855940f4dc5445cf",
    "pr": "34039",
    "merge_sha": "5dbf5c660ce4ad1f989f2d05032664c7ee26488c",
    "html": "<p>Add <code>ActiveSupport::ParameterFilter</code>.</p>\n\n<p><em>Yoshiyuki Kinjo</em></p>\n"
  },
  {
    "message": "*   Rename `Module#parent`, `Module#parents`, and `Module#parent_name` to\n    `module_parent`, `module_parents`, and `module_parent_name`.\n\n    *Gannon McGibbon*",
    "project": "activesupport",
    "date_merged": 1538510663000,
    "author": "Gannon McGibbon",
    "sha": "004fda35688015350eef6152d0c5dbfa3f26a713",
    "pr": "34051",
    "merge_sha": "92fece96da28d9f641bc8a8db1187b91c94cabfb",
    "html": "<p>Rename <code>Module#parent</code>, <code>Module#parents</code>, and <code>Module#parent_name</code> to<br />\n<code>module_parent</code>, <code>module_parents</code>, and <code>module_parent_name</code>.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Deprecate the use of `LoggerSilence` in favor of `ActiveSupport::LoggerSilence`\n\n    *Edouard Chin*",
    "project": "activesupport",
    "date_merged": 1538507275000,
    "author": "Edouard CHIN",
    "sha": "783f86822b49aa39d122f9c86939a17dac869cad",
    "pr": "34045",
    "merge_sha": "a87764e99423ca9d3c669ab01625a787bd1b8d18",
    "html": "<p>Deprecate the use of <code>LoggerSilence</code> in favor of <code>ActiveSupport::LoggerSilence</code></p>\n\n<p><em>Edouard Chin</em></p>\n"
  },
  {
    "message": "*   Deprecate using negative limits in `String#first` and `String#last`.\n\n    *Gannon McGibbon*, *Eric Turner*",
    "project": "activesupport",
    "date_merged": 1538492740000,
    "author": "Gannon McGibbon",
    "sha": "ec9a89cb8be037cde2466a5347ea5c4ec648a4c3",
    "pr": "33058",
    "merge_sha": "cf608ee34dd833b0357ef4eefa692db33242d2aa",
    "html": "<p>Deprecate using negative limits in <code>String#first</code> and <code>String#last</code>.</p>\n\n<p><em>Gannon McGibbon</em>, <em>Eric Turner</em></p>\n"
  },
  {
    "message": "*   Fix bug where `#without` for `ActiveSupport::HashWithIndifferentAccess` would fail\n    with symbol arguments\n\n    *Abraham Chan*",
    "project": "activesupport",
    "date_merged": 1538150421000,
    "author": "Abraham Chan",
    "sha": "b2ea8310734b734c29b806f272c866045fc9bca7",
    "pr": "34012",
    "merge_sha": "7d3f1c414f5dd4b8f9200676b4c370a29cfd7960",
    "html": "<p>Fix bug where <code>#without</code> for <code>ActiveSupport::HashWithIndifferentAccess</code> would fail<br />\nwith symbol arguments</p>\n\n<p><em>Abraham Chan</em></p>\n"
  },
  {
    "message": "*   Treat `#delete_prefix`, `#delete_suffix` and `#unicode_normalize` results as non-`html_safe`.\n    Ensure safety of arguments for `#insert`, `#[]=` and `#replace` calls on `html_safe` Strings.\n\n    *Janosch Müller*",
    "project": "activesupport",
    "date_merged": 1538096429000,
    "author": "Janosch Müller",
    "sha": "47f2686148bcaa04f24c1ed895d75ff877be12e9",
    "pr": "31441",
    "merge_sha": "a27c78427a3cef06235ea2d05a689b7309d52334",
    "html": "<p>Treat <code>#delete_prefix</code>, <code>#delete_suffix</code> and <code>#unicode_normalize</code> results as non-<code>html_safe</code>.<br />\nEnsure safety of arguments for <code>#insert</code>, <code>#[]=</code> and <code>#replace</code> calls on <code>html_safe</code> Strings.</p>\n\n<p><em>Janosch Müller</em></p>\n"
  },
  {
    "message": "*   Changed `ActiveSupport::TaggedLogging.new` to return a new logger instance instead\n    of mutating the one received as parameter.\n\n    *Thierry Joyal*",
    "project": "activesupport",
    "date_merged": 1536713185000,
    "author": "Rafael Mendonça França",
    "sha": "e09c55dc8e958d2f68be262562e4083cc25b3756",
    "pr": "33483",
    "merge_sha": "81174b35c6bfb183149358f3a86e9d0542dad23d",
    "html": "<p>Changed <code>ActiveSupport::TaggedLogging.new</code> to return a new logger instance instead<br />\nof mutating the one received as parameter.</p>\n\n<p><em>Thierry Joyal</em></p>\n"
  },
  {
    "message": "*   Define `unfreeze_time` as an alias of `travel_back` in `ActiveSupport::Testing::TimeHelpers`.\n\n    The alias is provided for symmetry with `freeze_time`.\n\n    *Ryan Davidson*",
    "project": "activesupport",
    "date_merged": 1536616011000,
    "author": "ryanwhocodes",
    "sha": "36e6571a40000a2d7d675384b071c9a009c24499",
    "pr": "33813",
    "merge_sha": "621a4e77cf0b245ae740b2ff1bab5e356363ab45",
    "html": "<p>Define <code>unfreeze_time</code> as an alias of <code>travel_back</code> in <code>ActiveSupport::Testing::TimeHelpers</code>.</p>\n\n<p>The alias is provided for symmetry with <code>freeze_time</code>.</p>\n\n<p><em>Ryan Davidson</em></p>\n"
  },
  {
    "message": "*   Add support for tracing constant autoloads. Just throw\n\n        ActiveSupport::Dependencies.logger = Rails.logger\n        ActiveSupport::Dependencies.verbose = true\n\n    in an initializer.\n\n    *Xavier Noria*",
    "project": "activesupport",
    "date_merged": 1536520844000,
    "author": "Xavier Noria",
    "sha": "5f35c60f848dda275e34bc055f58031c08d7b416",
    "pr": "33825",
    "merge_sha": "101096e5421d93b02d9df284385cf305db81cd1f",
    "html": "<p>Add support for tracing constant autoloads. Just throw</p>\n\n<pre><code>ActiveSupport::Dependencies.logger = Rails.logger\nActiveSupport::Dependencies.verbose = true\n</code></pre>\n\n<p>in an initializer.</p>\n\n<p><em>Xavier Noria</em></p>\n"
  },
  {
    "message": "*   Maintain `html_safe?` on html_safe strings when sliced.\n\n        string = \"<div>test</div>\".html_safe\n        string[-1..1].html_safe? # => true\n\n    *Elom Gomez*, *Yumin Wong*",
    "project": "activesupport",
    "date_merged": 1536322181000,
    "author": "Ryuta Kamizono",
    "sha": "736edb982856f0de04d4566f657c0c84f145e7ef",
    "pr": "33756",
    "merge_sha": "2a470d73a75ebf8cd7975e469bd82586d9234442",
    "html": "<p>Maintain <code>html_safe?</code> on html_safe strings when sliced.</p>\n\n<pre><code>string = \"&lt;div&gt;test&lt;/div&gt;\".html_safe\nstring[-1..1].html_safe? # =&gt; true\n</code></pre>\n\n<p><em>Elom Gomez</em>, <em>Yumin Wong</em></p>\n"
  },
  {
    "message": "*   Add `Array#extract!`.\n\n    The method removes and returns the elements for which the block returns a true value.\n    If no block is given, an Enumerator is returned instead.\n\n        numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n        odd_numbers = numbers.extract! { |number| number.odd? } # => [1, 3, 5, 7, 9]\n        numbers # => [0, 2, 4, 6, 8]\n\n    *bogdanvlviv*",
    "project": "activesupport",
    "date_merged": 1534267865000,
    "author": "bogdanvlviv",
    "sha": "77b0126054178cb74c2b5bb17979462095144b7c",
    "pr": "33137",
    "merge_sha": "7fa2f539fa2a7a1ebb5086023091983ce0d810d9",
    "html": "<p>Add <code>Array#extract!</code>.</p>\n\n<p>The method removes and returns the elements for which the block returns a true value.<br />\nIf no block is given, an Enumerator is returned instead.</p>\n\n<pre><code>numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\nodd_numbers = numbers.extract! { |number| number.odd? } # =&gt; [1, 3, 5, 7, 9]\nnumbers # =&gt; [0, 2, 4, 6, 8]\n</code></pre>\n\n<p><em>bogdanvlviv</em></p>\n"
  },
  {
    "message": "*   Support not to cache `nil` for `ActiveSupport::Cache#fetch`.\n\n        cache.fetch('bar', skip_nil: true) { nil }\n        cache.exist?('bar') # => false\n\n    *Martin Hong*",
    "project": "activesupport",
    "date_merged": 1533489965000,
    "author": "bogdanvlviv",
    "sha": "7867603fbbf5dc3327be3c3ff7c245614e21c04a",
    "pr": "33531",
    "merge_sha": "5f939a770d9c317b62fb3c63cdac5bac12c94a8f",
    "html": "<p>Support not to cache <code>nil</code> for <code>ActiveSupport::Cache#fetch</code>.</p>\n\n<pre><code>cache.fetch('bar', skip_nil: true) { nil }\ncache.exist?('bar') # =&gt; false\n</code></pre>\n\n<p><em>Martin Hong</em></p>\n"
  },
  {
    "message": "*   Add \"event object\" support to the notification system.\n    Before this change, end users were forced to create hand made artisanal\n    event objects on their own, like this:\n\n        ActiveSupport::Notifications.subscribe('wait') do |*args|\n          @event = ActiveSupport::Notifications::Event.new(*args)\n        end\n\n        ActiveSupport::Notifications.instrument('wait') do\n          sleep 1\n        end\n\n        @event.duration # => 1000.138\n\n    After this change, if the block passed to `subscribe` only takes one\n    parameter, the framework will yield an event object to the block.  Now\n    end users are no longer required to make their own:\n\n        ActiveSupport::Notifications.subscribe('wait') do |event|\n          @event = event\n        end\n\n        ActiveSupport::Notifications.instrument('wait') do\n          sleep 1\n        end\n\n        p @event.allocations # => 7\n        p @event.cpu_time    # => 0.256\n        p @event.idle_time   # => 1003.2399\n\n    Now you can enjoy event objects without making them yourself.  Neat!\n\n    *Aaron \"t.lo\" Patterson*",
    "project": "activesupport",
    "date_merged": 1532642112000,
    "author": "Aaron Patterson",
    "sha": "3699ec9d1bd48332d1aef7def38f913c4773257c",
    "pr": "33451",
    "merge_sha": "3ea2857943dc294d7809930b4cc5b318b9c39577",
    "html": "<p>Add “event object” support to the notification system.<br />\nBefore this change, end users were forced to create hand made artisanal<br />\nevent objects on their own, like this:</p>\n\n<pre><code>ActiveSupport::Notifications.subscribe('wait') do |*args|\n  @event = ActiveSupport::Notifications::Event.new(*args)\nend\n\nActiveSupport::Notifications.instrument('wait') do\n  sleep 1\nend\n\n@event.duration # =&gt; 1000.138\n</code></pre>\n\n<p>After this change, if the block passed to <code>subscribe</code> only takes one<br />\nparameter, the framework will yield an event object to the block.  Now<br />\nend users are no longer required to make their own:</p>\n\n<pre><code>ActiveSupport::Notifications.subscribe('wait') do |event|\n  @event = event\nend\n\nActiveSupport::Notifications.instrument('wait') do\n  sleep 1\nend\n\np @event.allocations # =&gt; 7\np @event.cpu_time    # =&gt; 0.256\np @event.idle_time   # =&gt; 1003.2399\n</code></pre>\n\n<p>Now you can enjoy event objects without making them yourself.  Neat!</p>\n\n<p><em>Aaron “t.lo” Patterson</em></p>\n"
  },
  {
    "message": "*   Add cpu_time, idle_time, and allocations to Event.\n\n    *Eileen M. Uchitelle*, *Aaron Patterson*",
    "project": "activesupport",
    "date_merged": 1536322181000,
    "author": "Ryuta Kamizono",
    "sha": "736edb982856f0de04d4566f657c0c84f145e7ef",
    "pr": "33756",
    "merge_sha": "2a470d73a75ebf8cd7975e469bd82586d9234442",
    "html": "<p>Add cpu_time, idle_time, and allocations to Event.</p>\n\n<p><em>Eileen M. Uchitelle</em>, <em>Aaron Patterson</em></p>\n"
  },
  {
    "message": "*   RedisCacheStore: support key expiry in increment/decrement.\n\n    Pass `:expires_in` to `#increment` and `#decrement` to set a Redis EXPIRE on the key.\n\n    If the key is already set to expire, RedisCacheStore won't extend its expiry.\n\n        Rails.cache.increment(\"some_key\", 1, expires_in: 2.minutes)\n\n    *Jason Lee*",
    "project": "activesupport",
    "date_merged": 1530464701000,
    "author": "Kasper Timm Hansen",
    "sha": "969577d960cd7e2d0a421af4a987f56894c3b229",
    "pr": "32706",
    "merge_sha": "350b7cc9f0c69be529cae1e91294e51d41ea5952",
    "html": "<p>RedisCacheStore: support key expiry in increment/decrement.</p>\n\n<p>Pass <code>:expires_in</code> to <code>#increment</code> and <code>#decrement</code> to set a Redis EXPIRE on the key.</p>\n\n<p>If the key is already set to expire, RedisCacheStore won’t extend its expiry.</p>\n\n<pre><code>Rails.cache.increment(\"some_key\", 1, expires_in: 2.minutes)\n</code></pre>\n\n<p><em>Jason Lee</em></p>\n"
  },
  {
    "message": "*   Allow `Range#===` and `Range#cover?` on Range.\n\n    `Range#cover?` can now accept a range argument like `Range#include?` and\n    `Range#===`. `Range#===` works correctly on Ruby 2.6. `Range#include?` is moved\n    into a new file, with these two methods.\n\n    *Requiring active_support/core_ext/range/include_range is now deprecated.*\n    *Use `require \"active_support/core_ext/range/compare_range\"` instead.*\n\n    *utilum*",
    "project": "activesupport",
    "date_merged": 1536322181000,
    "author": "Ryuta Kamizono",
    "sha": "736edb982856f0de04d4566f657c0c84f145e7ef",
    "pr": "33756",
    "merge_sha": "2a470d73a75ebf8cd7975e469bd82586d9234442",
    "html": "<p>Allow <code>Range#===</code> and <code>Range#cover?</code> on Range.</p>\n\n<p><code>Range#cover?</code> can now accept a range argument like <code>Range#include?</code> and<br />\n<code>Range#===</code>. <code>Range#===</code> works correctly on Ruby 2.6. <code>Range#include?</code> is moved<br />\ninto a new file, with these two methods.</p>\n\n<p><em>Requiring active_support/core_ext/range/include_range is now deprecated.</em><br />\n<em>Use <code>require \"active_support/core_ext/range/compare_range\"</code> instead.</em></p>\n\n<p><em>utilum</em></p>\n"
  },
  {
    "message": "*   Add `index_with` to Enumerable.\n\n    Allows creating a hash from an enumerable with the value from a passed block\n    or a default argument.\n\n        %i( title body ).index_with { |attr| post.public_send(attr) }\n        # => { title: \"hey\", body: \"what's up?\" }\n\n        %i( title body ).index_with(nil)\n        # => { title: nil, body: nil }\n\n    Closely linked with `index_by`, which creates a hash where the keys are extracted from a block.\n\n    *Kasper Timm Hansen*",
    "project": "activesupport",
    "date_merged": 1526917608000,
    "author": "Kasper Timm Hansen",
    "sha": "429f15ff7ffbd3f8d1647e5a337daa939f10944b",
    "pr": "32523",
    "merge_sha": "41147e3ef802fe7c6aa0eafc9e584fd68f05d395",
    "html": "<p>Add <code>index_with</code> to Enumerable.</p>\n\n<p>Allows creating a hash from an enumerable with the value from a passed block<br />\nor a default argument.</p>\n\n<pre><code>%i( title body ).index_with { |attr| post.public_send(attr) }\n# =&gt; { title: \"hey\", body: \"what's up?\" }\n\n%i( title body ).index_with(nil)\n# =&gt; { title: nil, body: nil }\n</code></pre>\n\n<p>Closely linked with <code>index_by</code>, which creates a hash where the keys are extracted from a block.</p>\n\n<p><em>Kasper Timm Hansen</em></p>\n"
  },
  {
    "message": "*   Fix bug where `ActiveSupport::TimeZone.all` would fail when tzinfo data for\n    any timezone defined in `ActiveSupport::TimeZone::MAPPING` is missing.\n\n    *Dominik Sander*",
    "project": "activesupport",
    "date_merged": 1552497070000,
    "author": "Ryuta Kamizono",
    "sha": "1dc4d49f517e5cea99063afd9692b201199484ef",
    "pr": null,
    "merge_sha": "a2bd669ed240bec739074188d61ff125e07fa8d1",
    "html": "<p>Fix bug where <code>ActiveSupport::TimeZone.all</code> would fail when tzinfo data for<br />\nany timezone defined in <code>ActiveSupport::TimeZone::MAPPING</code> is missing.</p>\n\n<p><em>Dominik Sander</em></p>\n"
  },
  {
    "message": "*   Redis cache store: `delete_matched` no longer blocks the Redis server.\n    (Switches from evaled Lua to a batched SCAN + DEL loop.)\n\n    *Gleb Mazovetskiy*",
    "project": "activesupport",
    "date_merged": 1524126302000,
    "author": "Gleb Mazovetskiy",
    "sha": "ef2af628a9ec1cc4e7b6997a021dd3f85cfe4665",
    "pr": "32613",
    "merge_sha": "b6577cb62880a88380fce6a086a1c084d5a74c18",
    "html": "<p>Redis cache store: <code>delete_matched</code> no longer blocks the Redis server.<br />\n(Switches from evaled Lua to a batched SCAN + DEL loop.)</p>\n\n<p><em>Gleb Mazovetskiy</em></p>\n"
  },
  {
    "message": "*   Fix bug where `ActiveSupport::Cache` will massively inflate the storage\n    size when compression is enabled (which is true by default). This patch\n    does not attempt to repair existing data: please manually flush the cache\n    to clear out the problematic entries.\n\n    *Godfrey Chan*",
    "project": "activesupport",
    "date_merged": 1523556220000,
    "author": "Godfrey Chan",
    "sha": "66df366268c4e5b17c9235b5a0c3aabcbd578e01",
    "pr": "32539",
    "merge_sha": "b7760eb75a9dd002260a361119aea0b255e1f573",
    "html": "<p>Fix bug where <code>ActiveSupport::Cache</code> will massively inflate the storage<br />\nsize when compression is enabled (which is true by default). This patch<br />\ndoes not attempt to repair existing data: please manually flush the cache<br />\nto clear out the problematic entries.</p>\n\n<p><em>Godfrey Chan</em></p>\n"
  },
  {
    "message": "*   Fix bug where `URI.unescape` would fail with mixed Unicode/escaped character input:\n\n        URI.unescape(\"\\xe3\\x83\\x90\")  # => \"バ\"\n        URI.unescape(\"%E3%83%90\")  # => \"バ\"\n        URI.unescape(\"\\xe3\\x83\\x90%E3%83%90\")  # => Encoding::CompatibilityError\n\n    *Ashe Connor*, *Aaron Patterson*",
    "project": "activesupport",
    "date_merged": 1533866916000,
    "author": "Robin Dupret",
    "sha": "482b74e793301bda3e6c8282a064485a6db01c55",
    "pr": "33568",
    "merge_sha": "924f44371697c5fe1509a749e1187ad2c9257ab9",
    "html": "<p>Fix bug where <code>URI.unescape</code> would fail with mixed Unicode/escaped character input:</p>\n\n<pre><code>URI.unescape(\"\\xe3\\x83\\x90\")  # =&gt; \"バ\"\nURI.unescape(\"%E3%83%90\")  # =&gt; \"バ\"\nURI.unescape(\"\\xe3\\x83\\x90%E3%83%90\")  # =&gt; Encoding::CompatibilityError\n</code></pre>\n\n<p><em>Ashe Connor</em>, <em>Aaron Patterson</em></p>\n"
  },
  {
    "message": "*   Add `before?` and `after?` methods to `Date`, `DateTime`,\n    `Time`, and `TimeWithZone`.\n\n    *Nick Holden*",
    "project": "activesupport",
    "date_merged": 1522103583000,
    "author": "Nick Holden",
    "sha": "20fa0d92c36681f6cffc715e08c299ff942352f4",
    "pr": "32185",
    "merge_sha": "9a9ef9639ea4837d8585eb4528a6aa21ade19cb8",
    "html": "<p>Add <code>before?</code> and <code>after?</code> methods to <code>Date</code>, <code>DateTime</code>,<br />\n<code>Time</code>, and <code>TimeWithZone</code>.</p>\n\n<p><em>Nick Holden</em></p>\n"
  },
  {
    "message": "*   `ActiveSupport::Inflector#ordinal` and `ActiveSupport::Inflector#ordinalize` now support\n    translations through I18n.\n\n        # locale/fr.rb\n\n        {\n          fr: {\n            number: {\n              nth: {\n                ordinals: lambda do |_key, number:, **_options|\n                  if number.to_i.abs == 1\n                    'er'\n                  else\n                    'e'\n                  end\n                end,\n\n                ordinalized: lambda do |_key, number:, **_options|\n                  \"#{number}#{ActiveSupport::Inflector.ordinal(number)}\"\n                end\n              }\n            }\n          }\n        }\n\n\n    *Christian Blais*",
    "project": "activesupport",
    "date_merged": 1524169142000,
    "author": "Christian Blais",
    "sha": "f58e2dd095e2e9e4e42e6d7af229f87e70fd5427",
    "pr": "32168",
    "merge_sha": "cddcc1dac4a0cb49160eb7d929016ede6c495da2",
    "html": "<p><code>ActiveSupport::Inflector#ordinal</code> and <code>ActiveSupport::Inflector#ordinalize</code> now support<br />\ntranslations through I18n.</p>\n\n<pre><code># locale/fr.rb\n\n{\n  fr: {\n    number: {\n      nth: {\n        ordinals: lambda do |_key, number:, **_options|\n          if number.to_i.abs == 1\n            'er'\n          else\n            'e'\n          end\n        end,\n\n        ordinalized: lambda do |_key, number:, **_options|\n          \"#{number}#{ActiveSupport::Inflector.ordinal(number)}\"\n        end\n      }\n    }\n  }\n}\n</code></pre>\n\n<p><em>Christian Blais</em></p>\n"
  },
  {
    "message": "*   Add `:private` option to ActiveSupport's `Module#delegate`\n    in order to delegate methods as private:\n\n        class User < ActiveRecord::Base\n          has_one :profile\n          delegate :date_of_birth, to: :profile, private: true\n\n          def age\n            Date.today.year - date_of_birth.year\n          end\n        end\n\n        # User.new.age  # => 29\n        # User.new.date_of_birth\n        # => NoMethodError: private method `date_of_birth' called for #<User:0x00000008221340>\n\n    *Tomas Valent*",
    "project": "activesupport",
    "date_merged": 1519808601000,
    "author": "bogdanvlviv",
    "sha": "d0c697e9b17a9f22d645503a39f6d6d167d99b94",
    "pr": "32133",
    "merge_sha": "e6d6d73d54584a6d5e69c3e63b5e8c884729330b",
    "html": "<p>Add <code>:private</code> option to ActiveSupport’s <code>Module#delegate</code><br />\nin order to delegate methods as private:</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  has_one :profile\n  delegate :date_of_birth, to: :profile, private: true\n\n  def age\n    Date.today.year - date_of_birth.year\n  end\nend\n\n# User.new.age  # =&gt; 29\n# User.new.date_of_birth\n# =&gt; NoMethodError: private method `date_of_birth' called for #&lt;User:0x00000008221340&gt;\n</code></pre>\n\n<p><em>Tomas Valent</em></p>\n"
  },
  {
    "message": "*   `String#truncate_bytes` to truncate a string to a maximum bytesize without\n    breaking multibyte characters or grapheme clusters like 👩‍👩‍👦‍👦.\n\n    *Jeremy Daer*",
    "project": "activesupport",
    "date_merged": 1518963393000,
    "author": "Jeremy Daer",
    "sha": "4940cc49ddb361d584d51bc3eb4675ff8ece4a2b",
    "pr": "32046",
    "merge_sha": "6516eb774b0d964f824f05a24d71fc3f46e70741",
    "html": "<p><code>String#truncate_bytes</code> to truncate a string to a maximum bytesize without<br />\nbreaking multibyte characters or grapheme clusters like 👩‍👩‍👦‍👦.</p>\n\n<p><em>Jeremy Daer</em></p>\n"
  },
  {
    "message": "*   `String#strip_heredoc` preserves frozenness.\n\n        \"foo\".freeze.strip_heredoc.frozen?  # => true\n\n    Fixes that frozen string literals would inadvertently become unfrozen:\n\n        # frozen_string_literal: true\n\n        foo = <<-MSG.strip_heredoc\n          la la la\n        MSG\n\n        foo.frozen?  # => false !??\n\n    *Jeremy Daer*",
    "project": "activesupport",
    "date_merged": 1518963393000,
    "author": "Jeremy Daer",
    "sha": "8454aeeb2b8e7d1255acbaaec4e0ae3c97d55f49",
    "pr": "32046",
    "merge_sha": "6516eb774b0d964f824f05a24d71fc3f46e70741",
    "html": "<p><code>String#strip_heredoc</code> preserves frozenness.</p>\n\n<pre><code>\"foo\".freeze.strip_heredoc.frozen?  # =&gt; true\n</code></pre>\n\n<p>Fixes that frozen string literals would inadvertently become unfrozen:</p>\n\n<pre><code># frozen_string_literal: true\n\nfoo = &lt;&lt;-MSG.strip_heredoc\n  la la la\nMSG\n\nfoo.frozen?  # =&gt; false !??\n</code></pre>\n\n<p><em>Jeremy Daer</em></p>\n"
  },
  {
    "message": "*   Rails 6 requires Ruby 2.5.0 or newer.\n\n    *Jeremy Daer*, *Kasper Timm Hansen*",
    "project": "activesupport",
    "date_merged": 1545257730000,
    "author": "Kasper Timm Hansen",
    "sha": "1b7c3222e86b98ce886110ae0860ba62e35e2299",
    "pr": "34754",
    "merge_sha": "04159a7a1dd8e63e070837a461eb15c1cb02aee1",
    "html": "<p>Rails 6 requires Ruby 2.5.0 or newer.</p>\n\n<p><em>Jeremy Daer</em>, <em>Kasper Timm Hansen</em></p>\n"
  },
  {
    "message": "*   Adds parallel testing to Rails.\n\n    Parallelize your test suite with forked processes or threads.\n\n    *Eileen M. Uchitelle*, *Aaron Patterson*",
    "project": "activesupport",
    "date_merged": 1520851402000,
    "author": "bogdanvlviv",
    "sha": "dd075657d0743046206348e05a5ee4d6d8b3f9fa",
    "pr": "32224",
    "merge_sha": "aacda9c6901bef01ffac6a11b073305676b3062f",
    "html": "<p>Adds parallel testing to Rails.</p>\n\n<p>Parallelize your test suite with forked processes or threads.</p>\n\n<p><em>Eileen M. Uchitelle</em>, <em>Aaron Patterson</em></p>\n"
  },
  {
    "message": "*   Type cast falsy boolean symbols on boolean attribute as false.\n\n    Fixes #35676.\n\n    *Ryuta Kamizono*",
    "project": "activemodel",
    "date_merged": 1553890027000,
    "author": "Ryuta Kamizono",
    "sha": "2d12f800f1c6b0a2018346e0139301070273e46f",
    "pr": "35794",
    "merge_sha": "406d3a926cfcd3724f8002f70346aad95eed4a8c",
    "html": "<p>Type cast falsy boolean symbols on boolean attribute as false.</p>\n\n<p>Fixes #35676.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Change how validation error translation strings are fetched: The new behavior\n    will first try the more specific keys, including doing locale fallback, then try\n    the less specific ones.\n\n    For example, this is the order in which keys will now be tried for a `blank`\n    error on a `product`'s `title` attribute with current locale set to `en-US`:\n\n        en-US.activerecord.errors.models.product.attributes.title.blank\n        en-US.activerecord.errors.models.product.blank\n        en-US.activerecord.errors.messages.blank\n\n        en.activerecord.errors.models.product.attributes.title.blank\n        en.activerecord.errors.models.product.blank\n        en.activerecord.errors.messages.blank\n\n        en-US.errors.attributes.title.blank\n        en-US.errors.messages.blank\n\n        en.errors.attributes.title.blank\n        en.errors.messages.blank\n\n    *Hugo Vacher*",
    "project": "activemodel",
    "date_merged": 1552414389000,
    "author": "Sharang Dashputre",
    "sha": "5289a0b6b9235d2b9a5c01d5539a9df369953824",
    "pr": "35585",
    "merge_sha": "1816c4f659a113b29f61a0156560f03ce9340937",
    "html": "<p>Change how validation error translation strings are fetched: The new behavior<br />\nwill first try the more specific keys, including doing locale fallback, then try<br />\nthe less specific ones.</p>\n\n<p>For example, this is the order in which keys will now be tried for a <code>blank</code><br />\nerror on a <code>product</code>’s <code>title</code> attribute with current locale set to <code>en-US</code>:</p>\n\n<pre><code>en-US.activerecord.errors.models.product.attributes.title.blank\nen-US.activerecord.errors.models.product.blank\nen-US.activerecord.errors.messages.blank\n\nen.activerecord.errors.models.product.attributes.title.blank\nen.activerecord.errors.models.product.blank\nen.activerecord.errors.messages.blank\n\nen-US.errors.attributes.title.blank\nen-US.errors.messages.blank\n\nen.errors.attributes.title.blank\nen.errors.messages.blank\n</code></pre>\n\n<p><em>Hugo Vacher</em></p>\n"
  },
  {
    "message": "*   Fix date value when casting a multiparameter date hash to not convert\n    from Gregorian date to Julian date.\n\n    Before:\n\n        Day.new({\"day(1i)\"=>\"1\", \"day(2i)\"=>\"1\", \"day(3i)\"=>\"1\"})\n        # => #<Day id: nil, day: \"0001-01-03\", created_at: nil, updated_at: nil>\n\n    After:\n\n        Day.new({\"day(1i)\"=>\"1\", \"day(2i)\"=>\"1\", \"day(3i)\"=>\"1\"})\n        # => #<Day id: nil, day: \"0001-01-01\", created_at: nil, updated_at: nil>\n\n    Fixes #28521.\n\n    *Sayan Chakraborty*",
    "project": "activemodel",
    "date_merged": 1550523995000,
    "author": "Ryuta Kamizono",
    "sha": "4ea067017ae52d4a74335ed85df085a86663d213",
    "pr": "35318",
    "merge_sha": "ccaa6199a74906ccb45fadbe1ce6a7e1fdd3d0d1",
    "html": "<p>Fix date value when casting a multiparameter date hash to not convert<br />\nfrom Gregorian date to Julian date.</p>\n\n<p>Before:</p>\n\n<pre><code>Day.new({\"day(1i)\"=&gt;\"1\", \"day(2i)\"=&gt;\"1\", \"day(3i)\"=&gt;\"1\"})\n# =&gt; #&lt;Day id: nil, day: \"0001-01-03\", created_at: nil, updated_at: nil&gt;\n</code></pre>\n\n<p>After:</p>\n\n<pre><code>Day.new({\"day(1i)\"=&gt;\"1\", \"day(2i)\"=&gt;\"1\", \"day(3i)\"=&gt;\"1\"})\n# =&gt; #&lt;Day id: nil, day: \"0001-01-01\", created_at: nil, updated_at: nil&gt;\n</code></pre>\n\n<p>Fixes #28521.</p>\n\n<p><em>Sayan Chakraborty</em></p>\n"
  },
  {
    "message": "*   Fix year value when casting a multiparameter time hash.\n\n    When assigning a hash to a time attribute that's missing a year component\n    (e.g. a `time_select` with `:ignore_date` set to `true`) then the year\n    defaults to 1970 instead of the expected 2000. This results in the attribute\n    changing as a result of the save.\n\n    Before:\n    ```\n    event = Event.new(start_time: { 4 => 20, 5 => 30 })\n    event.start_time # => 1970-01-01 20:30:00 UTC\n    event.save\n    event.reload\n    event.start_time # => 2000-01-01 20:30:00 UTC\n    ```\n\n    After:\n    ```\n    event = Event.new(start_time: { 4 => 20, 5 => 30 })\n    event.start_time # => 2000-01-01 20:30:00 UTC\n    event.save\n    event.reload\n    event.start_time # => 2000-01-01 20:30:00 UTC\n    ```\n\n    *Andrew White*",
    "project": "activemodel",
    "date_merged": 1550523995000,
    "author": "Ryuta Kamizono",
    "sha": "4ea067017ae52d4a74335ed85df085a86663d213",
    "pr": "35318",
    "merge_sha": "ccaa6199a74906ccb45fadbe1ce6a7e1fdd3d0d1",
    "html": "<p>Fix year value when casting a multiparameter time hash.</p>\n\n<p>When assigning a hash to a time attribute that’s missing a year component<br />\n(e.g. a <code>time_select</code> with <code>:ignore_date</code> set to <code>true</code>) then the year<br />\ndefaults to 1970 instead of the expected 2000. This results in the attribute<br />\nchanging as a result of the save.</p>\n\n<p>Before:</p>\n<pre><code>event = Event.new(start_time: { 4 =&gt; 20, 5 =&gt; 30 })\nevent.start_time # =&gt; 1970-01-01 20:30:00 UTC\nevent.save\nevent.reload\nevent.start_time # =&gt; 2000-01-01 20:30:00 UTC\n</code></pre>\n\n<p>After:</p>\n<pre><code>event = Event.new(start_time: { 4 =&gt; 20, 5 =&gt; 30 })\nevent.start_time # =&gt; 2000-01-01 20:30:00 UTC\nevent.save\nevent.reload\nevent.start_time # =&gt; 2000-01-01 20:30:00 UTC\n</code></pre>\n\n<p><em>Andrew White</em></p>\n"
  },
  {
    "message": "*   Internal calls to `human_attribute_name` on an `Active Model` now pass attributes as strings instead of symbols\n    in some cases.\n\n    This is in line with examples in Rails docs and puts the code in line with the intention -\n    the potential use of strings or symbols.\n\n    It is recommended to cast the attribute input to your desired type as if you you are overriding that methid.\n\n    *Martin Larochelle*",
    "project": "activemodel",
    "date_merged": 1569987140000,
    "author": "Julian Nadeau",
    "sha": "5eaf39b1a8e53ac052365306ad9ffac6e7564745",
    "pr": "37334",
    "merge_sha": "dde8025eb6af382154a63e176852a062c5e3996e",
    "html": "<p>Internal calls to <code>human_attribute_name</code> on an <code>Active Model</code> now pass attributes as strings instead of symbols<br />\nin some cases.</p>\n\n<p>This is in line with examples in Rails docs and puts the code in line with the intention -<br />\nthe potential use of strings or symbols.</p>\n\n<p>It is recommended to cast the attribute input to your desired type as if you you are overriding that methid.</p>\n\n<p><em>Martin Larochelle</em></p>\n"
  },
  {
    "message": "*   Add `ActiveModel::Errors#of_kind?`.\n\n    *bogdanvlviv*, *Rafael Mendonça França*",
    "project": "activemodel",
    "date_merged": 1546635235000,
    "author": "bogdanvlviv",
    "sha": "d5c26c43c0fb3311ec56e62a5fdfe9bf8bf69ecf",
    "pr": "34866",
    "merge_sha": "d3159cec60600b6f219f4b51e7d5ce06b9517c15",
    "html": "<p>Add <code>ActiveModel::Errors#of_kind?</code>.</p>\n\n<p><em>bogdanvlviv</em>, <em>Rafael Mendonça França</em></p>\n"
  },
  {
    "message": "*   Fix numericality equality validation of `BigDecimal` and `Float`\n    by casting to `BigDecimal` on both ends of the validation.\n\n    *Gannon McGibbon*",
    "project": "activemodel",
    "date_merged": 1544644861000,
    "author": "Gannon McGibbon",
    "sha": "d126c0d6c0e8c0803a8ce79d2baece4d3d24e509",
    "pr": "32852",
    "merge_sha": "3a3a3d607eb2f706c117926015d2cb6ef6599ded",
    "html": "<p>Fix numericality equality validation of <code>BigDecimal</code> and <code>Float</code><br />\nby casting to <code>BigDecimal</code> on both ends of the validation.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Add `#slice!` method to `ActiveModel::Errors`.\n\n    *Daniel López Prat*",
    "project": "activemodel",
    "date_merged": 1542779341000,
    "author": "Daniel Lopez Prat",
    "sha": "ee2b84f3cbd97d8116467ea0d44b8182824c83ab",
    "pr": "34489",
    "merge_sha": "32695069b10a79c13312b189d6508f8ed4c6186a",
    "html": "<p>Add <code>#slice!</code> method to <code>ActiveModel::Errors</code>.</p>\n\n<p><em>Daniel López Prat</em></p>\n"
  },
  {
    "message": "*   Fix numericality validator to still use value before type cast except Active Record.\n\n    Fixes #33651, #33686.\n\n    *Ryuta Kamizono*",
    "project": "activemodel",
    "date_merged": 1535444628000,
    "author": "Ryuta Kamizono",
    "sha": "47a6d788ddbab08b2a04c72cd80352aac44090ab",
    "pr": "33654",
    "merge_sha": "37075aa7f5c2c779a981debd21aa8c468cce4d72",
    "html": "<p>Fix numericality validator to still use value before type cast except Active Record.</p>\n\n<p>Fixes #33651, #33686.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Fix `ActiveModel::Serializers::JSON#as_json` method for timestamps.\n\n    Before:\n    ```\n    contact = Contact.new(created_at: Time.utc(2006, 8, 1))\n    contact.as_json[\"created_at\"] # => 2006-08-01 00:00:00 UTC\n    ```\n\n    After:\n    ```\n    contact = Contact.new(created_at: Time.utc(2006, 8, 1))\n    contact.as_json[\"created_at\"] # => \"2006-08-01T00:00:00.000Z\"\n    ```\n\n    *Bogdan Gusiev*",
    "project": "activemodel",
    "date_merged": 1534080219000,
    "author": "bogdanvlviv",
    "sha": "159dc60bee254d981fdd3958b5f1c7a415114f81",
    "pr": "33591",
    "merge_sha": "ba1dab1e3b32a7c81cb9b8bdc22429f6620a3833",
    "html": "<p>Fix <code>ActiveModel::Serializers::JSON#as_json</code> method for timestamps.</p>\n\n<p>Before:</p>\n<pre><code>contact = Contact.new(created_at: Time.utc(2006, 8, 1))\ncontact.as_json[\"created_at\"] # =&gt; 2006-08-01 00:00:00 UTC\n</code></pre>\n\n<p>After:</p>\n<pre><code>contact = Contact.new(created_at: Time.utc(2006, 8, 1))\ncontact.as_json[\"created_at\"] # =&gt; \"2006-08-01T00:00:00.000Z\"\n</code></pre>\n\n<p><em>Bogdan Gusiev</em></p>\n"
  },
  {
    "message": "*   Allows configurable attribute name for `#has_secure_password`. This\n    still defaults to an attribute named 'password', causing no breaking\n    change. There is a new method `#authenticate_XXX` where XXX is the\n    configured attribute name, making the existing `#authenticate` now an\n    alias for this when the attribute is the default 'password'.\n\n    Example:\n\n        class User < ActiveRecord::Base\n          has_secure_password :recovery_password, validations: false\n        end\n\n        user = User.new()\n        user.recovery_password = \"42password\"\n        user.recovery_password_digest # => \"$2a$04$iOfhwahFymCs5weB3BNH/uX...\"\n        user.authenticate_recovery_password('42password') # => user\n\n    *Unathi Chonco*",
    "project": "activemodel",
    "date_merged": 1530183681000,
    "author": "Unathi Chonco",
    "sha": "86a48b4da3cbd925d30b0fbe472edbda7171ea9e",
    "pr": "26764",
    "merge_sha": "08dde0f355e0450bc2cb7e0b4b95a0ec18d1a870",
    "html": "<p>Allows configurable attribute name for <code>#has_secure_password</code>. This<br />\nstill defaults to an attribute named ‘password’, causing no breaking<br />\nchange. There is a new method <code>#authenticate_XXX</code> where XXX is the<br />\nconfigured attribute name, making the existing <code>#authenticate</code> now an<br />\nalias for this when the attribute is the default ‘password’.</p>\n\n<p>Example:</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  has_secure_password :recovery_password, validations: false\nend\n\nuser = User.new()\nuser.recovery_password = \"42password\"\nuser.recovery_password_digest # =&gt; \"$2a$04$iOfhwahFymCs5weB3BNH/uX...\"\nuser.authenticate_recovery_password('42password') # =&gt; user\n</code></pre>\n\n<p><em>Unathi Chonco</em></p>\n"
  },
  {
    "message": "*   Add `config.active_model.i18n_customize_full_message` in order to control whether\n    the `full_message` error format can be overridden at the attribute or model\n    level in the locale files. This is `false` by default.\n\n    *Martin Larochelle*",
    "project": "activemodel",
    "date_merged": 1553880462000,
    "author": "Prathamesh Sonpatki",
    "sha": "d8ba2f7c5670f5b2ef1486c9a3fb3e69fc514989",
    "pr": "35789",
    "merge_sha": "8638c7a643cde203114af479bafddb357ece0fb9",
    "html": "<p>Add <code>config.active_model.i18n_customize_full_message</code> in order to control whether<br />\nthe <code>full_message</code> error format can be overridden at the attribute or model<br />\nlevel in the locale files. This is <code>false</code> by default.</p>\n\n<p><em>Martin Larochelle</em></p>\n"
  },
  {
    "message": "*   Rails 6 requires Ruby 2.5.0 or newer.\n\n    *Jeremy Daer*, *Kasper Timm Hansen*",
    "project": "activemodel",
    "date_merged": 1545257730000,
    "author": "Kasper Timm Hansen",
    "sha": "1b7c3222e86b98ce886110ae0860ba62e35e2299",
    "pr": "34754",
    "merge_sha": "04159a7a1dd8e63e070837a461eb15c1cb02aee1",
    "html": "<p>Rails 6 requires Ruby 2.5.0 or newer.</p>\n\n<p><em>Jeremy Daer</em>, <em>Kasper Timm Hansen</em></p>\n"
  },
  {
    "message": "*   While using `perform_enqueued_jobs` test helper enqueued jobs must be stored for the later check with\n    `assert_enqueued_with`.\n\n    *Dmitry Polushkin*",
    "project": "activejob",
    "date_merged": 1588788418000,
    "author": "Rafael Mendonça França",
    "sha": "b8fcd146367d261c29619d975113a88e053273ce",
    "pr": null,
    "merge_sha": "72d86169c740cbf4128246e55bc4d0fff41e01c9",
    "html": "<p>While using <code>perform_enqueued_jobs</code> test helper enqueued jobs must be stored for the later check with<br />\n<code>assert_enqueued_with</code>.</p>\n\n<p><em>Dmitry Polushkin</em></p>\n"
  },
  {
    "message": "*   Add queue name support to Que adapter\n\n    *Brad Nauta*, *Wojciech Wnętrzak*",
    "project": "activejob",
    "date_merged": 1583634515000,
    "author": "Eileen M. Uchitelle",
    "sha": "1f0757987849054067e517c8a277276d015f5300",
    "pr": "38675",
    "merge_sha": "aea09df9e96f99fd97668ad1554b8eddc9949dda",
    "html": "<p>Add queue name support to Que adapter</p>\n\n<p><em>Brad Nauta</em>, <em>Wojciech Wnętrzak</em></p>\n"
  },
  {
    "message": "*   Allow Sidekiq access to the underlying job class.\n\n    By having access to the Active Job class, Sidekiq can get access to any `sidekiq_options` which\n    have been set on that Active Job type and serialize those options into Redis.\n\n    https://github.com/mperham/sidekiq/blob/master/Changes.md#60\n\n    *Mike Perham*",
    "project": "activejob",
    "date_merged": 1574896442000,
    "author": "Rafael Mendonça França",
    "sha": "c4175eb2cedc3a7ac89b39da408165ca32aec76f",
    "pr": "37806",
    "merge_sha": "a7eff88a51f11ae4c1500f052ffafa1b496adcc4",
    "html": "<p>Allow Sidekiq access to the underlying job class.</p>\n\n<p>By having access to the Active Job class, Sidekiq can get access to any <code>sidekiq_options</code> which<br />\nhave been set on that Active Job type and serialize those options into Redis.</p>\n\n<p>https://github.com/mperham/sidekiq/blob/master/Changes.md#60</p>\n\n<p><em>Mike Perham</em></p>\n"
  },
  {
    "message": "*   `assert_enqueued_with` and `assert_performed_with` can now test jobs with relative delay.\n\n    *Vlado Cingel*",
    "project": "activejob",
    "date_merged": 1564160335000,
    "author": "Rafael França",
    "sha": "c986369095ad89fd68fd84d21aa39006ea77904d",
    "pr": "36372",
    "merge_sha": "b6f1d199a3693be8034640aa1c82d4906bc5a2fd",
    "html": "<p><code>assert_enqueued_with</code> and <code>assert_performed_with</code> can now test jobs with relative delay.</p>\n\n<p><em>Vlado Cingel</em></p>\n"
  },
  {
    "message": "*   Use individual execution counters when calculating retry delay.\n\n    *Patrik Bóna*",
    "project": "activejob",
    "date_merged": 1555246634000,
    "author": "Patrik Bóna",
    "sha": "3a7fa10603b6842251a6e8b22c302253ae7999ab",
    "pr": "35956",
    "merge_sha": "263bf763f4bf733342fb880978938b22aec4c801",
    "html": "<p>Use individual execution counters when calculating retry delay.</p>\n\n<p><em>Patrik Bóna</em></p>\n"
  },
  {
    "message": "*   Make job argument assertions with `Time`, `ActiveSupport::TimeWithZone`, and `DateTime` work by dropping microseconds. Microsecond precision is lost during serialization.\n\n    *Gannon McGibbon*",
    "project": "activejob",
    "date_merged": 1553290717000,
    "author": "Gannon McGibbon",
    "sha": "7f038621dfd7eba316b601b010cbf442b63ea17e",
    "pr": "35713",
    "merge_sha": "56723964ce087990ba5e17e42a29d08a935eb37b",
    "html": "<p>Make job argument assertions with <code>Time</code>, <code>ActiveSupport::TimeWithZone</code>, and <code>DateTime</code> work by dropping microseconds. Microsecond precision is lost during serialization.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Return false instead of the job instance when `enqueue` is aborted.\n\n    This will be the behavior in Rails 6.1 but it can be controlled now with\n    `config.active_job.return_false_on_aborted_enqueue`.\n\n    *Kir Shatrov*",
    "project": "activejob",
    "date_merged": 1544038192000,
    "author": "Rafael Mendonça França",
    "sha": "884310fdd031ed8121944f9ea07c8b7723c4e6b6",
    "pr": "34194",
    "merge_sha": "d9816546494f66e76bd5012a91b872dc2096a06c",
    "html": "<p>Return false instead of the job instance when <code>enqueue</code> is aborted.</p>\n\n<p>This will be the behavior in Rails 6.1 but it can be controlled now with<br />\n<code>config.active_job.return_false_on_aborted_enqueue</code>.</p>\n\n<p><em>Kir Shatrov</em></p>\n"
  },
  {
    "message": "*   Keep executions for each specific declaration\n\n    Each `retry_on` declaration has now its own specific executions counter. Before it was\n    shared between all executions of a job.\n\n    *Alberto Almagro*",
    "project": "activejob",
    "date_merged": 1543009523000,
    "author": "Alberto Almagro",
    "sha": "95d9c3b3d6828b8ce37591e68d4239ce8c18460b",
    "pr": "34468",
    "merge_sha": "246ee77eef7b799a647beb2ff704a9a5867bec66",
    "html": "<p>Keep executions for each specific declaration</p>\n\n<p>Each <code>retry_on</code> declaration has now its own specific executions counter. Before it was<br />\nshared between all executions of a job.</p>\n\n<p><em>Alberto Almagro</em></p>\n"
  },
  {
    "message": "*   Allow all assertion helpers that have a `only` and `except` keyword to accept\n    Procs.\n\n    *Edouard Chin*",
    "project": "activejob",
    "date_merged": 1542842629000,
    "author": "Edouard CHIN",
    "sha": "cdb16ac576198607916cde6d55fe14cb775a98c9",
    "pr": "34339",
    "merge_sha": "47ab6b36d794e68e76dcb45463c0d2a5bdba2104",
    "html": "<p>Allow all assertion helpers that have a <code>only</code> and <code>except</code> keyword to accept<br />\nProcs.</p>\n\n<p><em>Edouard Chin</em></p>\n"
  },
  {
    "message": "*   Restore `HashWithIndifferentAccess` support to `ActiveJob::Arguments.deserialize`.\n\n    *Gannon McGibbon*",
    "project": "activejob",
    "date_merged": 1554051927000,
    "author": "Ryuta Kamizono",
    "sha": "51ab5cb0432c483422112ebbb274855a3fa5ecc8",
    "pr": "35793",
    "merge_sha": "563bf5771fb8bf3c8458393cd5a42bab7a5b6f1e",
    "html": "<p>Restore <code>HashWithIndifferentAccess</code> support to <code>ActiveJob::Arguments.deserialize</code>.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Include deserialized arguments in job instances returned from\n    `assert_enqueued_with` and `assert_performed_with`\n\n    *Alan Wu*",
    "project": "activejob",
    "date_merged": 1540410550000,
    "author": "Alan Wu",
    "sha": "3ebc22903433b97b38935778b955b53bc90447f6",
    "pr": "34204",
    "merge_sha": "d76d66fb554fc3267de93d780344815d05ae6533",
    "html": "<p>Include deserialized arguments in job instances returned from<br />\n<code>assert_enqueued_with</code> and <code>assert_performed_with</code></p>\n\n<p><em>Alan Wu</em></p>\n"
  },
  {
    "message": "*   Allow `assert_enqueued_with`/`assert_performed_with` methods to accept\n    a proc for the `args` argument. This is useful to check if only a subset of arguments\n    matches your expectations.\n\n    *Edouard Chin*",
    "project": "activejob",
    "date_merged": 1538071214000,
    "author": "Edouard CHIN",
    "sha": "4d75f58991ca6b393ded2398de87fe6a13d4ac72",
    "pr": "33995",
    "merge_sha": "dc47bb5091b058af45081499f67342c3890d6564",
    "html": "<p>Allow <code>assert_enqueued_with</code>/<code>assert_performed_with</code> methods to accept<br />\na proc for the <code>args</code> argument. This is useful to check if only a subset of arguments<br />\nmatches your expectations.</p>\n\n<p><em>Edouard Chin</em></p>\n"
  },
  {
    "message": "*   `ActionDispatch::IntegrationTest` includes `ActiveJob::TestHelper` module by default.\n\n    *Ricardo Díaz*",
    "project": "activejob",
    "date_merged": 1536847844000,
    "author": "bogdanvlviv",
    "sha": "5a212939c279e8c5a7dd49fd6766d8cb2fb220f8",
    "pr": "33869",
    "merge_sha": "f5ac08180fbe3f4d9378f34e173f4ce1f8fc1a78",
    "html": "<p><code>ActionDispatch::IntegrationTest</code> includes <code>ActiveJob::TestHelper</code> module by default.</p>\n\n<p><em>Ricardo Díaz</em></p>\n"
  },
  {
    "message": "*   Added `enqueue_retry.active_job`, `retry_stopped.active_job`, and `discard.active_job` hooks.\n\n    *steves*",
    "project": "activejob",
    "date_merged": 1535654391000,
    "author": "Steve S",
    "sha": "26dc9bc8ee8639b1ad393f4f3f4fa3e1a397b70e",
    "pr": "33751",
    "merge_sha": "5bbaae0d20147d392f1458f1a99d85c245040d04",
    "html": "<p>Added <code>enqueue_retry.active_job</code>, <code>retry_stopped.active_job</code>, and <code>discard.active_job</code> hooks.</p>\n\n<p><em>steves</em></p>\n"
  },
  {
    "message": "*   Allow `assert_performed_with` to be called without a block.\n\n    *bogdanvlviv*",
    "project": "activejob",
    "date_merged": 1534798228000,
    "author": "bogdanvlviv",
    "sha": "2ec60fb8186ad3b227341b7d1874e3f13bd34279",
    "pr": "33635",
    "merge_sha": "2b594b061f34094175fd3efeeb1cd5d245cbabe3",
    "html": "<p>Allow <code>assert_performed_with</code> to be called without a block.</p>\n\n<p><em>bogdanvlviv</em></p>\n"
  },
  {
    "message": "*   Execution of `assert_performed_jobs`, and `assert_no_performed_jobs`\n    without a block should respect passed `:except`, `:only`, and `:queue` options.\n\n    *bogdanvlviv*",
    "project": "activejob",
    "date_merged": 1534798228000,
    "author": "bogdanvlviv",
    "sha": "11634e8ef85870535bad61b999e0f9ec36f6f963",
    "pr": "33635",
    "merge_sha": "2b594b061f34094175fd3efeeb1cd5d245cbabe3",
    "html": "<p>Execution of <code>assert_performed_jobs</code>, and <code>assert_no_performed_jobs</code><br />\nwithout a block should respect passed <code>:except</code>, <code>:only</code>, and <code>:queue</code> options.</p>\n\n<p><em>bogdanvlviv</em></p>\n"
  },
  {
    "message": "*   Allow `:queue` option to job assertions and helpers.\n\n    *bogdanvlviv*",
    "project": "activejob",
    "date_merged": 1534798228000,
    "author": "bogdanvlviv",
    "sha": "2bf8b4eb0eceb37fc278c71371a659979844dfb2",
    "pr": "33635",
    "merge_sha": "2b594b061f34094175fd3efeeb1cd5d245cbabe3",
    "html": "<p>Allow <code>:queue</code> option to job assertions and helpers.</p>\n\n<p><em>bogdanvlviv</em></p>\n"
  },
  {
    "message": "*   Allow `perform_enqueued_jobs` to be called without a block.\n\n    Performs all of the jobs that have been enqueued up to this point in the test.\n\n    *Kevin Deisz*",
    "project": "activejob",
    "date_merged": 1534382176000,
    "author": "Kevin Deisz",
    "sha": "ec1630148853c46a1e3b35cd48bf85aa0e049d81",
    "pr": "33626",
    "merge_sha": "f6bbbb9f29dfdc36cef25ae911041eb01bd4369e",
    "html": "<p>Allow <code>perform_enqueued_jobs</code> to be called without a block.</p>\n\n<p>Performs all of the jobs that have been enqueued up to this point in the test.</p>\n\n<p><em>Kevin Deisz</em></p>\n"
  },
  {
    "message": "*   Move `enqueue`/`enqueue_at` notifications to an around callback.\n\n    Improves timing accuracy over the old after callback by including\n    time spent writing to the adapter's IO implementation.\n\n    *Zach Kemp*",
    "project": "activejob",
    "date_merged": 1532118267000,
    "author": "Kasper Timm Hansen",
    "sha": "7b3ead3b26682ee331e0e67eb4e3962742f9aa5e",
    "pr": "33405",
    "merge_sha": "205aa1462acb038df8f434e941d2a4d68f36acf5",
    "html": "<p>Move <code>enqueue</code>/<code>enqueue_at</code> notifications to an around callback.</p>\n\n<p>Improves timing accuracy over the old after callback by including<br />\ntime spent writing to the adapter’s IO implementation.</p>\n\n<p><em>Zach Kemp</em></p>\n"
  },
  {
    "message": "*   Allow call `assert_enqueued_with` with no block.\n\n    Example:\n    ```\n    def test_assert_enqueued_with\n      MyJob.perform_later(1,2,3)\n      assert_enqueued_with(job: MyJob, args: [1,2,3], queue: 'low')\n\n      MyJob.set(wait_until: Date.tomorrow.noon).perform_later\n      assert_enqueued_with(job: MyJob, at: Date.tomorrow.noon)\n    end\n    ```\n\n    *bogdanvlviv*",
    "project": "activejob",
    "date_merged": 1530276746000,
    "author": "bogdanvlviv",
    "sha": "4382fcbc22e6d7a30a7c7514ea531209ffc347dd",
    "pr": "33258",
    "merge_sha": "1f4202611cae45ca9047d9fec73a7b631e934fa7",
    "html": "<p>Allow call <code>assert_enqueued_with</code> with no block.</p>\n\n<p>Example:</p>\n<pre><code>def test_assert_enqueued_with\n  MyJob.perform_later(1,2,3)\n  assert_enqueued_with(job: MyJob, args: [1,2,3], queue: 'low')\n\n  MyJob.set(wait_until: Date.tomorrow.noon).perform_later\n  assert_enqueued_with(job: MyJob, at: Date.tomorrow.noon)\nend\n</code></pre>\n\n<p><em>bogdanvlviv</em></p>\n"
  },
  {
    "message": "*   Allow passing multiple exceptions to `retry_on`, and `discard_on`.\n\n    *George Claghorn*",
    "project": "activejob",
    "date_merged": 1530061676000,
    "author": "bogdanvlviv",
    "sha": "f1e625f85385f820ea69b092fe1d5d241c4f4c41",
    "pr": "33230",
    "merge_sha": "a0a1abb3c7942084111d87ae95837a83bcc794f6",
    "html": "<p>Allow passing multiple exceptions to <code>retry_on</code>, and <code>discard_on</code>.</p>\n\n<p><em>George Claghorn</em></p>\n"
  },
  {
    "message": "*   Pass the error instance as the second parameter of block executed by `discard_on`.\n\n    Fixes #32853.\n\n    *Yuji Yaginuma*",
    "project": "activejob",
    "date_merged": 1526177017000,
    "author": "yuuji.yaginuma",
    "sha": "6fac9bd599eeb6b9cacdf7841811223402c501bd",
    "pr": "32862",
    "merge_sha": "8cfa34626c56b1e52328194e380d661785a7b082",
    "html": "<p>Pass the error instance as the second parameter of block executed by <code>discard_on</code>.</p>\n\n<p>Fixes #32853.</p>\n\n<p><em>Yuji Yaginuma</em></p>\n"
  },
  {
    "message": "*   Remove support for Qu gem.\n\n    Reasons are that the Qu gem wasn't compatible since Rails 5.1,\n    gem development was stopped in 2014 and maintainers have\n    confirmed its demise. See issue #32273\n\n    *Alberto Almagro*",
    "project": "activejob",
    "date_merged": 1521496043000,
    "author": "Alberto Almagro",
    "sha": "6ef720791d6532a107f4777edfe1d708b6b9c068",
    "pr": "32300",
    "merge_sha": "9d9f752661c31b3063d55bec14e797c957d2bb7d",
    "html": "<p>Remove support for Qu gem.</p>\n\n<p>Reasons are that the Qu gem wasn’t compatible since Rails 5.1,<br />\ngem development was stopped in 2014 and maintainers have<br />\nconfirmed its demise. See issue #32273</p>\n\n<p><em>Alberto Almagro</em></p>\n"
  },
  {
    "message": "*   Add support for timezones to Active Job.\n\n    Record what was the current timezone in effect when the job was\n    enqueued and then restore when the job is executed in same way\n    that the current locale is recorded and restored.\n\n    *Andrew White*",
    "project": "activejob",
    "date_merged": 1520851402000,
    "author": "bogdanvlviv",
    "sha": "dd075657d0743046206348e05a5ee4d6d8b3f9fa",
    "pr": "32224",
    "merge_sha": "aacda9c6901bef01ffac6a11b073305676b3062f",
    "html": "<p>Add support for timezones to Active Job.</p>\n\n<p>Record what was the current timezone in effect when the job was<br />\nenqueued and then restore when the job is executed in same way<br />\nthat the current locale is recorded and restored.</p>\n\n<p><em>Andrew White</em></p>\n"
  },
  {
    "message": "*   Rails 6 requires Ruby 2.5.0 or newer.\n\n    *Jeremy Daer*, *Kasper Timm Hansen*",
    "project": "activejob",
    "date_merged": 1545257730000,
    "author": "Kasper Timm Hansen",
    "sha": "1b7c3222e86b98ce886110ae0860ba62e35e2299",
    "pr": "34754",
    "merge_sha": "04159a7a1dd8e63e070837a461eb15c1cb02aee1",
    "html": "<p>Rails 6 requires Ruby 2.5.0 or newer.</p>\n\n<p><em>Jeremy Daer</em>, <em>Kasper Timm Hansen</em></p>\n"
  },
  {
    "message": "*   Add support to define custom argument serializers.\n\n    *Evgenii Pecherkin*, *Rafael Mendonça França*",
    "project": "activejob",
    "date_merged": 1518637666000,
    "author": "Rafael Mendonça França",
    "sha": "25a14bf2bde90224debee343ebfbb882c02b9588",
    "pr": "30941",
    "merge_sha": "fa9e791e014a650f5ea6a14b283fed9621fc83e2",
    "html": "<p>Add support to define custom argument serializers.</p>\n\n<p><em>Evgenii Pecherkin</em>, <em>Rafael Mendonça França</em></p>\n"
  },
  {
    "message": "*   Allow localhost with a port by default in development\n\n    [Fixes: #43864]",
    "project": "railties",
    "date_merged": 1639523370000,
    "author": "Aaron Patterson",
    "sha": "56783fef72ebd6e3c19b784a07879714f2c0acfc",
    "pr": "43868",
    "merge_sha": "bf9be16e50b3854c06a6f4c7ee431842c9009872",
    "html": "<p>Allow localhost with a port by default in development</p>\n\n<p>[Fixes: #43864]</p>\n"
  },
  {
    "message": "*   Allow relative paths with trailing slashes to be passed to `rails test`.\n\n    *Eugene Kenny*",
    "project": "railties",
    "date_merged": 1620231479000,
    "author": "Eugene Kenny",
    "sha": "bd48a0e3d1061d35815a517b764e4a21ae87749f",
    "pr": null,
    "merge_sha": "98a0a12c5d27b86e0c57820ec1c6b4c4459a71e3",
    "html": "<p>Allow relative paths with trailing slashes to be passed to <code>rails test</code>.</p>\n\n<p><em>Eugene Kenny</em></p>\n"
  },
  {
    "message": "*   Return a 405 Method Not Allowed response when a request uses an unknown HTTP method.\n\n    Fixes #38998.\n\n    *Loren Norman*",
    "project": "railties",
    "date_merged": 1610519060000,
    "author": "Eugene Kenny",
    "sha": "5ccc67605ec462a8e164635c75be84a3af0234f5",
    "pr": "41102",
    "merge_sha": "876534d408cd47a5e9a5fba132742ee77a582af9",
    "html": "<p>Return a 405 Method Not Allowed response when a request uses an unknown HTTP method.</p>\n\n<p>Fixes #38998.</p>\n\n<p><em>Loren Norman</em></p>\n"
  },
  {
    "message": "*   Cache compiled view templates when running tests by default\n\n    When generating a new app without `--skip-spring`, caching classes is\n    disabled in `environments/test.rb`. This implicitly disables caching\n    view templates too. This change will enable view template caching by\n    adding this to the generated `environments/test.rb`:\n\n    ````ruby\n    config.action_view.cache_template_loading = true\n    ````\n\n    *Jorge Manrubia*",
    "project": "railties",
    "date_merged": 1580131150000,
    "author": "Kasper Timm Hansen",
    "sha": "77aea5797c0539bf43122bcd8999f175e4c8127f",
    "pr": "38316",
    "merge_sha": "bde60239059e50b2201f5082603207035bf7f153",
    "html": "<p>Cache compiled view templates when running tests by default</p>\n\n<p>When generating a new app without <code>--skip-spring</code>, caching classes is<br />\ndisabled in <code>environments/test.rb</code>. This implicitly disables caching<br />\nview templates too. This change will enable view template caching by<br />\nadding this to the generated <code>environments/test.rb</code>:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"n\">config</span><span class=\"p\">.</span><span class=\"nf\">action_view</span><span class=\"p\">.</span><span class=\"nf\">cache_template_loading</span> <span class=\"o\">=</span> <span class=\"kp\">true</span>\n</code></pre></div></div>\n\n<p><em>Jorge Manrubia</em></p>\n"
  },
  {
    "message": "*   `Rails::Application#eager_load!` is available again to load application code\n    manually as it was possible in previous versions.\n\n    Please, note this is not integrated with the whole eager loading logic that\n    runs when Rails boots with eager loading enabled, you can think of this\n    method as a vanilla recursive code loader.\n\n    This ability has been restored because there are some use cases for it, such\n    as indexers that need to have all application classes and modules in memory.\n\n    *Xavier Noria*",
    "project": "railties",
    "date_merged": 1580131150000,
    "author": "Xavier Noria",
    "sha": "e38701241a488b3bd73e8af841c27fe77c5e6aea",
    "pr": "38316",
    "merge_sha": "bde60239059e50b2201f5082603207035bf7f153",
    "html": "<p><code>Rails::Application#eager_load!</code> is available again to load application code<br />\nmanually as it was possible in previous versions.</p>\n\n<p>Please, note this is not integrated with the whole eager loading logic that<br />\nruns when Rails boots with eager loading enabled, you can think of this<br />\nmethod as a vanilla recursive code loader.</p>\n\n<p>This ability has been restored because there are some use cases for it, such<br />\nas indexers that need to have all application classes and modules in memory.</p>\n\n<p><em>Xavier Noria</em></p>\n"
  },
  {
    "message": "*   Generators that inherit from NamedBase respect `--force` option\n\n    *Josh Brody*",
    "project": "railties",
    "date_merged": 1580131150000,
    "author": "Xavier Noria",
    "sha": "47742c0510f19952eb9f54961acd5ddf21d0e20a",
    "pr": "38316",
    "merge_sha": "bde60239059e50b2201f5082603207035bf7f153",
    "html": "<p>Generators that inherit from NamedBase respect <code>--force</code> option</p>\n\n<p><em>Josh Brody</em></p>\n"
  },
  {
    "message": "*   Regression fix: The Rake task `zeitwerk:check` supports eager loaded\n    namespaces which do not have eager load paths, like the recently added\n    `i18n`. These namespaces are only required to respond to `eager_load!`.\n\n    *Xavier Noria*",
    "project": "railties",
    "date_merged": 1576546836000,
    "author": "Xavier Noria",
    "sha": "da28edf9baf0bd83b5308564bdcd8f4673b492bd",
    "pr": "37983",
    "merge_sha": "557dbcf1ed5a73420fb41f5899bce28ef0a21373",
    "html": "<p>Regression fix: The Rake task <code>zeitwerk:check</code> supports eager loaded<br />\nnamespaces which do not have eager load paths, like the recently added<br />\n<code>i18n</code>. These namespaces are only required to respond to <code>eager_load!</code>.</p>\n\n<p><em>Xavier Noria</em></p>\n"
  },
  {
    "message": "*   Fix the collision check for the scaffold generator.\n\n    *Ryan Robeson*",
    "project": "railties",
    "date_merged": 1574896442000,
    "author": "Rafael Mendonça França",
    "sha": "c4175eb2cedc3a7ac89b39da408165ca32aec76f",
    "pr": "37806",
    "merge_sha": "a7eff88a51f11ae4c1500f052ffafa1b496adcc4",
    "html": "<p>Fix the collision check for the scaffold generator.</p>\n\n<p><em>Ryan Robeson</em></p>\n"
  },
  {
    "message": "*   The `zeitwerk:check` Rake task reports files outside the app's root\n    directory, as in engines loaded from gems.\n\n    *Xavier Noria*",
    "project": "railties",
    "date_merged": 1572966447000,
    "author": "George Claghorn",
    "sha": "7982363efabc03e4624cd35aa86e2d284dcd35f7",
    "pr": null,
    "merge_sha": "f2dfc5a496f57f1f8d9f05daf7f7b18c057548f3",
    "html": "<p>The <code>zeitwerk:check</code> Rake task reports files outside the app’s root<br />\ndirectory, as in engines loaded from gems.</p>\n\n<p><em>Xavier Noria</em></p>\n"
  },
  {
    "message": "*   Fixed a possible error when using the evented file update checker.\n\n    *Yuji Yaginuma*",
    "project": "railties",
    "date_merged": 1572966447000,
    "author": "George Claghorn",
    "sha": "7982363efabc03e4624cd35aa86e2d284dcd35f7",
    "pr": null,
    "merge_sha": "f2dfc5a496f57f1f8d9f05daf7f7b18c057548f3",
    "html": "<p>Fixed a possible error when using the evented file update checker.</p>\n\n<p><em>Yuji Yaginuma</em></p>\n"
  },
  {
    "message": "*   The sqlite3 database files created by the parallel testing feature are\n    included in the default `.gitignore` file for newly-generated apps.\n\n    *Yasuo Honda*",
    "project": "railties",
    "date_merged": 1572966447000,
    "author": "George Claghorn",
    "sha": "7982363efabc03e4624cd35aa86e2d284dcd35f7",
    "pr": null,
    "merge_sha": "f2dfc5a496f57f1f8d9f05daf7f7b18c057548f3",
    "html": "<p>The sqlite3 database files created by the parallel testing feature are<br />\nincluded in the default <code>.gitignore</code> file for newly-generated apps.</p>\n\n<p><em>Yasuo Honda</em></p>\n"
  },
  {
    "message": "*   `rails new` generates a `.keep` file in `tmp/pids`. This fixes starting\n    a server via `rackup` instead of `rails server`.\n\n    *Rafael Mendonça França*",
    "project": "railties",
    "date_merged": 1572966447000,
    "author": "George Claghorn",
    "sha": "7982363efabc03e4624cd35aa86e2d284dcd35f7",
    "pr": null,
    "merge_sha": "f2dfc5a496f57f1f8d9f05daf7f7b18c057548f3",
    "html": "<p><code>rails new</code> generates a <code>.keep</code> file in <code>tmp/pids</code>. This fixes starting<br />\na server via <code>rackup</code> instead of <code>rails server</code>.</p>\n\n<p><em>Rafael Mendonça França</em></p>\n"
  },
  {
    "message": "*   `Rails.autoloaders.log!` is a logging shortcut to get the activity of the\n    loaders printed to standard output. May be handy for troubleshooting.\n\n    *Xavier Noria*",
    "project": "railties",
    "date_merged": 1569987140000,
    "author": "Xavier Noria",
    "sha": "ee5ee98e92477d03056f5ad21030248a56db612d",
    "pr": "37334",
    "merge_sha": "dde8025eb6af382154a63e176852a062c5e3996e",
    "html": "<p><code>Rails.autoloaders.log!</code> is a logging shortcut to get the activity of the<br />\nloaders printed to standard output. May be handy for troubleshooting.</p>\n\n<p><em>Xavier Noria</em></p>\n"
  },
  {
    "message": "*   The new configuration point `config.add_autoload_paths_to_load_path` allows\n    users to opt-out from adding autoload paths to `$LOAD_PATH`. This flag is\n    `true` by default, but it is recommended to be set to `false` in `:zeitwerk`\n    mode early, in `config/application.rb`.\n\n    Zeitwerk uses only absolute paths internally, and applications running in\n    `:zeitwerk` mode do not need `require_dependency`, so models, controllers,\n    jobs, etc. do not need to be in `$LOAD_PATH`. Setting this to `false` saves\n    Ruby from checking these directories when resolving `require` calls with\n    relative paths, and saves Bootsnap work and RAM, since it does not need to\n    build an index for them.\n\n    *Xavier Noria*",
    "project": "railties",
    "date_merged": 1556939360000,
    "author": "Xavier Noria",
    "sha": "668673f7793be1ce318a32bb622ed411029d00a9",
    "pr": "36169",
    "merge_sha": "485de3d9f2d7164ece1b0cc283bb406af670ff10",
    "html": "<p>The new configuration point <code>config.add_autoload_paths_to_load_path</code> allows<br />\nusers to opt-out from adding autoload paths to <code>$LOAD_PATH</code>. This flag is<br />\n<code>true</code> by default, but it is recommended to be set to <code>false</code> in <code>:zeitwerk</code><br />\nmode early, in <code>config/application.rb</code>.</p>\n\n<p>Zeitwerk uses only absolute paths internally, and applications running in<br />\n<code>:zeitwerk</code> mode do not need <code>require_dependency</code>, so models, controllers,<br />\njobs, etc. do not need to be in <code>$LOAD_PATH</code>. Setting this to <code>false</code> saves<br />\nRuby from checking these directories when resolving <code>require</code> calls with<br />\nrelative paths, and saves Bootsnap work and RAM, since it does not need to<br />\nbuild an index for them.</p>\n\n<p><em>Xavier Noria</em></p>\n"
  },
  {
    "message": "*   Applications upgrading to Rails 6 can run the command\n\n    ```\n    bin/rails zeitwerk:check\n    ```\n\n    to check if the project structure they were using with the classic\n    autoloader is compatible with `:zeitwerk` mode.\n\n    *Matilda Smeds* & *Xavier Noria*",
    "project": "railties",
    "date_merged": 1556003730000,
    "author": "Xavier Noria",
    "sha": "afc17e5ea21759df5b9ef2ac9421b02154a09b9b",
    "pr": "36029",
    "merge_sha": "9d1f9b9a0c344dd8f4b6b321a3fe8e9f500f841c",
    "html": "<p>Applications upgrading to Rails 6 can run the command</p>\n\n<pre><code>bin/rails zeitwerk:check\n</code></pre>\n\n<p>to check if the project structure they were using with the classic<br />\nautoloader is compatible with <code>:zeitwerk</code> mode.</p>\n\n<p><em>Matilda Smeds</em> &amp; <em>Xavier Noria</em></p>\n"
  },
  {
    "message": "*   Allow loading seeds without ActiveJob.\n\n    Fixes #35782\n\n    *Jeremy Weathers*",
    "project": "railties",
    "date_merged": 1555731543000,
    "author": "Jeremy Weathers",
    "sha": "b08daf48dac4e98076a6eaad5cddc8405ec91af9",
    "pr": "35896",
    "merge_sha": "d3dc651a819d95f0467b0bdad6bc85080debcc43",
    "html": "<p>Allow loading seeds without ActiveJob.</p>\n\n<p>Fixes #35782</p>\n\n<p><em>Jeremy Weathers</em></p>\n"
  },
  {
    "message": "*   `null: false` is set in the migrations by default for column pointed by\n    `belongs_to` / `references` association generated by model generator.\n\n    Also deprecate passing {required} to the model generator.\n\n    *Prathamesh Sonpatki*",
    "project": "railties",
    "date_merged": 1555688859000,
    "author": "Prathamesh Sonpatki",
    "sha": "8b4d344815655027d9f7584c0a59271dce8f1d5a",
    "pr": "36001",
    "merge_sha": "1a5381ff0cf04af68a50bd04f265b9b8199e37b4",
    "html": "<p><code>null: false</code> is set in the migrations by default for column pointed by<br />\n<code>belongs_to</code> / <code>references</code> association generated by model generator.</p>\n\n<p>Also deprecate passing {required} to the model generator.</p>\n\n<p><em>Prathamesh Sonpatki</em></p>\n"
  },
  {
    "message": "*   New applications get `config.cache_classes = false` in `config/environments/test.rb`\n    unless `--skip-spring`.\n\n    *Xavier Noria*",
    "project": "railties",
    "date_merged": 1555287632000,
    "author": "Xavier Noria",
    "sha": "65344f254cde87950c7f176cb7aa09c002a6f882",
    "pr": "35970",
    "merge_sha": "3a5b1240a731f191d21d293784068758ff5f60c4",
    "html": "<p>New applications get <code>config.cache_classes = false</code> in <code>config/environments/test.rb</code><br />\nunless <code>--skip-spring</code>.</p>\n\n<p><em>Xavier Noria</em></p>\n"
  },
  {
    "message": "*   Autoloading during initialization is deprecated.\n\n    *Xavier Noria*",
    "project": "railties",
    "date_merged": 1555246634000,
    "author": "Xavier Noria",
    "sha": "3e66ba91d511158e22f90ff96b594d61f40eda01",
    "pr": "35956",
    "merge_sha": "263bf763f4bf733342fb880978938b22aec4c801",
    "html": "<p>Autoloading during initialization is deprecated.</p>\n\n<p><em>Xavier Noria</em></p>\n"
  },
  {
    "message": "*   Only force `:async` ActiveJob adapter to `:inline` during seeding.\n\n    *BatedUrGonnaDie*",
    "project": "railties",
    "date_merged": 1554837848000,
    "author": "BatedUrGonnaDie",
    "sha": "75811c37a9c1cc7d6977cd841437d136d4b95440",
    "pr": "35905",
    "merge_sha": "d5f2deb1539927c8793588e7d1e86d84211d4da8",
    "html": "<p>Only force <code>:async</code> ActiveJob adapter to <code>:inline</code> during seeding.</p>\n\n<p><em>BatedUrGonnaDie</em></p>\n"
  },
  {
    "message": "*   The `connection` option of `rails dbconsole` command is deprecated in\n    favor of `database` option.\n\n    *Yuji Yaginuma*",
    "project": "railties",
    "date_merged": 1554190246000,
    "author": "yuuji.yaginuma",
    "sha": "29b16d3ff87a3da4ec4ac33a17ad9fd9540284c8",
    "pr": "35703",
    "merge_sha": "ef5ebd93d68c8287e42754e6bafc6c2ec0afa900",
    "html": "<p>The <code>connection</code> option of <code>rails dbconsole</code> command is deprecated in<br />\nfavor of <code>database</code> option.</p>\n\n<p><em>Yuji Yaginuma</em></p>\n"
  },
  {
    "message": "*   Replace `chromedriver-helper` gem with `webdrivers` in default Gemfile.\n    `chromedriver-helper` is deprecated as of March 31, 2019 and won't\n    receive any further updates.\n\n    *Guillermo Iguaran‮*",
    "project": "railties",
    "date_merged": 1554172307000,
    "author": "Connor Shea",
    "sha": "0c0a69b5fa2bc5c004d7e9406e635bb1d696a4a3",
    "pr": "35824",
    "merge_sha": "16912db8fd36927cc15f7ea5dcf1816ca6f0270c",
    "html": "<p>Replace <code>chromedriver-helper</code> gem with <code>webdrivers</code> in default Gemfile.<br />\n<code>chromedriver-helper</code> is deprecated as of March 31, 2019 and won’t<br />\nreceive any further updates.</p>\n\n<p><em>Guillermo Iguaran‮</em></p>\n"
  },
  {
    "message": "*   Applications running in `:zeitwerk` mode that use `bootsnap` need\n    to upgrade `bootsnap` to at least 1.4.2.\n\n    *Xavier Noria*",
    "project": "railties",
    "date_merged": 1553639425000,
    "author": "Xavier Noria",
    "sha": "379d7e8bfa9484d495c2051266852df908c0ea59",
    "pr": "35760",
    "merge_sha": "2cf39747123a3a666264ba58401453b66b382b9c",
    "html": "<p>Applications running in <code>:zeitwerk</code> mode that use <code>bootsnap</code> need<br />\nto upgrade <code>bootsnap</code> to at least 1.4.2.</p>\n\n<p><em>Xavier Noria</em></p>\n"
  },
  {
    "message": "*   Add `config.disable_sandbox` option to Rails console.\n\n    This setting will disable `rails console --sandbox` mode, preventing\n    developer from accidentally starting a sandbox console,\n    which when left inactive, can cause the database server to run out of memory.\n\n    *Prem Sichanugrist*",
    "project": "railties",
    "date_merged": 1553462541000,
    "author": "Prem Sichanugrist",
    "sha": "b27105252bce6a69f6d57c05d4ea28d20e84f8ae",
    "pr": "35723",
    "merge_sha": "b4ca05ea43b1033c3f65d23d3b7b624e0e293a35",
    "html": "<p>Add <code>config.disable_sandbox</code> option to Rails console.</p>\n\n<p>This setting will disable <code>rails console --sandbox</code> mode, preventing<br />\ndeveloper from accidentally starting a sandbox console,<br />\nwhich when left inactive, can cause the database server to run out of memory.</p>\n\n<p><em>Prem Sichanugrist</em></p>\n"
  },
  {
    "message": "*   Add `-e/--environment` option to `rails initializers`.\n\n    *Yuji Yaginuma*",
    "project": "railties",
    "date_merged": 1552778960000,
    "author": "yuuji.yaginuma",
    "sha": "6f94260ac67755fbc4d89e7dd9ba6be04abfa9e7",
    "pr": "35637",
    "merge_sha": "8ed636511779ed1472f4f88362ded34f61005f4a",
    "html": "<p>Add <code>-e/--environment</code> option to <code>rails initializers</code>.</p>\n\n<p><em>Yuji Yaginuma</em></p>\n"
  },
  {
    "message": "*   Generate random development secrets\n\n    A random development secret is now generated to tmp/development_secret.txt\n\n    This avoids an issue where development mode servers were vulnerable to\n    remote code execution.\n\n    Fixes CVE-2019-5420\n\n    *Eileen M. Uchitelle*, *Aaron Patterson*, *John Hawthorn*",
    "project": "railties",
    "date_merged": 1553287436000,
    "author": "John Hawthorn",
    "sha": "5c2d695993080f294c54353954254aa44c6da12c",
    "pr": "35715",
    "merge_sha": "b27885c6c2756fb98c52a75fd9c02b26d39f3cf3",
    "html": "<p>Generate random development secrets</p>\n\n<p>A random development secret is now generated to tmp/development_secret.txt</p>\n\n<p>This avoids an issue where development mode servers were vulnerable to<br />\nremote code execution.</p>\n\n<p>Fixes CVE-2019-5420</p>\n\n<p><em>Eileen M. Uchitelle</em>, <em>Aaron Patterson</em>, <em>John Hawthorn</em></p>\n"
  },
  {
    "message": "*   Fix non-symbol access to nested hashes returned from `Rails::Application.config_for`\n    being broken by allowing non-symbol access with a deprecation notice.\n\n    *Ufuk Kayserilioglu*",
    "project": "railties",
    "date_merged": 1549915555000,
    "author": "Ufuk Kayserilioglu",
    "sha": "325e917f5a5953e8125f4e6531ec28f0565954fd",
    "pr": "35198",
    "merge_sha": "f9e68198516ac6c43a5b583d049d76a466951126",
    "html": "<p>Fix non-symbol access to nested hashes returned from <code>Rails::Application.config_for</code><br />\nbeing broken by allowing non-symbol access with a deprecation notice.</p>\n\n<p><em>Ufuk Kayserilioglu</em></p>\n"
  },
  {
    "message": "*   Fix deeply nested namespace command printing.\n\n    *Gannon McGibbon*",
    "project": "railties",
    "date_merged": 1548353590000,
    "author": "Gannon McGibbon",
    "sha": "a670654882063f0e89a5e450a16dc3cda2ed4030",
    "pr": "35033",
    "merge_sha": "1e25dfde032172bab2b126e60fac0302025defcc",
    "html": "<p>Fix deeply nested namespace command printing.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Remove deprecated `after_bundle` helper inside plugins templates.\n\n    *Rafael Mendonça França*",
    "project": "railties",
    "date_merged": 1547763177000,
    "author": "Rafael Mendonça França",
    "sha": "4d51efe24e461a2a3ed562787308484cd48370c7",
    "pr": "34954",
    "merge_sha": "e65a3a0ce585b1fbcd35872616717595d6950fca",
    "html": "<p>Remove deprecated <code>after_bundle</code> helper inside plugins templates.</p>\n\n<p><em>Rafael Mendonça França</em></p>\n"
  },
  {
    "message": "*   Remove deprecated support to old `config.ru` that use the application class as argument of `run`.\n\n    *Rafael Mendonça França*",
    "project": "railties",
    "date_merged": 1547763177000,
    "author": "Rafael Mendonça França",
    "sha": "553b86fc751c751db504bcbe2d033eb2bb5b6a0b",
    "pr": "34954",
    "merge_sha": "e65a3a0ce585b1fbcd35872616717595d6950fca",
    "html": "<p>Remove deprecated support to old <code>config.ru</code> that use the application class as argument of <code>run</code>.</p>\n\n<p><em>Rafael Mendonça França</em></p>\n"
  },
  {
    "message": "*   Remove deprecated `environment` argument from the rails commands.\n\n    *Rafael Mendonça França*",
    "project": "railties",
    "date_merged": 1547763177000,
    "author": "Rafael Mendonça França",
    "sha": "e20589c9be09c7272d73492d4b0f7b24e5595571",
    "pr": "34954",
    "merge_sha": "e65a3a0ce585b1fbcd35872616717595d6950fca",
    "html": "<p>Remove deprecated <code>environment</code> argument from the rails commands.</p>\n\n<p><em>Rafael Mendonça França</em></p>\n"
  },
  {
    "message": "*   Remove deprecated `capify!`.\n\n    *Rafael Mendonça França*",
    "project": "railties",
    "date_merged": 1547763177000,
    "author": "Rafael Mendonça França",
    "sha": "9d39f81d512e0d16a27e2e864ea2dd0e8dc41b17",
    "pr": "34954",
    "merge_sha": "e65a3a0ce585b1fbcd35872616717595d6950fca",
    "html": "<p>Remove deprecated <code>capify!</code>.</p>\n\n<p><em>Rafael Mendonça França</em></p>\n"
  },
  {
    "message": "*   Remove deprecated `config.secret_token`.\n\n    *Rafael Mendonça França*",
    "project": "railties",
    "date_merged": 1547763177000,
    "author": "Rafael Mendonça França",
    "sha": "46ac5fe69a20d4539a15929fe48293e1809a26b0",
    "pr": "34954",
    "merge_sha": "e65a3a0ce585b1fbcd35872616717595d6950fca",
    "html": "<p>Remove deprecated <code>config.secret_token</code>.</p>\n\n<p><em>Rafael Mendonça França</em></p>\n"
  },
  {
    "message": "*   Seed database with inline ActiveJob job adapter.\n\n    *Gannon McGibbon*",
    "project": "railties",
    "date_merged": 1547741201000,
    "author": "Gannon McGibbon",
    "sha": "66cc0e768fb092dbcd12feb3387c2a22e4cbeb37",
    "pr": "34953",
    "merge_sha": "2dee59fed1e78b983aed4db53dc8fc59e49b9200",
    "html": "<p>Seed database with inline ActiveJob job adapter.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Add `rails db:system:change` command for changing databases.\n\n    ```\n    bin/rails db:system:change --to=postgresql\n       force  config/database.yml\n        gsub  Gemfile\n    ```\n\n    The change command copies a template `config/database.yml` with\n    the target database adapter into your app, and replaces your database gem\n    with the target database gem.\n\n    *Gannon McGibbon*",
    "project": "railties",
    "date_merged": 1547672470000,
    "author": "Gannon McGibbon",
    "sha": "4b1ae57f0f905bd8cb63e435197db5014239d39e",
    "pr": "34832",
    "merge_sha": "90536ebfb3f0ca6971bc3ea4e43f20b8e977539b",
    "html": "<p>Add <code>rails db:system:change</code> command for changing databases.</p>\n\n<pre><code>bin/rails db:system:change --to=postgresql\n   force  config/database.yml\n    gsub  Gemfile\n</code></pre>\n\n<p>The change command copies a template <code>config/database.yml</code> with<br />\nthe target database adapter into your app, and replaces your database gem<br />\nwith the target database gem.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Add `rails test:channels`.\n\n    *bogdanvlviv*",
    "project": "railties",
    "date_merged": 1547666631000,
    "author": "bogdanvlviv",
    "sha": "d7097cf5e00faf2ac4d02bd1a5c37801671ce70c",
    "pr": "34947",
    "merge_sha": "7e52e3b1c004eb22521c844b6adf69a2689cc1da",
    "html": "<p>Add <code>rails test:channels</code>.</p>\n\n<p><em>bogdanvlviv</em></p>\n"
  },
  {
    "message": "*   Use original `bundler` environment variables during the process of generating a new rails project.\n\n    *Marco Costa*",
    "project": "railties",
    "date_merged": 1546988356000,
    "author": "Marco Costa",
    "sha": "d79366b4c9619e70a2c292b3a7c0311618eba9be",
    "pr": "34885",
    "merge_sha": "b03d493cf61f37abe7dc0539aee1985b6a9eea63",
    "html": "<p>Use original <code>bundler</code> environment variables during the process of generating a new rails project.</p>\n\n<p><em>Marco Costa</em></p>\n"
  },
  {
    "message": "*   Send Active Storage analysis and purge jobs to dedicated queues by default.\n\n    Analysis jobs now use the `:active_storage_analysis` queue, and purge jobs\n    now use the `:active_storage_purge` queue. This matches Action Mailbox,\n    which sends its jobs to dedicated queues by default.\n\n    *George Claghorn*",
    "project": "railties",
    "date_merged": 1546633781000,
    "author": "George Claghorn",
    "sha": "663f6cc14fd01650546ed508efb3f7ad8e30135c",
    "pr": "34871",
    "merge_sha": "15383eea3627bcb485661bdb7c5d89597a1897b0",
    "html": "<p>Send Active Storage analysis and purge jobs to dedicated queues by default.</p>\n\n<p>Analysis jobs now use the <code>:active_storage_analysis</code> queue, and purge jobs<br />\nnow use the <code>:active_storage_purge</code> queue. This matches Action Mailbox,<br />\nwhich sends its jobs to dedicated queues by default.</p>\n\n<p><em>George Claghorn</em></p>\n"
  },
  {
    "message": "*   Add `rails test:mailboxes`.\n\n    *George Claghorn*",
    "project": "railties",
    "date_merged": 1546272721000,
    "author": "George Claghorn",
    "sha": "e7bcbf7b29107d93633746644b1e18e626366934",
    "pr": "34740",
    "merge_sha": "c45e3e74eda12885b37d55651540a7e6849b08d5",
    "html": "<p>Add <code>rails test:mailboxes</code>.</p>\n\n<p><em>George Claghorn</em></p>\n"
  },
  {
    "message": "*   Introduce guard against DNS rebinding attacks.\n\n    The `ActionDispatch::HostAuthorization` is a new middleware that prevents\n    against DNS rebinding and other `Host` header attacks. It is included in\n    the development environment by default with the following configuration:\n\n        Rails.application.config.hosts = [\n          IPAddr.new(\"0.0.0.0/0\"), # All IPv4 addresses.\n          IPAddr.new(\"::/0\"),      # All IPv6 addresses.\n          \"localhost\"              # The localhost reserved domain.\n        ]\n\n    In other environments `Rails.application.config.hosts` is empty and no\n    `Host` header checks will be done. If you want to guard against header\n    attacks on production, you have to manually permit the allowed hosts\n    with:\n\n        Rails.application.config.hosts << \"product.com\"\n\n    The host of a request is checked against the `hosts` entries with the case\n    operator (`#===`), which lets `hosts` support entries of type `Regexp`,\n    `Proc` and `IPAddr` to name a few. Here is an example with a regexp.\n\n        # Allow requests from subdomains like `www.product.com` and\n        # `beta1.product.com`.\n        Rails.application.config.hosts << /.*\\.product\\.com/\n\n    A special case is supported that allows you to permit all sub-domains:\n\n        # Allow requests from subdomains like `www.product.com` and\n        # `beta1.product.com`.\n        Rails.application.config.hosts << \".product.com\"\n\n    *Genadi Samokovarov*",
    "project": "railties",
    "date_merged": 1552953522000,
    "author": "प्रथमेश Sonpatki",
    "sha": "0e94a513feb30b382946bef0855869c366a733e9",
    "pr": "35663",
    "merge_sha": "6e94127dd21271f3fcebc865c23974a75de20f3c",
    "html": "<p>Introduce guard against DNS rebinding attacks.</p>\n\n<p>The <code>ActionDispatch::HostAuthorization</code> is a new middleware that prevents<br />\nagainst DNS rebinding and other <code>Host</code> header attacks. It is included in<br />\nthe development environment by default with the following configuration:</p>\n\n<pre><code>Rails.application.config.hosts = [\n  IPAddr.new(\"0.0.0.0/0\"), # All IPv4 addresses.\n  IPAddr.new(\"::/0\"),      # All IPv6 addresses.\n  \"localhost\"              # The localhost reserved domain.\n]\n</code></pre>\n\n<p>In other environments <code>Rails.application.config.hosts</code> is empty and no<br />\n<code>Host</code> header checks will be done. If you want to guard against header<br />\nattacks on production, you have to manually permit the allowed hosts<br />\nwith:</p>\n\n<pre><code>Rails.application.config.hosts &lt;&lt; \"product.com\"\n</code></pre>\n\n<p>The host of a request is checked against the <code>hosts</code> entries with the case<br />\noperator (<code>#===</code>), which lets <code>hosts</code> support entries of type <code>Regexp</code>,<br />\n<code>Proc</code> and <code>IPAddr</code> to name a few. Here is an example with a regexp.</p>\n\n<pre><code># Allow requests from subdomains like `www.product.com` and\n# `beta1.product.com`.\nRails.application.config.hosts &lt;&lt; /.*\\.product\\.com/\n</code></pre>\n\n<p>A special case is supported that allows you to permit all sub-domains:</p>\n\n<pre><code># Allow requests from subdomains like `www.product.com` and\n# `beta1.product.com`.\nRails.application.config.hosts &lt;&lt; \".product.com\"\n</code></pre>\n\n<p><em>Genadi Samokovarov</em></p>\n"
  },
  {
    "message": "*   Remove redundant suffixes on generated helpers.\n\n    *Gannon McGibbon*",
    "project": "railties",
    "date_merged": 1544637420000,
    "author": "Gannon McGibbon",
    "sha": "886ac1c3087f8ac06bee371af54758fb02760e63",
    "pr": "34691",
    "merge_sha": "8fcaf3c26cd83d181e108f686f0e002751e9a3b7",
    "html": "<p>Remove redundant suffixes on generated helpers.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Remove redundant suffixes on generated integration tests.\n\n    *Gannon McGibbon*",
    "project": "railties",
    "date_merged": 1544636886000,
    "author": "Gannon McGibbon",
    "sha": "9bf5545ef7ce13cfc55b35f7d160897dee5cbe0e",
    "pr": "34690",
    "merge_sha": "047d4f260555b4c69fe6ae2d09d4a4cd95fad79a",
    "html": "<p>Remove redundant suffixes on generated integration tests.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Fix boolean interaction in scaffold system tests.\n\n    *Gannon McGibbon*",
    "project": "railties",
    "date_merged": 1544632936000,
    "author": "Gannon McGibbon",
    "sha": "ea89b4588b829934ac9d2e8040ad7e87f398eb4a",
    "pr": "34681",
    "merge_sha": "662f14814eacdc100d0cd511aa05db34119de18a",
    "html": "<p>Fix boolean interaction in scaffold system tests.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Remove redundant suffixes on generated system tests.\n\n    *Gannon McGibbon*",
    "project": "railties",
    "date_merged": 1544622165000,
    "author": "Gannon McGibbon",
    "sha": "b93fc47c72c6767655486960dffb41434633c51b",
    "pr": "34682",
    "merge_sha": "4dd06452ef2745423c1643835483ef72cddfdaed",
    "html": "<p>Remove redundant suffixes on generated system tests.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Add an `abort_on_failure` boolean option to the generator method that shell\n    out (`generate`, `rake`, `rails_command`) to abort the generator if the\n    command fails.\n\n    *David Rodríguez*",
    "project": "railties",
    "date_merged": 1544174269000,
    "author": "David Rodríguez",
    "sha": "f173ec77fc35ce57e94398310308e868689366bb",
    "pr": "34643",
    "merge_sha": "de06d7673eb81fd5d6090e567335daf598790680",
    "html": "<p>Add an <code>abort_on_failure</code> boolean option to the generator method that shell<br />\nout (<code>generate</code>, <code>rake</code>, <code>rails_command</code>) to abort the generator if the<br />\ncommand fails.</p>\n\n<p><em>David Rodríguez</em></p>\n"
  },
  {
    "message": "*   Remove `app/assets` and `app/javascript` from `eager_load_paths` and `autoload_paths`.\n\n    *Gannon McGibbon*",
    "project": "railties",
    "date_merged": 1542149635000,
    "author": "Gannon McGibbon",
    "sha": "cffbf73a4761816d894a49fbec7f070f27ebbff4",
    "pr": "34400",
    "merge_sha": "0b75743e345f98d3f53f5a29fcd0e91d2a370a24",
    "html": "<p>Remove <code>app/assets</code> and <code>app/javascript</code> from <code>eager_load_paths</code> and <code>autoload_paths</code>.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Use Ids instead of memory addresses when displaying references in scaffold views.\n\n    Fixes #29200.\n\n    *Rasesh Patel*",
    "project": "railties",
    "date_merged": 1539691157000,
    "author": "Ryuta Kamizono",
    "sha": "b0b0cd1fd77af3eec8b2b8760bace2572e04a3a3",
    "pr": "34056",
    "merge_sha": "09ca939eabc8b0cda865ecf2893c48800a7c51e3",
    "html": "<p>Use Ids instead of memory addresses when displaying references in scaffold views.</p>\n\n<p>Fixes #29200.</p>\n\n<p><em>Rasesh Patel</em></p>\n"
  },
  {
    "message": "*   Adds support for multiple databases to `rails db:migrate:status`.\n    Subtasks are also added to get the status of individual databases (eg. `rails db:migrate:status:animals`).\n\n    *Gannon McGibbon*",
    "project": "railties",
    "date_merged": 1539186102000,
    "author": "Gannon McGibbon",
    "sha": "287c0de8a10d070098a59f4be2772291c7b67576",
    "pr": "34137",
    "merge_sha": "9413ef56e5903541773f607575ea44b8e10c74a6",
    "html": "<p>Adds support for multiple databases to <code>rails db:migrate:status</code>.<br />\nSubtasks are also added to get the status of individual databases (eg. <code>rails db:migrate:status:animals</code>).</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Use Webpacker by default to manage app-level JavaScript through the new app/javascript directory.\n    Sprockets is now solely in charge, by default, of compiling CSS and other static assets.\n    Action Cable channel generators will create ES6 stubs rather than use CoffeeScript.\n    Active Storage, Action Cable, Turbolinks, and Rails-UJS are loaded by a new application.js pack.\n    Generators no longer generate JavaScript stubs.\n\n    *DHH*, *Lachlan Sylvester*",
    "project": "railties",
    "date_merged": 1538445004000,
    "author": "David Heinemeier Hansson",
    "sha": "4838c1716a0340137d858fab49bf460e23be5a4b",
    "pr": "34046",
    "merge_sha": "8171a1b9db029f4c6d45e2df3037d53a4864acb1",
    "html": "<p>Use Webpacker by default to manage app-level JavaScript through the new app/javascript directory.<br />\nSprockets is now solely in charge, by default, of compiling CSS and other static assets.<br />\nAction Cable channel generators will create ES6 stubs rather than use CoffeeScript.<br />\nActive Storage, Action Cable, Turbolinks, and Rails-UJS are loaded by a new application.js pack.<br />\nGenerators no longer generate JavaScript stubs.</p>\n\n<p><em>DHH</em>, <em>Lachlan Sylvester</em></p>\n"
  },
  {
    "message": "*   Add `database` (aliased as `db`) option to model generator to allow\n    setting the database. This is useful for applications that use\n    multiple databases and put migrations per database in their own directories.\n\n    ```\n    bin/rails g model Room capacity:integer --database=kingston\n          invoke  active_record\n          create    db/kingston_migrate/20180830151055_create_rooms.rb\n    ```\n\n    Because rails scaffolding uses the model generator, you can\n    also specify a database with the scaffold generator.\n\n    *Gannon McGibbon*",
    "project": "railties",
    "date_merged": 1540241371000,
    "author": "bogdanvlviv",
    "sha": "4f1295129b22f435641c4d63a15bfd4395db98ca",
    "pr": "34222",
    "merge_sha": "e853acb9b4cfb5bb91a241cf37084631cd145823",
    "html": "<p>Add <code>database</code> (aliased as <code>db</code>) option to model generator to allow<br />\nsetting the database. This is useful for applications that use<br />\nmultiple databases and put migrations per database in their own directories.</p>\n\n<pre><code>bin/rails g model Room capacity:integer --database=kingston\n      invoke  active_record\n      create    db/kingston_migrate/20180830151055_create_rooms.rb\n</code></pre>\n\n<p>Because rails scaffolding uses the model generator, you can<br />\nalso specify a database with the scaffold generator.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Raise an error when \"recyclable cache keys\" are being used by a cache store\n    that does not explicitly support it. Custom cache keys that do support this feature\n    can bypass this error by implementing the `supports_cache_versioning?` method on their\n    class and returning a truthy value.\n\n    *Richard Schneeman*",
    "project": "railties",
    "date_merged": 1537539939000,
    "author": "schneems",
    "sha": "135d3e15b72b9820212027b057df8980140a947b",
    "pr": "33932",
    "merge_sha": "b1223458979adc29117ffa1392526c6a166effed",
    "html": "<p>Raise an error when “recyclable cache keys” are being used by a cache store<br />\nthat does not explicitly support it. Custom cache keys that do support this feature<br />\ncan bypass this error by implementing the <code>supports_cache_versioning?</code> method on their<br />\nclass and returning a truthy value.</p>\n\n<p><em>Richard Schneeman</em></p>\n"
  },
  {
    "message": "*   Support environment specific credentials overrides.\n\n    So any environment will look for `config/credentials/#{Rails.env}.yml.enc` and fall back\n    to `config/credentials.yml.enc`.\n\n    The encryption key can be in `ENV[\"RAILS_MASTER_KEY\"]` or `config/credentials/production.key`.\n\n    Environment credentials overrides can be edited with `rails credentials:edit --environment production`.\n    If no override is set up for the passed environment, it will be created.\n\n    Additionally, the default lookup paths can be overwritten with these configs:\n\n    - `config.credentials.content_path`\n    - `config.credentials.key_path`\n\n    *Wojciech Wnętrzak*",
    "project": "railties",
    "date_merged": 1547496233000,
    "author": "Kasper Timm Hansen",
    "sha": "37c948ce6715df8ecbcda2b64a1e6eee9c5d6bb6",
    "pr": "33962",
    "merge_sha": "54d4a518d9a8079c9bc03bee454e966e93036942",
    "html": "<p>Support environment specific credentials overrides.</p>\n\n<p>So any environment will look for <code>config/credentials/#{Rails.env}.yml.enc</code> and fall back<br />\nto <code>config/credentials.yml.enc</code>.</p>\n\n<p>The encryption key can be in <code>ENV[\"RAILS_MASTER_KEY\"]</code> or <code>config/credentials/production.key</code>.</p>\n\n<p>Environment credentials overrides can be edited with <code>rails credentials:edit --environment production</code>.<br />\nIf no override is set up for the passed environment, it will be created.</p>\n\n<p>Additionally, the default lookup paths can be overwritten with these configs:</p>\n\n<ul>\n  <li><code>config.credentials.content_path</code></li>\n  <li><code>config.credentials.key_path</code></li>\n</ul>\n\n<p><em>Wojciech Wnętrzak</em></p>\n"
  },
  {
    "message": "*   Make `ActiveSupport::Cache::NullStore` the default cache store in the test environment.\n\n    *Michael C. Nelson*",
    "project": "railties",
    "date_merged": 1536702173000,
    "author": "bogdanvlviv",
    "sha": "ff718abcba6fd8ca5972f019524836bbd1d068d2",
    "pr": "33785",
    "merge_sha": "ab0eed599b9cb2b62eab79ae761464ea732b2e70",
    "html": "<p>Make <code>ActiveSupport::Cache::NullStore</code> the default cache store in the test environment.</p>\n\n<p><em>Michael C. Nelson</em></p>\n"
  },
  {
    "message": "*   Emit warning for unknown inflection rule when generating model.\n\n    *Yoshiyuki Kinjo*",
    "project": "railties",
    "date_merged": 1535743321000,
    "author": "Yoshiyuki Kinjo",
    "sha": "ae6adf98cc3d6ac085c9c6a4887dad65f3c4be17",
    "pr": "33766",
    "merge_sha": "e28725cfa6f87408e1560c4329b2d807456b1ce6",
    "html": "<p>Emit warning for unknown inflection rule when generating model.</p>\n\n<p><em>Yoshiyuki Kinjo</em></p>\n"
  },
  {
    "message": "*   Add `database` (aliased as `db`) option to migration generator.\n\n    If you're using multiple databases and have a folder for each database\n    for migrations (ex db/migrate and db/new_db_migrate) you can now pass the\n    `--database` option to the generator to make sure the the migration\n    is inserted into the correct folder.\n\n    ```\n    rails g migration CreateHouses --database=kingston\n      invoke  active_record\n      create    db/kingston_migrate/20180830151055_create_houses.rb\n    ```\n\n    *Eileen M. Uchitelle*",
    "project": "railties",
    "date_merged": 1540241371000,
    "author": "bogdanvlviv",
    "sha": "4f1295129b22f435641c4d63a15bfd4395db98ca",
    "pr": "34222",
    "merge_sha": "e853acb9b4cfb5bb91a241cf37084631cd145823",
    "html": "<p>Add <code>database</code> (aliased as <code>db</code>) option to migration generator.</p>\n\n<p>If you’re using multiple databases and have a folder for each database<br />\nfor migrations (ex db/migrate and db/new_db_migrate) you can now pass the<br />\n<code>--database</code> option to the generator to make sure the the migration<br />\nis inserted into the correct folder.</p>\n\n<pre><code>rails g migration CreateHouses --database=kingston\n  invoke  active_record\n  create    db/kingston_migrate/20180830151055_create_houses.rb\n</code></pre>\n\n<p><em>Eileen M. Uchitelle</em></p>\n"
  },
  {
    "message": "*   Deprecate `rake routes` in favor of `rails routes`.\n\n    *Yuji Yaginuma*",
    "project": "railties",
    "date_merged": 1534859824000,
    "author": "yuuji.yaginuma",
    "sha": "41ad613e4c5d6c05f20ac0437564ff0d31ab9f5a",
    "pr": "33660",
    "merge_sha": "27934451b2f3f84770ac165e63a624fe075b0785",
    "html": "<p>Deprecate <code>rake routes</code> in favor of <code>rails routes</code>.</p>\n\n<p><em>Yuji Yaginuma</em></p>\n"
  },
  {
    "message": "*   Deprecate `rake initializers` in favor of `rails initializers`.\n\n    *Annie-Claude Côté*",
    "project": "railties",
    "date_merged": 1534700297000,
    "author": "Annie-Claude Côté",
    "sha": "ccdb23d500b87dd2580ef0dde5052c842e59de00",
    "pr": "33631",
    "merge_sha": "cc14bf77ca31b6873756fad5b4c1324fb6663fe1",
    "html": "<p>Deprecate <code>rake initializers</code> in favor of <code>rails initializers</code>.</p>\n\n<p><em>Annie-Claude Côté</em></p>\n"
  },
  {
    "message": "*   Deprecate `rake dev:cache` in favor of `rails dev:cache`.\n\n    *Annie-Claude Côté*",
    "project": "railties",
    "date_merged": 1534356034000,
    "author": "Annie-Claude Côté",
    "sha": "7db360acb2efa64af5fbfb82036588cf7a0f20fa",
    "pr": "33559",
    "merge_sha": "efaa7191f24da079e785b00019a9ef252f841a8c",
    "html": "<p>Deprecate <code>rake dev:cache</code> in favor of <code>rails dev:cache</code>.</p>\n\n<p><em>Annie-Claude Côté</em></p>\n"
  },
  {
    "message": "*   Deprecate `rails notes` subcommands in favor of passing an `annotations` argument to `rails notes`.\n\n    The following subcommands are replaced by passing `--annotations` or `-a` to `rails notes`:\n    - `rails notes:custom ANNOTATION=custom` is deprecated in favor of using `rails notes -a custom`.\n    - `rails notes:optimize` is deprecated in favor of using `rails notes -a OPTIMIZE`.\n    - `rails notes:todo` is deprecated in favor of  using`rails notes -a TODO`.\n    - `rails notes:fixme` is deprecated in favor of using `rails notes -a FIXME`.\n\n    *Annie-Claude Côté*",
    "project": "railties",
    "date_merged": 1531150893000,
    "author": "Annie-Claude Côté",
    "sha": "a028d3f7754f64d27119c57dda288804371b74fc",
    "pr": "33308",
    "merge_sha": "d4ea114bd611c608482375af94f49e2d54889202",
    "html": "<p>Deprecate <code>rails notes</code> subcommands in favor of passing an <code>annotations</code> argument to <code>rails notes</code>.</p>\n\n<p>The following subcommands are replaced by passing <code>--annotations</code> or <code>-a</code> to <code>rails notes</code>:</p>\n<ul>\n  <li><code>rails notes:custom ANNOTATION=custom</code> is deprecated in favor of using <code>rails notes -a custom</code>.</li>\n  <li><code>rails notes:optimize</code> is deprecated in favor of using <code>rails notes -a OPTIMIZE</code>.</li>\n  <li><code>rails notes:todo</code> is deprecated in favor of  using<code>rails notes -a TODO</code>.</li>\n  <li><code>rails notes:fixme</code> is deprecated in favor of using <code>rails notes -a FIXME</code>.</li>\n</ul>\n\n<p><em>Annie-Claude Côté</em></p>\n"
  },
  {
    "message": "*   Deprecate `SOURCE_ANNOTATION_DIRECTORIES` environment variable used by `rails notes`\n    through `Rails::SourceAnnotationExtractor::Annotation` in favor of using `config.annotations.register_directories`.\n\n    *Annie-Claude Côté*",
    "project": "railties",
    "date_merged": 1531150893000,
    "author": "Annie-Claude Côté",
    "sha": "a028d3f7754f64d27119c57dda288804371b74fc",
    "pr": "33308",
    "merge_sha": "d4ea114bd611c608482375af94f49e2d54889202",
    "html": "<p>Deprecate <code>SOURCE_ANNOTATION_DIRECTORIES</code> environment variable used by <code>rails notes</code><br />\nthrough <code>Rails::SourceAnnotationExtractor::Annotation</code> in favor of using <code>config.annotations.register_directories</code>.</p>\n\n<p><em>Annie-Claude Côté</em></p>\n"
  },
  {
    "message": "*   Deprecate `rake notes` in favor of `rails notes`.\n\n    *Annie-Claude Côté*",
    "project": "railties",
    "date_merged": 1531150893000,
    "author": "Annie-Claude Côté",
    "sha": "a028d3f7754f64d27119c57dda288804371b74fc",
    "pr": "33308",
    "merge_sha": "d4ea114bd611c608482375af94f49e2d54889202",
    "html": "<p>Deprecate <code>rake notes</code> in favor of <code>rails notes</code>.</p>\n\n<p><em>Annie-Claude Côté</em></p>\n"
  },
  {
    "message": "*   Don't generate unused files in `app:update` task.\n\n    Skip the assets' initializer when sprockets isn't loaded.\n\n    Skip `config/spring.rb` when spring isn't loaded.\n\n    Skip yarn's contents when yarn integration isn't used.\n\n    *Tsukuru Tanimichi*",
    "project": "railties",
    "date_merged": 1536322181000,
    "author": "Ryuta Kamizono",
    "sha": "736edb982856f0de04d4566f657c0c84f145e7ef",
    "pr": "33756",
    "merge_sha": "2a470d73a75ebf8cd7975e469bd82586d9234442",
    "html": "<p>Don’t generate unused files in <code>app:update</code> task.</p>\n\n<p>Skip the assets’ initializer when sprockets isn’t loaded.</p>\n\n<p>Skip <code>config/spring.rb</code> when spring isn’t loaded.</p>\n\n<p>Skip yarn’s contents when yarn integration isn’t used.</p>\n\n<p><em>Tsukuru Tanimichi</em></p>\n"
  },
  {
    "message": "*   Make the master.key file read-only for the owner upon generation on\n    POSIX-compliant systems.\n\n    Previously:\n\n        $ ls -l config/master.key\n        -rw-r--r--   1 owner  group      32 Jan 1 00:00 master.key\n\n    Now:\n\n        $ ls -l config/master.key\n        -rw-------   1 owner  group      32 Jan 1 00:00 master.key\n\n    Fixes #32604.\n\n    *Jose Luis Duran*",
    "project": "railties",
    "date_merged": 1524143361000,
    "author": "Jose Luis Duran",
    "sha": "4c6c3575c66ce10043c9ea04023788890a228de8",
    "pr": "32627",
    "merge_sha": "1a32e058a3a9b5f2e7b2930e1177de2f23aa8555",
    "html": "<p>Make the master.key file read-only for the owner upon generation on<br />\nPOSIX-compliant systems.</p>\n\n<p>Previously:</p>\n\n<pre><code>$ ls -l config/master.key\n-rw-r--r--   1 owner  group      32 Jan 1 00:00 master.key\n</code></pre>\n\n<p>Now:</p>\n\n<pre><code>$ ls -l config/master.key\n-rw-------   1 owner  group      32 Jan 1 00:00 master.key\n</code></pre>\n\n<p>Fixes #32604.</p>\n\n<p><em>Jose Luis Duran</em></p>\n"
  },
  {
    "message": "*   Deprecate support for using the `HOST` environment variable to specify the server IP.\n\n    The `BINDING` environment variable should be used instead.\n\n    Fixes #29516.\n\n    *Yuji Yaginuma*",
    "project": "railties",
    "date_merged": 1552311735000,
    "author": "Prathamesh Sonpatki",
    "sha": "4cdc93a1e449d8c81d3172f03adbd4288024883c",
    "pr": "35569",
    "merge_sha": "2259b486f173e3259a9c3871803b6aecdd74b81f",
    "html": "<p>Deprecate support for using the <code>HOST</code> environment variable to specify the server IP.</p>\n\n<p>The <code>BINDING</code> environment variable should be used instead.</p>\n\n<p>Fixes #29516.</p>\n\n<p><em>Yuji Yaginuma</em></p>\n"
  },
  {
    "message": "*   Deprecate passing Rack server name as a regular argument to `rails server`.\n\n    Previously:\n\n        $ bin/rails server thin\n\n    There wasn't an explicit option for the Rack server to use, now we have the\n    `--using` option with the `-u` short switch.\n\n    Now:\n\n        $ bin/rails server -u thin\n\n    This change also improves the error message if a missing or mistyped rack\n    server is given.\n\n    *Genadi Samokovarov*",
    "project": "railties",
    "date_merged": 1520193168000,
    "author": "Genadi Samokovarov",
    "sha": "5af643d8d6f8af19a85a34475f40ac18db7c71e9",
    "pr": "32058",
    "merge_sha": "f4ddbff71c3f2171ad0bd7cb73e44ebf3a4ca245",
    "html": "<p>Deprecate passing Rack server name as a regular argument to <code>rails server</code>.</p>\n\n<p>Previously:</p>\n\n<pre><code>$ bin/rails server thin\n</code></pre>\n\n<p>There wasn’t an explicit option for the Rack server to use, now we have the<br />\n<code>--using</code> option with the <code>-u</code> short switch.</p>\n\n<p>Now:</p>\n\n<pre><code>$ bin/rails server -u thin\n</code></pre>\n\n<p>This change also improves the error message if a missing or mistyped rack<br />\nserver is given.</p>\n\n<p><em>Genadi Samokovarov</em></p>\n"
  },
  {
    "message": "*   Add \"rails routes --expanded\" option to output routes in expanded mode like\n    \"psql --expanded\". Result looks like:\n\n    ```\n    $ rails routes --expanded\n    --[ Route 1 ]------------------------------------------------------------\n    Prefix            | high_scores\n    Verb              | GET\n    URI               | /high_scores(.:format)\n    Controller#Action | high_scores#index\n    --[ Route 2 ]------------------------------------------------------------\n    Prefix            | new_high_score\n    Verb              | GET\n    URI               | /high_scores/new(.:format)\n    Controller#Action | high_scores#new\n    ```\n\n    *Benoit Tigeot*",
    "project": "railties",
    "date_merged": 1519860840000,
    "author": "Benoit Tigeot",
    "sha": "c6d928f3cae28e3b531d3cc4bcde2ddca0323f11",
    "pr": "32130",
    "merge_sha": "c9fa561b2e8dd6bfe31c1850a47e2f17cac94aa6",
    "html": "<p>Add “rails routes –expanded” option to output routes in expanded mode like<br />\n“psql –expanded”. Result looks like:</p>\n\n<pre><code>$ rails routes --expanded\n--[ Route 1 ]------------------------------------------------------------\nPrefix            | high_scores\nVerb              | GET\nURI               | /high_scores(.:format)\nController#Action | high_scores#index\n--[ Route 2 ]------------------------------------------------------------\nPrefix            | new_high_score\nVerb              | GET\nURI               | /high_scores/new(.:format)\nController#Action | high_scores#new\n</code></pre>\n\n<p><em>Benoit Tigeot</em></p>\n"
  },
  {
    "message": "*   Rails 6 requires Ruby 2.5.0 or newer.\n\n    *Jeremy Daer*, *Kasper Timm Hansen*",
    "project": "railties",
    "date_merged": 1545257730000,
    "author": "Kasper Timm Hansen",
    "sha": "1b7c3222e86b98ce886110ae0860ba62e35e2299",
    "pr": "34754",
    "merge_sha": "04159a7a1dd8e63e070837a461eb15c1cb02aee1",
    "html": "<p>Rails 6 requires Ruby 2.5.0 or newer.</p>\n\n<p><em>Jeremy Daer</em>, <em>Kasper Timm Hansen</em></p>\n"
  },
  {
    "message": "*   PostgreSQL subscription adapters now support `channel_prefix` option in cable.yml\n\n    Avoids channel name collisions when multiple apps use the same database for Action Cable.\n\n    *Vladimir Dementyev*",
    "project": "actioncable",
    "date_merged": 1550197307000,
    "author": "Vladimir Dementyev",
    "sha": "c43c83984792ac546e7610c898cf9099cc1a2ee6",
    "pr": "35249",
    "merge_sha": "79b8b626216b4f8f24b5606f3edd43d5b14cd2a6",
    "html": "<p>PostgreSQL subscription adapters now support <code>channel_prefix</code> option in cable.yml</p>\n\n<p>Avoids channel name collisions when multiple apps use the same database for Action Cable.</p>\n\n<p><em>Vladimir Dementyev</em></p>\n"
  },
  {
    "message": "*   Allow passing custom configuration to `ActionCable::Server::Base`.\n\n    You can now create a standalone Action Cable server with a custom configuration\n    (e.g. to run it in isolation from the default one):\n\n    ```ruby\n    config = ActionCable::Server::Configuration.new\n    config.cable = { adapter: \"redis\", channel_prefix: \"custom_\" }\n\n    CUSTOM_CABLE = ActionCable::Server::Base.new(config: config)\n    ```\n\n    Then you can mount it in the `routes.rb` file:\n\n    ```ruby\n    Rails.application.routes.draw do\n      mount CUSTOM_CABLE => \"/custom_cable\"\n      # ...\n    end\n    ```\n\n    *Vladimir Dementyev*",
    "project": "actioncable",
    "date_merged": 1550015042000,
    "author": "Vladimir Dementyev",
    "sha": "3cd69fa2c025da1cc45b1b9b43b227cceb025837",
    "pr": "34714",
    "merge_sha": "bc2954d02b7bae0c1ae3a9a647d5cf6699c25b51",
    "html": "<p>Allow passing custom configuration to <code>ActionCable::Server::Base</code>.</p>\n\n<p>You can now create a standalone Action Cable server with a custom configuration<br />\n(e.g. to run it in isolation from the default one):</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"n\">config</span> <span class=\"o\">=</span> <span class=\"no\">ActionCable</span><span class=\"o\">::</span><span class=\"no\">Server</span><span class=\"o\">::</span><span class=\"no\">Configuration</span><span class=\"p\">.</span><span class=\"nf\">new</span>\n<span class=\"n\">config</span><span class=\"p\">.</span><span class=\"nf\">cable</span> <span class=\"o\">=</span> <span class=\"p\">{</span> <span class=\"ss\">adapter: </span><span class=\"s2\">\"redis\"</span><span class=\"p\">,</span> <span class=\"ss\">channel_prefix: </span><span class=\"s2\">\"custom_\"</span> <span class=\"p\">}</span>\n\n<span class=\"no\">CUSTOM_CABLE</span> <span class=\"o\">=</span> <span class=\"no\">ActionCable</span><span class=\"o\">::</span><span class=\"no\">Server</span><span class=\"o\">::</span><span class=\"no\">Base</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"ss\">config: </span><span class=\"n\">config</span><span class=\"p\">)</span>\n</code></pre></div></div>\n\n<p>Then you can mount it in the <code>routes.rb</code> file:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"no\">Rails</span><span class=\"p\">.</span><span class=\"nf\">application</span><span class=\"p\">.</span><span class=\"nf\">routes</span><span class=\"p\">.</span><span class=\"nf\">draw</span> <span class=\"k\">do</span>\n  <span class=\"n\">mount</span> <span class=\"no\">CUSTOM_CABLE</span> <span class=\"o\">=&gt;</span> <span class=\"s2\">\"/custom_cable\"</span>\n  <span class=\"c1\"># ...</span>\n<span class=\"k\">end</span>\n</code></pre></div></div>\n\n<p><em>Vladimir Dementyev</em></p>\n"
  },
  {
    "message": "*   Add `:action_cable_connection` and `:action_cable_channel` load hooks.\n\n    You can use them to extend `ActionCable::Connection::Base` and `ActionCable::Channel::Base`\n    functionality:\n\n    ```ruby\n    ActiveSupport.on_load(:action_cable_channel) do\n      # do something in the context of ActionCable::Channel::Base\n    end\n    ```\n\n    *Vladimir Dementyev*",
    "project": "actioncable",
    "date_merged": 1548820620000,
    "author": "Vladimir Dementyev",
    "sha": "8ed276b2f785710420fc51cd1b8fccd89cb4a06e",
    "pr": "35094",
    "merge_sha": "370310bb1eb886bf0b2fabe70fb74a473f46d08a",
    "html": "<p>Add <code>:action_cable_connection</code> and <code>:action_cable_channel</code> load hooks.</p>\n\n<p>You can use them to extend <code>ActionCable::Connection::Base</code> and <code>ActionCable::Channel::Base</code><br />\nfunctionality:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"no\">ActiveSupport</span><span class=\"p\">.</span><span class=\"nf\">on_load</span><span class=\"p\">(</span><span class=\"ss\">:action_cable_channel</span><span class=\"p\">)</span> <span class=\"k\">do</span>\n  <span class=\"c1\"># do something in the context of ActionCable::Channel::Base</span>\n<span class=\"k\">end</span>\n</code></pre></div></div>\n\n<p><em>Vladimir Dementyev</em></p>\n"
  },
  {
    "message": "*   Add `Channel::Base#broadcast_to`.\n\n    You can now call `broadcast_to` within a channel action, which equals to\n    the `self.class.broadcast_to`.\n\n    *Vladimir Dementyev*",
    "project": "actioncable",
    "date_merged": 1548369633000,
    "author": "Vladimir Dementyev",
    "sha": "513dd2cfdb98c01bce9759b29c48aa8b691f53d4",
    "pr": "35021",
    "merge_sha": "36c840057fb46c09457a8b091d2db6351d2efeef",
    "html": "<p>Add <code>Channel::Base#broadcast_to</code>.</p>\n\n<p>You can now call <code>broadcast_to</code> within a channel action, which equals to<br />\nthe <code>self.class.broadcast_to</code>.</p>\n\n<p><em>Vladimir Dementyev</em></p>\n"
  },
  {
    "message": "*   Make `Channel::Base.broadcasting_for` a public API.\n\n    You can use `.broadcasting_for` to generate a unique stream identifier within\n    a channel for the specified target (e.g. Active Record model):\n\n    ```ruby\n    ChatChannel.broadcasting_for(model) # => \"chat:<model.to_gid_param>\"\n    ```\n\n    *Vladimir Dementyev*",
    "project": "actioncable",
    "date_merged": 1548369633000,
    "author": "Vladimir Dementyev",
    "sha": "513dd2cfdb98c01bce9759b29c48aa8b691f53d4",
    "pr": "35021",
    "merge_sha": "36c840057fb46c09457a8b091d2db6351d2efeef",
    "html": "<p>Make <code>Channel::Base.broadcasting_for</code> a public API.</p>\n\n<p>You can use <code>.broadcasting_for</code> to generate a unique stream identifier within<br />\na channel for the specified target (e.g. Active Record model):</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"no\">ChatChannel</span><span class=\"p\">.</span><span class=\"nf\">broadcasting_for</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"p\">)</span> <span class=\"c1\"># =&gt; \"chat:&lt;model.to_gid_param&gt;\"</span>\n</code></pre></div></div>\n\n<p><em>Vladimir Dementyev</em></p>\n"
  },
  {
    "message": "*   [Rename npm package](https://github.com/rails/rails/pull/34905) from\n    [`actioncable`](https://www.npmjs.com/package/actioncable) to\n    [`@rails/actioncable`](https://www.npmjs.com/package/@rails/actioncable).\n\n    *Javan Makhmali*",
    "project": "actioncable",
    "date_merged": 1548695131000,
    "author": "Javan Makhmali",
    "sha": "e3d43333db2c70dac73d9b41ddd277dc8843ab32",
    "pr": "35030",
    "merge_sha": "2f9f699a2f6c6d470d2c639fe07d7850f6858c53",
    "html": "<p><a href=\"https://github.com/rails/rails/pull/34905\">Rename npm package</a> from<br />\n<a href=\"https://www.npmjs.com/package/actioncable\"><code>actioncable</code></a> to<br />\n<a href=\"https://www.npmjs.com/package/@rails/actioncable\"><code>@rails/actioncable</code></a>.</p>\n\n<p><em>Javan Makhmali</em></p>\n"
  },
  {
    "message": "*   Merge [`action-cable-testing`](https://github.com/palkan/action-cable-testing) to Rails.\n\n    *Vladimir Dementyev*",
    "project": "actioncable",
    "date_merged": 1547494787000,
    "author": "Vladimir Dementyev",
    "sha": "a4099debcfd7e5e1fe3e5fd9111b7cb0242eb56d",
    "pr": "34933",
    "merge_sha": "2585e66b551a8b368425aad062e5f325985ab482",
    "html": "<p>Merge <a href=\"https://github.com/palkan/action-cable-testing\"><code>action-cable-testing</code></a> to Rails.</p>\n\n<p><em>Vladimir Dementyev</em></p>\n"
  },
  {
    "message": "*   The JavaScript WebSocket client will no longer try to reconnect\n    when you call `reject_unauthorized_connection` on the connection.\n\n    *Mick Staugaard*",
    "project": "actioncable",
    "date_merged": 1544038192000,
    "author": "Mick Staugaard",
    "sha": "58dbc1c2ed0e372d9cae4c9e3baebb679a726dc3",
    "pr": "34194",
    "merge_sha": "d9816546494f66e76bd5012a91b872dc2096a06c",
    "html": "<p>The JavaScript WebSocket client will no longer try to reconnect<br />\nwhen you call <code>reject_unauthorized_connection</code> on the connection.</p>\n\n<p><em>Mick Staugaard</em></p>\n"
  },
  {
    "message": "*   `ActionCable.Connection#getState` now references the configurable\n    `ActionCable.adapters.WebSocket` property rather than the `WebSocket` global\n    variable, matching the behavior of `ActionCable.Connection#open`.\n\n    *Richard Macklin*",
    "project": "actioncable",
    "date_merged": 1543780205000,
    "author": "Richard Macklin",
    "sha": "2bb4fdef5efc70327c018e982ff809a29ac6708b",
    "pr": "34590",
    "merge_sha": "985557b53309152e8483b9e702993e33632d31c9",
    "html": "<p><code>ActionCable.Connection#getState</code> now references the configurable<br />\n<code>ActionCable.adapters.WebSocket</code> property rather than the <code>WebSocket</code> global<br />\nvariable, matching the behavior of <code>ActionCable.Connection#open</code>.</p>\n\n<p><em>Richard Macklin</em></p>\n"
  },
  {
    "message": "*   The ActionCable javascript package has been converted from CoffeeScript\n    to ES2015, and we now publish the source code in the npm distribution.\n\n    This allows ActionCable users to depend on the javascript source code\n    rather than the compiled code, which can produce smaller javascript bundles.\n\n    This change includes some breaking changes to optional parts of the\n    ActionCable javascript API:\n\n    - Configuration of the WebSocket adapter and logger adapter have been moved\n      from properties of `ActionCable` to properties of `ActionCable.adapters`.\n      If you are currently configuring these adapters you will need to make\n      these changes when upgrading:\n\n      ```diff\n      -    ActionCable.WebSocket = MyWebSocket\n      +    ActionCable.adapters.WebSocket = MyWebSocket\n      ```\n      ```diff\n      -    ActionCable.logger = myLogger\n      +    ActionCable.adapters.logger = myLogger\n      ```\n\n    - The `ActionCable.startDebugging()` and `ActionCable.stopDebugging()`\n      methods have been removed and replaced with the property\n      `ActionCable.logger.enabled`. If you are currently using these methods you\n      will need to make these changes when upgrading:\n\n      ```diff\n      -    ActionCable.startDebugging()\n      +    ActionCable.logger.enabled = true\n      ```\n      ```diff\n      -    ActionCable.stopDebugging()\n      +    ActionCable.logger.enabled = false\n      ```\n\n    *Richard Macklin*",
    "project": "actioncable",
    "date_merged": 1543780056000,
    "author": "rmacklin",
    "sha": "aa1ba9cb244b1e03d36aaa941ae4e91c6713b77e",
    "pr": "34588",
    "merge_sha": "730ead9b094c5d639b2463ef82de4a4f6b1ff1e9",
    "html": "<p>The ActionCable javascript package has been converted from CoffeeScript<br />\nto ES2015, and we now publish the source code in the npm distribution.</p>\n\n<p>This allows ActionCable users to depend on the javascript source code<br />\nrather than the compiled code, which can produce smaller javascript bundles.</p>\n\n<p>This change includes some breaking changes to optional parts of the<br />\nActionCable javascript API:</p>\n\n<ul>\n  <li>\n    <p>Configuration of the WebSocket adapter and logger adapter have been moved<br />\nfrom properties of <code>ActionCable</code> to properties of <code>ActionCable.adapters</code>.<br />\nIf you are currently configuring these adapters you will need to make<br />\nthese changes when upgrading:</p>\n\n    <div class=\"language-diff highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"gd\">-    ActionCable.WebSocket = MyWebSocket\n</span><span class=\"gi\">+    ActionCable.adapters.WebSocket = MyWebSocket\n</span></code></pre></div>    </div>\n    <div class=\"language-diff highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"gd\">-    ActionCable.logger = myLogger\n</span><span class=\"gi\">+    ActionCable.adapters.logger = myLogger\n</span></code></pre></div>    </div>\n  </li>\n  <li>\n    <p>The <code>ActionCable.startDebugging()</code> and <code>ActionCable.stopDebugging()</code><br />\nmethods have been removed and replaced with the property<br />\n<code>ActionCable.logger.enabled</code>. If you are currently using these methods you<br />\nwill need to make these changes when upgrading:</p>\n\n    <div class=\"language-diff highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"gd\">-    ActionCable.startDebugging()\n</span><span class=\"gi\">+    ActionCable.logger.enabled = true\n</span></code></pre></div>    </div>\n    <div class=\"language-diff highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"gd\">-    ActionCable.stopDebugging()\n</span><span class=\"gi\">+    ActionCable.logger.enabled = false\n</span></code></pre></div>    </div>\n  </li>\n</ul>\n\n<p><em>Richard Macklin</em></p>\n"
  },
  {
    "message": "*   Add `id` option to redis adapter so now you can distinguish\n    ActionCable's redis connections among others. Also, you can set\n    custom id in options.\n\n    Before:\n    ```\n    $ redis-cli client list\n    id=669 addr=127.0.0.1:46442 fd=8 name= age=18 ...\n    ```\n\n    After:\n    ```\n    $ redis-cli client list\n    id=673 addr=127.0.0.1:46516 fd=8 name=ActionCable-PID-19413 age=2 ...\n    ```\n\n    *Ilia Kasianenko*",
    "project": "actioncable",
    "date_merged": 1536258224000,
    "author": "Ilia Kasianenko",
    "sha": "bcd11e07b5369b661e869631dc485fd5e3ce88a5",
    "pr": "33798",
    "merge_sha": "2de047dbeb88215e1b5b86c1154e7d0f3002f9ba",
    "html": "<p>Add <code>id</code> option to redis adapter so now you can distinguish<br />\nActionCable’s redis connections among others. Also, you can set<br />\ncustom id in options.</p>\n\n<p>Before:</p>\n<pre><code>$ redis-cli client list\nid=669 addr=127.0.0.1:46442 fd=8 name= age=18 ...\n</code></pre>\n\n<p>After:</p>\n<pre><code>$ redis-cli client list\nid=673 addr=127.0.0.1:46516 fd=8 name=ActionCable-PID-19413 age=2 ...\n</code></pre>\n\n<p><em>Ilia Kasianenko</em></p>\n"
  },
  {
    "message": "*   Rails 6 requires Ruby 2.5.0 or newer.\n\n    *Jeremy Daer*, *Kasper Timm Hansen*",
    "project": "actioncable",
    "date_merged": 1545257730000,
    "author": "Kasper Timm Hansen",
    "sha": "1b7c3222e86b98ce886110ae0860ba62e35e2299",
    "pr": "34754",
    "merge_sha": "04159a7a1dd8e63e070837a461eb15c1cb02aee1",
    "html": "<p>Rails 6 requires Ruby 2.5.0 or newer.</p>\n\n<p><em>Jeremy Daer</em>, <em>Kasper Timm Hansen</em></p>\n"
  },
  {
    "message": "*   Add \"Multiple Databases with Active Record\" Guide.\n\n    *Eileen M. Uchitelle*",
    "project": "guides",
    "date_merged": 1564563726000,
    "author": "Abhay Nikam",
    "sha": "8fbfb233ef841544d3c71f770217b3c38fd47125",
    "pr": "36820",
    "merge_sha": "5a243f6ace8286102fddc3f6ddbd75be5ece078a",
    "html": "<p>Add “Multiple Databases with Active Record” Guide.</p>\n\n<p><em>Eileen M. Uchitelle</em></p>\n"
  },
  {
    "message": "*   Added documentation about the `variants` option to `render`\n\n    *Edward Rudd*",
    "project": "guides",
    "date_merged": 1554330738000,
    "author": "Edward Rudd",
    "sha": "90a8ce645085e475f668643195652b7518a7b9cc",
    "pr": "30666",
    "merge_sha": "4ecca4cd05b2780ba08df951c8cde437feb1ba5b",
    "html": "<p>Added documentation about the <code>variants</code> option to <code>render</code></p>\n\n<p><em>Edward Rudd</em></p>\n"
  },
  {
    "message": "*   Add \"Action Text Overview\" Guide.\n\n    *DHH*",
    "project": "guides",
    "date_merged": 1548070569000,
    "author": "bogdanvlviv",
    "sha": "0bc62b9c27b562986409851789c302be0ac7379f",
    "pr": "35004",
    "merge_sha": "98ebebde86c78391c102bb031ca56999b63c2de1",
    "html": "<p>Add “Action Text Overview” Guide.</p>\n\n<p><em>DHH</em></p>\n"
  },
  {
    "message": "*   Add \"Action Mailbox Basics\" Guide.\n\n    *DHH*",
    "project": "guides",
    "date_merged": 1548070569000,
    "author": "bogdanvlviv",
    "sha": "0bc62b9c27b562986409851789c302be0ac7379f",
    "pr": "35004",
    "merge_sha": "98ebebde86c78391c102bb031ca56999b63c2de1",
    "html": "<p>Add “Action Mailbox Basics” Guide.</p>\n\n<p><em>DHH</em></p>\n"
  },
  {
    "message": "*   New section _Troubleshooting_ in the _Autoloading and Reloading Constants_ guide.\n\n    *Xavier Noria*",
    "project": "guides",
    "date_merged": 1536520844000,
    "author": "Xavier Noria",
    "sha": "5f35c60f848dda275e34bc055f58031c08d7b416",
    "pr": "33825",
    "merge_sha": "101096e5421d93b02d9df284385cf305db81cd1f",
    "html": "<p>New section <em>Troubleshooting</em> in the <em>Autoloading and Reloading Constants</em> guide.</p>\n\n<p><em>Xavier Noria</em></p>\n"
  },
  {
    "message": "*   Rails 6 requires Ruby 2.5.0 or newer.\n\n    *Jeremy Daer*, *Kasper Timm Hansen*",
    "project": "guides",
    "date_merged": 1545257730000,
    "author": "Kasper Timm Hansen",
    "sha": "1b7c3222e86b98ce886110ae0860ba62e35e2299",
    "pr": "34754",
    "merge_sha": "04159a7a1dd8e63e070837a461eb15c1cb02aee1",
    "html": "<p>Rails 6 requires Ruby 2.5.0 or newer.</p>\n\n<p><em>Jeremy Daer</em>, <em>Kasper Timm Hansen</em></p>\n"
  },
  {
    "message": "*   Disentangle Action Text from ApplicationController\n\n    Allow Action Text to be used without having an ApplicationController\n    defined.\n    This makes sure:\n    * Action Text attachments render the correct URL host in mailers.\n    * an ActionController::Renderer isn't allocated per request.\n    * Sidekiq doesn't hang with the \"classic\" autoloader.\n\n    *Jonathan Hefner*",
    "project": "actiontext",
    "date_merged": 1624866496000,
    "author": "Jonathan Hefner",
    "sha": "3e6ac87136ef2ff6766af2ab468da48dbae6ae9e",
    "pr": "42620",
    "merge_sha": "295af64596f5cf2e2a0c66149cba6052172777bd",
    "html": "<p>Disentangle Action Text from ApplicationController</p>\n\n<p>Allow Action Text to be used without having an ApplicationController<br />\ndefined.<br />\nThis makes sure:</p>\n<ul>\n  <li>Action Text attachments render the correct URL host in mailers.</li>\n  <li>an ActionController::Renderer isn’t allocated per request.</li>\n  <li>Sidekiq doesn’t hang with the “classic” autoloader.</li>\n</ul>\n\n<p><em>Jonathan Hefner</em></p>\n"
  },
  {
    "message": "*   Added to Rails.\n\n    *DHH*",
    "project": "actiontext",
    "date_merged": 1546661352000,
    "author": "George Claghorn",
    "sha": "0decd2ddc4a94cf522fc8ea8e6c73b9deedfdd93",
    "pr": "34873",
    "merge_sha": "df8ee09ce71338cdf9816225df1bdebc707f3560",
    "html": "<p>Added to Rails.</p>\n\n<p><em>DHH</em></p>\n"
  },
  {
    "message": "*   Symbol is allowed by default for YAML columns\n\n    *Étienne Barrié*",
    "project": "activerecord",
    "date_merged": 1664306114000,
    "author": "John Hawthorn",
    "sha": "91cf62e7b43c33ae6263adf3d7563da9b68ff21d",
    "pr": "46136",
    "merge_sha": "332b69f3b8287987dd46ba8e31471311cadc79ec",
    "html": "<p>Symbol is allowed by default for YAML columns</p>\n\n<p><em>Étienne Barrié</em></p>\n"
  },
  {
    "message": "*   Change ActiveRecord::Coders::YAMLColumn default to safe_load\n\n    This adds two new configuration options The configuration options are as\n    follows:\n    \n    * `config.active_record.use_yaml_unsafe_load`\n    \n    When set to true, this configuration option tells Rails to use the old\n    \"unsafe\" YAML loading strategy, maintaining the existing behavior but leaving\n    the possible escalation vulnerability in place.  Setting this option to true\n    is *not* recommended, but can aid in upgrading.\n    \n    * `config.active_record.yaml_column_permitted_classes`\n    \n    The \"safe YAML\" loading method does not allow all classes to be deserialized\n    by default.  This option allows you to specify classes deemed \"safe\" in your\n    application.  For example, if your application uses Symbol and Time in\n    serialized data, you can add Symbol and Time to the allowed list as follows:\n    \n    ```\n    config.active_record.yaml_column_permitted_classes = [Symbol, Date, Time]\n    ```\n\n    [CVE-2022-32224]",
    "project": "activerecord",
    "date_merged": 1664306114000,
    "author": "Aaron Patterson",
    "sha": "c177e45858ebecbdb0782b6f25e538054794277b",
    "pr": "46136",
    "merge_sha": "332b69f3b8287987dd46ba8e31471311cadc79ec",
    "html": "<p>Change ActiveRecord::Coders::YAMLColumn default to safe_load</p>\n\n<p>This adds two new configuration options The configuration options are as<br />\nfollows:</p>\n\n<ul>\n  <li><code>config.active_record.use_yaml_unsafe_load</code></li>\n</ul>\n\n<p>When set to true, this configuration option tells Rails to use the old<br />\n“unsafe” YAML loading strategy, maintaining the existing behavior but leaving<br />\nthe possible escalation vulnerability in place.  Setting this option to true<br />\nis <em>not</em> recommended, but can aid in upgrading.</p>\n\n<ul>\n  <li><code>config.active_record.yaml_column_permitted_classes</code></li>\n</ul>\n\n<p>The “safe YAML” loading method does not allow all classes to be deserialized<br />\nby default.  This option allows you to specify classes deemed “safe” in your<br />\napplication.  For example, if your application uses Symbol and Time in<br />\nserialized data, you can add Symbol and Time to the allowed list as follows:</p>\n\n<pre><code>config.active_record.yaml_column_permitted_classes = [Symbol, Date, Time]\n</code></pre>\n\n<p>[CVE-2022-32224]</p>\n"
  },
  {
    "message": "*   Only warn about negative enums if a positive form that would cause conflicts exists.\n\n    Fixes #39065.\n\n    *Alex Ghiculescu*",
    "project": "activerecord",
    "date_merged": 1610519060000,
    "author": "Rafael França",
    "sha": "539dc16221cbabdd46dbe762a458e046c6e827b0",
    "pr": "41102",
    "merge_sha": "876534d408cd47a5e9a5fba132742ee77a582af9",
    "html": "<p>Only warn about negative enums if a positive form that would cause conflicts exists.</p>\n\n<p>Fixes #39065.</p>\n\n<p><em>Alex Ghiculescu</em></p>\n"
  },
  {
    "message": "*   Allow the inverse of a `has_one` association that was previously autosaved to be loaded.\n\n    Fixes #34255.\n\n    *Steven Weber*",
    "project": "activerecord",
    "date_merged": 1610519060000,
    "author": "Eugene Kenny",
    "sha": "88c7ee7f3e094bc4d57049bbc89f6e3d73976348",
    "pr": "41102",
    "merge_sha": "876534d408cd47a5e9a5fba132742ee77a582af9",
    "html": "<p>Allow the inverse of a <code>has_one</code> association that was previously autosaved to be loaded.</p>\n\n<p>Fixes #34255.</p>\n\n<p><em>Steven Weber</em></p>\n"
  },
  {
    "message": "*   Reset statement cache for association if `table_name` is changed.\n\n    Fixes #36453.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1598111083000,
    "author": "Ryuta Kamizono",
    "sha": "45081c989b3108a629a26d0dde5d21eb06dbd8fb",
    "pr": "40085",
    "merge_sha": "6dd78c595ebb70342e7d0ec472d5cd03208230cb",
    "html": "<p>Reset statement cache for association if <code>table_name</code> is changed.</p>\n\n<p>Fixes #36453.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Type cast extra select for eager loading.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1624866496000,
    "author": "Rafael Mendonça França",
    "sha": "11a35e396faa640d8cbc9f75feb297794b91c1e5",
    "pr": "42620",
    "merge_sha": "295af64596f5cf2e2a0c66149cba6052172777bd",
    "html": "<p>Type cast extra select for eager loading.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Prevent collection associations from being autosaved multiple times.\n\n    Fixes #39173.\n\n    *Eugene Kenny*",
    "project": "activerecord",
    "date_merged": 1598111083000,
    "author": "Eugene Kenny",
    "sha": "2d6a726dcb3320ff021c05f3d908adbb2b2e335f",
    "pr": "40085",
    "merge_sha": "6dd78c595ebb70342e7d0ec472d5cd03208230cb",
    "html": "<p>Prevent collection associations from being autosaved multiple times.</p>\n\n<p>Fixes #39173.</p>\n\n<p><em>Eugene Kenny</em></p>\n"
  },
  {
    "message": "*   Resolve issue with insert_all unique_by option when used with expression index.\n\n    When the `:unique_by` option of `ActiveRecord::Persistence.insert_all` and\n    `ActiveRecord::Persistence.upsert_all` was used with the name of an expression index, an error\n    was raised. Adding a guard around the formatting behavior for the `:unique_by` corrects this.\n\n    Usage:\n\n    ```ruby\n    create_table :books, id: :integer, force: true do |t|\n      t.column :name, :string\n      t.index \"lower(name)\", unique: true\n    end\n\n    Book.insert_all [{ name: \"MyTest\" }], unique_by: :index_books_on_lower_name\n    ```\n\n    Fixes #39516.\n\n    *Austen Madden*",
    "project": "activerecord",
    "date_merged": 1592405960000,
    "author": "Eugene Kenny",
    "sha": "f7c618e7b897a5fc6a22b5bc368079db5615f9a9",
    "pr": null,
    "merge_sha": "5438067c81e983c134c6b948a5d4702f95936db4",
    "html": "<p>Resolve issue with insert_all unique_by option when used with expression index.</p>\n\n<p>When the <code>:unique_by</code> option of <code>ActiveRecord::Persistence.insert_all</code> and<br />\n<code>ActiveRecord::Persistence.upsert_all</code> was used with the name of an expression index, an error<br />\nwas raised. Adding a guard around the formatting behavior for the <code>:unique_by</code> corrects this.</p>\n\n<p>Usage:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"n\">create_table</span> <span class=\"ss\">:books</span><span class=\"p\">,</span> <span class=\"ss\">id: :integer</span><span class=\"p\">,</span> <span class=\"ss\">force: </span><span class=\"kp\">true</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">t</span><span class=\"o\">|</span>\n  <span class=\"n\">t</span><span class=\"p\">.</span><span class=\"nf\">column</span> <span class=\"ss\">:name</span><span class=\"p\">,</span> <span class=\"ss\">:string</span>\n  <span class=\"n\">t</span><span class=\"p\">.</span><span class=\"nf\">index</span> <span class=\"s2\">\"lower(name)\"</span><span class=\"p\">,</span> <span class=\"ss\">unique: </span><span class=\"kp\">true</span>\n<span class=\"k\">end</span>\n\n<span class=\"no\">Book</span><span class=\"p\">.</span><span class=\"nf\">insert_all</span> <span class=\"p\">[{</span> <span class=\"ss\">name: </span><span class=\"s2\">\"MyTest\"</span> <span class=\"p\">}],</span> <span class=\"ss\">unique_by: :index_books_on_lower_name</span>\n</code></pre></div></div>\n\n<p>Fixes #39516.</p>\n\n<p><em>Austen Madden</em></p>\n"
  },
  {
    "message": "*   Fix preloading for polymorphic association with custom scope.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1624866496000,
    "author": "Rafael Mendonça França",
    "sha": "11a35e396faa640d8cbc9f75feb297794b91c1e5",
    "pr": "42620",
    "merge_sha": "295af64596f5cf2e2a0c66149cba6052172777bd",
    "html": "<p>Fix preloading for polymorphic association with custom scope.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Allow relations with different SQL comments in the `or` method.\n\n    *Takumi Shotoku*",
    "project": "activerecord",
    "date_merged": 1624866496000,
    "author": "Rafael Mendonça França",
    "sha": "11a35e396faa640d8cbc9f75feb297794b91c1e5",
    "pr": "42620",
    "merge_sha": "295af64596f5cf2e2a0c66149cba6052172777bd",
    "html": "<p>Allow relations with different SQL comments in the <code>or</code> method.</p>\n\n<p><em>Takumi Shotoku</em></p>\n"
  },
  {
    "message": "*   Resolve conflict between counter cache and optimistic locking.\n\n    Bump an Active Record instance's lock version after updating its counter\n    cache. This avoids raising an unnecessary `ActiveRecord::StaleObjectError`\n    upon subsequent transactions by maintaining parity with the corresponding\n    database record's `lock_version` column.\n\n    Fixes #16449.\n\n    *Aaron Lipman*",
    "project": "activerecord",
    "date_merged": 1590475612000,
    "author": "Eugene Kenny",
    "sha": "9366f528b2d7fc18e4836b670fddcc75ea450333",
    "pr": "39434",
    "merge_sha": "0900923b2403581c1b265ff9dd5fc87fa27ffcce",
    "html": "<p>Resolve conflict between counter cache and optimistic locking.</p>\n\n<p>Bump an Active Record instance’s lock version after updating its counter<br />\ncache. This avoids raising an unnecessary <code>ActiveRecord::StaleObjectError</code><br />\nupon subsequent transactions by maintaining parity with the corresponding<br />\ndatabase record’s <code>lock_version</code> column.</p>\n\n<p>Fixes #16449.</p>\n\n<p><em>Aaron Lipman</em></p>\n"
  },
  {
    "message": "*   Fix through association with source/through scope which has joins.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1624866496000,
    "author": "Rafael Mendonça França",
    "sha": "11a35e396faa640d8cbc9f75feb297794b91c1e5",
    "pr": "42620",
    "merge_sha": "295af64596f5cf2e2a0c66149cba6052172777bd",
    "html": "<p>Fix through association with source/through scope which has joins.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Fix through association to respect source scope for includes/preload.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1624866496000,
    "author": "Rafael Mendonça França",
    "sha": "11a35e396faa640d8cbc9f75feb297794b91c1e5",
    "pr": "42620",
    "merge_sha": "295af64596f5cf2e2a0c66149cba6052172777bd",
    "html": "<p>Fix through association to respect source scope for includes/preload.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Fix eager load with Arel joins to maintain the original joins order.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1624866496000,
    "author": "Rafael Mendonça França",
    "sha": "11a35e396faa640d8cbc9f75feb297794b91c1e5",
    "pr": "42620",
    "merge_sha": "295af64596f5cf2e2a0c66149cba6052172777bd",
    "html": "<p>Fix eager load with Arel joins to maintain the original joins order.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Fix group by count with eager loading + order + limit/offset.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1624866496000,
    "author": "Rafael Mendonça França",
    "sha": "11a35e396faa640d8cbc9f75feb297794b91c1e5",
    "pr": "42620",
    "merge_sha": "295af64596f5cf2e2a0c66149cba6052172777bd",
    "html": "<p>Fix group by count with eager loading + order + limit/offset.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Fix left joins order when merging multiple left joins from different associations.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1624866496000,
    "author": "Rafael Mendonça França",
    "sha": "11a35e396faa640d8cbc9f75feb297794b91c1e5",
    "pr": "42620",
    "merge_sha": "295af64596f5cf2e2a0c66149cba6052172777bd",
    "html": "<p>Fix left joins order when merging multiple left joins from different associations.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Fix index creation to preserve index comment in bulk change table on MySQL.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1589816988000,
    "author": "Ryuta Kamizono",
    "sha": "cb683cb18daa69f74bbedf677cd66a05a9349454",
    "pr": null,
    "merge_sha": "9d997e1d1fcb8148fef87687325fc80373d69eb7",
    "html": "<p>Fix index creation to preserve index comment in bulk change table on MySQL.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Change `remove_foreign_key` to not check `:validate` option if database\n    doesn't support the feature.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1624866496000,
    "author": "Rafael Mendonça França",
    "sha": "11a35e396faa640d8cbc9f75feb297794b91c1e5",
    "pr": "42620",
    "merge_sha": "295af64596f5cf2e2a0c66149cba6052172777bd",
    "html": "<p>Change <code>remove_foreign_key</code> to not check <code>:validate</code> option if database<br />\ndoesn’t support the feature.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Fix the result of aggregations to maintain duplicated \"group by\" fields.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1624866496000,
    "author": "Rafael Mendonça França",
    "sha": "11a35e396faa640d8cbc9f75feb297794b91c1e5",
    "pr": "42620",
    "merge_sha": "295af64596f5cf2e2a0c66149cba6052172777bd",
    "html": "<p>Fix the result of aggregations to maintain duplicated “group by” fields.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Do not return duplicated records when using preload.\n\n    *Bogdan Gusiev*",
    "project": "activerecord",
    "date_merged": 1624866496000,
    "author": "Rafael Mendonça França",
    "sha": "11a35e396faa640d8cbc9f75feb297794b91c1e5",
    "pr": "42620",
    "merge_sha": "295af64596f5cf2e2a0c66149cba6052172777bd",
    "html": "<p>Do not return duplicated records when using preload.</p>\n\n<p><em>Bogdan Gusiev</em></p>\n"
  },
  {
    "message": "*   Fix possible DoS vector in PostgreSQL money type\n\n    Carefully crafted input can cause a DoS via the regular expressions used\n    for validating the money format in the PostgreSQL adapter.  This patch\n    fixes the regexp.\n\n    Thanks to @dee-see from Hackerone for this patch!\n\n    [CVE-2021-22880]\n\n    *Aaron Patterson*",
    "project": "activerecord",
    "date_merged": 1612989812000,
    "author": "Rafael Mendonça França",
    "sha": "c5929d5eb55b749bc124b3ccc2d79323d015701f",
    "pr": null,
    "merge_sha": "55281b5088091fe826952f523987f3f40595f641",
    "html": "<p>Fix possible DoS vector in PostgreSQL money type</p>\n\n<p>Carefully crafted input can cause a DoS via the regular expressions used<br />\nfor validating the money format in the PostgreSQL adapter.  This patch<br />\nfixes the regexp.</p>\n\n<p>Thanks to @dee-see from Hackerone for this patch!</p>\n\n<p>[CVE-2021-22880]</p>\n\n<p><em>Aaron Patterson</em></p>\n"
  },
  {
    "message": "*   Recommend applications don't use the `database` kwarg in `connected_to`\n\n    The database kwarg in `connected_to` was meant to be used for one-off scripts but is often used in requests. This is really dangerous because it re-establishes a connection every time. It's deprecated in 6.1 and will be removed in 6.2 without replacement. This change soft deprecates it in 6.0 by removing documentation.\n\n    *Eileen M. Uchitelle*",
    "project": "activerecord",
    "date_merged": 1588788418000,
    "author": "eileencodes",
    "sha": "83eb3599e9a88ae43f5ea10ba11bebcc87cb2f11",
    "pr": null,
    "merge_sha": "72d86169c740cbf4128246e55bc4d0fff41e01c9",
    "html": "<p>Recommend applications don’t use the <code>database</code> kwarg in <code>connected_to</code></p>\n\n<p>The database kwarg in <code>connected_to</code> was meant to be used for one-off scripts but is often used in requests. This is really dangerous because it re-establishes a connection every time. It’s deprecated in 6.1 and will be removed in 6.2 without replacement. This change soft deprecates it in 6.0 by removing documentation.</p>\n\n<p><em>Eileen M. Uchitelle</em></p>\n"
  },
  {
    "message": "*   Fix support for PostgreSQL 11+ partitioned indexes.\n\n    *Sebastián Palma*",
    "project": "activerecord",
    "date_merged": 1588788418000,
    "author": "Ryuta Kamizono",
    "sha": "1db2ae1f5f7cf9615abc83620d282d535e4bc6aa",
    "pr": null,
    "merge_sha": "72d86169c740cbf4128246e55bc4d0fff41e01c9",
    "html": "<p>Fix support for PostgreSQL 11+ partitioned indexes.</p>\n\n<p><em>Sebastián Palma</em></p>\n"
  },
  {
    "message": "*   Add support for beginless ranges, introduced in Ruby 2.7.\n\n    *Josh Goodall*",
    "project": "activerecord",
    "date_merged": 1588788418000,
    "author": "Ryuta Kamizono",
    "sha": "1c3a6e8f539adfab45d40b53a6aa0bfeaa2f497f",
    "pr": null,
    "merge_sha": "72d86169c740cbf4128246e55bc4d0fff41e01c9",
    "html": "<p>Add support for beginless ranges, introduced in Ruby 2.7.</p>\n\n<p><em>Josh Goodall</em></p>\n"
  },
  {
    "message": "*   Fix insert_all with enum values\n\n    Fixes #38716.\n\n    *Joel Blum*",
    "project": "activerecord",
    "date_merged": 1588788418000,
    "author": "Ryuta Kamizono",
    "sha": "14b567244e244b73a511a5569baec732fce2add0",
    "pr": null,
    "merge_sha": "72d86169c740cbf4128246e55bc4d0fff41e01c9",
    "html": "<p>Fix insert_all with enum values</p>\n\n<p>Fixes #38716.</p>\n\n<p><em>Joel Blum</em></p>\n"
  },
  {
    "message": "*   Regexp-escape table name for MS SQL\n\n    Add `Regexp.escape` to one method in ActiveRecord, so that table names with regular expression characters in them work as expected. Since MS SQL Server uses \"[\" and \"]\" to quote table and column names, and those characters are regular expression characters, methods like `pluck` and `select` fail in certain cases when used with the MS SQL Server adapter.\n\n    *Larry Reid*",
    "project": "activerecord",
    "date_merged": 1583634515000,
    "author": "Ryuta Kamizono",
    "sha": "92a185dd5bc331914aa914818d06db67cb92ad45",
    "pr": "38675",
    "merge_sha": "aea09df9e96f99fd97668ad1554b8eddc9949dda",
    "html": "<p>Regexp-escape table name for MS SQL</p>\n\n<p>Add <code>Regexp.escape</code> to one method in ActiveRecord, so that table names with regular expression characters in them work as expected. Since MS SQL Server uses “[” and “]” to quote table and column names, and those characters are regular expression characters, methods like <code>pluck</code> and <code>select</code> fail in certain cases when used with the MS SQL Server adapter.</p>\n\n<p><em>Larry Reid</em></p>\n"
  },
  {
    "message": "*   Store advisory locks on their own named connection.\n\n    Previously advisory locks were taken out against a connection when a migration started. This works fine in single database applications but doesn't work well when migrations need to open new connections which results in the lock getting dropped.\n\n    In order to fix this we are storing the advisory lock on a new connection with the connection specification name `AdisoryLockBase`. The caveat is that we need to maintain at least 2 connections to a database while migrations are running in order to do this.\n\n    *Eileen M. Uchitelle*, *John Crepezzi*",
    "project": "activerecord",
    "date_merged": 1580131150000,
    "author": "Eileen M. Uchitelle",
    "sha": "1ff3ecd5ebea63ad8c6d8e21ecc2091c290a434b",
    "pr": "38316",
    "merge_sha": "bde60239059e50b2201f5082603207035bf7f153",
    "html": "<p>Store advisory locks on their own named connection.</p>\n\n<p>Previously advisory locks were taken out against a connection when a migration started. This works fine in single database applications but doesn’t work well when migrations need to open new connections which results in the lock getting dropped.</p>\n\n<p>In order to fix this we are storing the advisory lock on a new connection with the connection specification name <code>AdisoryLockBase</code>. The caveat is that we need to maintain at least 2 connections to a database while migrations are running in order to do this.</p>\n\n<p><em>Eileen M. Uchitelle</em>, <em>John Crepezzi</em></p>\n"
  },
  {
    "message": "*   Ensure `:reading` connections always raise if a write is attempted.\n\n    Now Rails will raise an `ActiveRecord::ReadOnlyError` if any connection on the reading handler attempts to make a write. If your reading role needs to write you should name the role something other than `:reading`.\n\n    *Eileen M. Uchitelle*",
    "project": "activerecord",
    "date_merged": 1580131150000,
    "author": "eileencodes",
    "sha": "2aa33bbd53af0c10e1d85d73b5f4f5bdaf88ff74",
    "pr": "38316",
    "merge_sha": "bde60239059e50b2201f5082603207035bf7f153",
    "html": "<p>Ensure <code>:reading</code> connections always raise if a write is attempted.</p>\n\n<p>Now Rails will raise an <code>ActiveRecord::ReadOnlyError</code> if any connection on the reading handler attempts to make a write. If your reading role needs to write you should name the role something other than <code>:reading</code>.</p>\n\n<p><em>Eileen M. Uchitelle</em></p>\n"
  },
  {
    "message": "*   Enforce fresh ETag header after a collection's contents change by adding\n    ActiveRecord::Relation#cache_key_with_version. This method will be used by\n    ActionController::ConditionalGet to ensure that when collection cache versioning\n    is enabled, requests using ConditionalGet don't return the same ETag header\n    after a collection is modified. Fixes #38078.\n\n    *Aaron Lipman*",
    "project": "activerecord",
    "date_merged": 1580131150000,
    "author": "Rafael França",
    "sha": "d585d529bae05710476d0c49a9e6e9d6f94b59bb",
    "pr": "38316",
    "merge_sha": "bde60239059e50b2201f5082603207035bf7f153",
    "html": "<p>Enforce fresh ETag header after a collection’s contents change by adding<br />\nActiveRecord::Relation#cache_key_with_version. This method will be used by<br />\nActionController::ConditionalGet to ensure that when collection cache versioning<br />\nis enabled, requests using ConditionalGet don’t return the same ETag header<br />\nafter a collection is modified. Fixes #38078.</p>\n\n<p><em>Aaron Lipman</em></p>\n"
  },
  {
    "message": "*   A database URL can now contain a querystring value that contains an equal sign. This is needed to support passing PostgresSQL `options`.\n\n     *Joshua Flanagan*",
    "project": "activerecord",
    "date_merged": 1575985821000,
    "author": "Joshua Flanagan",
    "sha": "72ae336322566fd1ed44c44907cdab8448bf1de4",
    "pr": "37920",
    "merge_sha": "31ce3792ea27adfefd26c5813f12daa6475571ad",
    "html": "<p>A database URL can now contain a querystring value that contains an equal sign. This is needed to support passing PostgresSQL <code>options</code>.</p>\n\n<p><em>Joshua Flanagan</em></p>\n"
  },
  {
    "message": "*   Retain explicit selections on the base model after applying `includes` and `joins`.\n\n    Resolves #34889.\n\n    *Patrick Rebsch*",
    "project": "activerecord",
    "date_merged": 1575985821000,
    "author": "Rafael Mendonça França",
    "sha": "b6a48421a24f7e9b3d1ca07a97af3f29c18708d0",
    "pr": "37920",
    "merge_sha": "31ce3792ea27adfefd26c5813f12daa6475571ad",
    "html": "<p>Retain explicit selections on the base model after applying <code>includes</code> and <code>joins</code>.</p>\n\n<p>Resolves #34889.</p>\n\n<p><em>Patrick Rebsch</em></p>\n"
  },
  {
    "message": "*   Share the same connection pool for primary and replica databases in the\n    transactional tests for the same database.\n\n    *Edouard Chin*",
    "project": "activerecord",
    "date_merged": 1574896442000,
    "author": "Rafael Mendonça França",
    "sha": "c4175eb2cedc3a7ac89b39da408165ca32aec76f",
    "pr": "37806",
    "merge_sha": "a7eff88a51f11ae4c1500f052ffafa1b496adcc4",
    "html": "<p>Share the same connection pool for primary and replica databases in the<br />\ntransactional tests for the same database.</p>\n\n<p><em>Edouard Chin</em></p>\n"
  },
  {
    "message": "*   Fix the preloader when one record is fetched using `after_initialize`\n    but not the entire collection.\n\n    *Bradley Price*",
    "project": "activerecord",
    "date_merged": 1574896442000,
    "author": "Rafael Mendonça França",
    "sha": "c4175eb2cedc3a7ac89b39da408165ca32aec76f",
    "pr": "37806",
    "merge_sha": "a7eff88a51f11ae4c1500f052ffafa1b496adcc4",
    "html": "<p>Fix the preloader when one record is fetched using <code>after_initialize</code><br />\nbut not the entire collection.</p>\n\n<p><em>Bradley Price</em></p>\n"
  },
  {
    "message": "*   Fix collection callbacks not terminating when `:abort` is thrown.\n\n    *Edouard Chin*, *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1574896442000,
    "author": "Rafael Mendonça França",
    "sha": "c4175eb2cedc3a7ac89b39da408165ca32aec76f",
    "pr": "37806",
    "merge_sha": "a7eff88a51f11ae4c1500f052ffafa1b496adcc4",
    "html": "<p>Fix collection callbacks not terminating when <code>:abort</code> is thrown.</p>\n\n<p><em>Edouard Chin</em>, <em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Correctly deprecate `where.not` working as NOR for relations.\n\n    12a9664 deprecated where.not working as NOR, however\n    doing a relation query like `where.not(relation: { ... })`\n    wouldn't be properly deprecated and `where.not` would work as\n    NAND instead.\n\n    *Edouard Chin*",
    "project": "activerecord",
    "date_merged": 1574896442000,
    "author": "Rafael Mendonça França",
    "sha": "c4175eb2cedc3a7ac89b39da408165ca32aec76f",
    "pr": "37806",
    "merge_sha": "a7eff88a51f11ae4c1500f052ffafa1b496adcc4",
    "html": "<p>Correctly deprecate <code>where.not</code> working as NOR for relations.</p>\n\n<p>12a9664 deprecated where.not working as NOR, however<br />\ndoing a relation query like <code>where.not(relation: { ... })</code><br />\nwouldn’t be properly deprecated and <code>where.not</code> would work as<br />\nNAND instead.</p>\n\n<p><em>Edouard Chin</em></p>\n"
  },
  {
    "message": "*   Fix `db:migrate` task with multiple databases to restore the connection\n    to the previous database.\n\n    The migrate task iterates and establish a connection over each db\n    resulting in the last one to be used by subsequent rake tasks.\n    We should reestablish a connection to the connection that was\n    established before the migrate tasks was run\n\n    *Edouard Chin*",
    "project": "activerecord",
    "date_merged": 1574896442000,
    "author": "Rafael Mendonça França",
    "sha": "c4175eb2cedc3a7ac89b39da408165ca32aec76f",
    "pr": "37806",
    "merge_sha": "a7eff88a51f11ae4c1500f052ffafa1b496adcc4",
    "html": "<p>Fix <code>db:migrate</code> task with multiple databases to restore the connection<br />\nto the previous database.</p>\n\n<p>The migrate task iterates and establish a connection over each db<br />\nresulting in the last one to be used by subsequent rake tasks.<br />\nWe should reestablish a connection to the connection that was<br />\nestablished before the migrate tasks was run</p>\n\n<p><em>Edouard Chin</em></p>\n"
  },
  {
    "message": "*   Fix multi-threaded issue for `AcceptanceValidator`.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1574896442000,
    "author": "Rafael Mendonça França",
    "sha": "c4175eb2cedc3a7ac89b39da408165ca32aec76f",
    "pr": "37806",
    "merge_sha": "a7eff88a51f11ae4c1500f052ffafa1b496adcc4",
    "html": "<p>Fix multi-threaded issue for <code>AcceptanceValidator</code>.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*    Common Table Expressions are allowed on read-only connections.\n\n     *Chris Morris*",
    "project": "activerecord",
    "date_merged": 1572966447000,
    "author": "George Claghorn",
    "sha": "a943f67989a857e931a6d69f359c207ae3fed4e1",
    "pr": null,
    "merge_sha": "f2dfc5a496f57f1f8d9f05daf7f7b18c057548f3",
    "html": "<p>Common Table Expressions are allowed on read-only connections.</p>\n\n<p><em>Chris Morris</em></p>\n"
  },
  {
    "message": "*    New record instantiation respects `unscope`.\n\n     *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1572966447000,
    "author": "George Claghorn",
    "sha": "7982363efabc03e4624cd35aa86e2d284dcd35f7",
    "pr": null,
    "merge_sha": "f2dfc5a496f57f1f8d9f05daf7f7b18c057548f3",
    "html": "<p>New record instantiation respects <code>unscope</code>.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*    Fixed a case where `find_in_batches` could halt too early.\n\n     *Takayuki Nakata*",
    "project": "activerecord",
    "date_merged": 1572966447000,
    "author": "George Claghorn",
    "sha": "7982363efabc03e4624cd35aa86e2d284dcd35f7",
    "pr": null,
    "merge_sha": "f2dfc5a496f57f1f8d9f05daf7f7b18c057548f3",
    "html": "<p>Fixed a case where <code>find_in_batches</code> could halt too early.</p>\n\n<p><em>Takayuki Nakata</em></p>\n"
  },
  {
    "message": "*    Autosaved associations always perform validations when a custom validation\n     context is used.\n\n     *Tekin Suleyman*",
    "project": "activerecord",
    "date_merged": 1572966447000,
    "author": "George Claghorn",
    "sha": "7982363efabc03e4624cd35aa86e2d284dcd35f7",
    "pr": null,
    "merge_sha": "f2dfc5a496f57f1f8d9f05daf7f7b18c057548f3",
    "html": "<p>Autosaved associations always perform validations when a custom validation<br />\n context is used.</p>\n\n<p><em>Tekin Suleyman</em></p>\n"
  },
  {
    "message": "*    `sql.active_record` notifications now include the `:connection` in\n     their payloads.\n\n     *Eugene Kenny*",
    "project": "activerecord",
    "date_merged": 1572966447000,
    "author": "George Claghorn",
    "sha": "7982363efabc03e4624cd35aa86e2d284dcd35f7",
    "pr": null,
    "merge_sha": "f2dfc5a496f57f1f8d9f05daf7f7b18c057548f3",
    "html": "<p><code>sql.active_record</code> notifications now include the <code>:connection</code> in<br />\n their payloads.</p>\n\n<p><em>Eugene Kenny</em></p>\n"
  },
  {
    "message": "*    A rollback encountered in an `after_commit` callback does not reset\n     previously-committed record state.\n\n     *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1572966447000,
    "author": "George Claghorn",
    "sha": "7982363efabc03e4624cd35aa86e2d284dcd35f7",
    "pr": null,
    "merge_sha": "f2dfc5a496f57f1f8d9f05daf7f7b18c057548f3",
    "html": "<p>A rollback encountered in an <code>after_commit</code> callback does not reset<br />\n previously-committed record state.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*    Fixed that join order was lost when eager-loading.\n\n     *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1572966447000,
    "author": "George Claghorn",
    "sha": "7982363efabc03e4624cd35aa86e2d284dcd35f7",
    "pr": null,
    "merge_sha": "f2dfc5a496f57f1f8d9f05daf7f7b18c057548f3",
    "html": "<p>Fixed that join order was lost when eager-loading.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   `DESCRIBE` queries are allowed on read-only connections.\n\n    *Dylan Thacker-Smith*",
    "project": "activerecord",
    "date_merged": 1572966447000,
    "author": "George Claghorn",
    "sha": "7982363efabc03e4624cd35aa86e2d284dcd35f7",
    "pr": null,
    "merge_sha": "f2dfc5a496f57f1f8d9f05daf7f7b18c057548f3",
    "html": "<p><code>DESCRIBE</code> queries are allowed on read-only connections.</p>\n\n<p><em>Dylan Thacker-Smith</em></p>\n"
  },
  {
    "message": "*   Fixed that records that had been `inspect`ed could not be marshaled.\n\n    *Eugene Kenny*",
    "project": "activerecord",
    "date_merged": 1572966447000,
    "author": "George Claghorn",
    "sha": "7982363efabc03e4624cd35aa86e2d284dcd35f7",
    "pr": null,
    "merge_sha": "f2dfc5a496f57f1f8d9f05daf7f7b18c057548f3",
    "html": "<p>Fixed that records that had been <code>inspect</code>ed could not be marshaled.</p>\n\n<p><em>Eugene Kenny</em></p>\n"
  },
  {
    "message": "*   The connection pool reaper thread is respawned in forked processes. This\n    fixes that idle connections in forked processes wouldn't be reaped.\n\n    *John Hawthorn*",
    "project": "activerecord",
    "date_merged": 1572966447000,
    "author": "George Claghorn",
    "sha": "7982363efabc03e4624cd35aa86e2d284dcd35f7",
    "pr": null,
    "merge_sha": "f2dfc5a496f57f1f8d9f05daf7f7b18c057548f3",
    "html": "<p>The connection pool reaper thread is respawned in forked processes. This<br />\nfixes that idle connections in forked processes wouldn’t be reaped.</p>\n\n<p><em>John Hawthorn</em></p>\n"
  },
  {
    "message": "*   The memoized result of `ActiveRecord::Relation#take` is properly cleared\n    when `ActiveRecord::Relation#reset` or `ActiveRecord::Relation#reload`\n    is called.\n\n    *Anmol Arora*",
    "project": "activerecord",
    "date_merged": 1572966447000,
    "author": "George Claghorn",
    "sha": "7982363efabc03e4624cd35aa86e2d284dcd35f7",
    "pr": null,
    "merge_sha": "f2dfc5a496f57f1f8d9f05daf7f7b18c057548f3",
    "html": "<p>The memoized result of <code>ActiveRecord::Relation#take</code> is properly cleared<br />\nwhen <code>ActiveRecord::Relation#reset</code> or <code>ActiveRecord::Relation#reload</code><br />\nis called.</p>\n\n<p><em>Anmol Arora</em></p>\n"
  },
  {
    "message": "*   Fixed the performance regression for `primary_keys` introduced MySQL 8.0.\n\n    *Hiroyuki Ishii*",
    "project": "activerecord",
    "date_merged": 1571427359000,
    "author": "Ryuta Kamizono",
    "sha": "8297f8a31e88468106b013219104df17659ab718",
    "pr": "37505",
    "merge_sha": "4b6fb17d0a1fa758aeb4c4977b9c27c45d8f4852",
    "html": "<p>Fixed the performance regression for <code>primary_keys</code> introduced MySQL 8.0.</p>\n\n<p><em>Hiroyuki Ishii</em></p>\n"
  },
  {
    "message": "*   `insert`, `insert_all`, `upsert`, and `upsert_all` now clear the query cache.\n\n    *Eugene Kenny*",
    "project": "activerecord",
    "date_merged": 1569987140000,
    "author": "Ryuta Kamizono",
    "sha": "d46534f46b197fe76f97a2613e68dae80ba298f8",
    "pr": "37334",
    "merge_sha": "dde8025eb6af382154a63e176852a062c5e3996e",
    "html": "<p><code>insert</code>, <code>insert_all</code>, <code>upsert</code>, and <code>upsert_all</code> now clear the query cache.</p>\n\n<p><em>Eugene Kenny</em></p>\n"
  },
  {
    "message": "*   Call `while_preventing_writes` directly from `connected_to`.\n\n    In some cases application authors want to use the database switching middleware and make explicit calls with `connected_to`. It's possible for an app to turn off writes and not turn them back on by the time we call `connected_to(role: :writing)`.\n\n    This change allows apps to fix this by assuming if a role is writing we want to allow writes, except in the case it's explicitly turned off.\n\n    *Eileen M. Uchitelle*",
    "project": "activerecord",
    "date_merged": 1569987140000,
    "author": "Carlos Antonio da Silva",
    "sha": "b556872cd9e4cf4dbebb3d998fd862fb507339d7",
    "pr": "37334",
    "merge_sha": "dde8025eb6af382154a63e176852a062c5e3996e",
    "html": "<p>Call <code>while_preventing_writes</code> directly from <code>connected_to</code>.</p>\n\n<p>In some cases application authors want to use the database switching middleware and make explicit calls with <code>connected_to</code>. It’s possible for an app to turn off writes and not turn them back on by the time we call <code>connected_to(role: :writing)</code>.</p>\n\n<p>This change allows apps to fix this by assuming if a role is writing we want to allow writes, except in the case it’s explicitly turned off.</p>\n\n<p><em>Eileen M. Uchitelle</em></p>\n"
  },
  {
    "message": "*   Improve detection of ActiveRecord::StatementTimeout with mysql2 adapter in the edge case when the query is terminated during filesort.\n\n    *Kir Shatrov*",
    "project": "activerecord",
    "date_merged": 1569987140000,
    "author": "Ryuta Kamizono",
    "sha": "82c28ec08b26e9fcabaf85505d76868c21e447ae",
    "pr": "37334",
    "merge_sha": "dde8025eb6af382154a63e176852a062c5e3996e",
    "html": "<p>Improve detection of ActiveRecord::StatementTimeout with mysql2 adapter in the edge case when the query is terminated during filesort.</p>\n\n<p><em>Kir Shatrov</em></p>\n"
  },
  {
    "message": "*   Preserve user supplied joins order as much as possible.\n\n    Fixes #36761, #34328, #24281, #12953.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1564563726000,
    "author": "Ryuta Kamizono",
    "sha": "23cdeceef6373614e1a1c6fa0c5d687d04bfab92",
    "pr": "36820",
    "merge_sha": "5a243f6ace8286102fddc3f6ddbd75be5ece078a",
    "html": "<p>Preserve user supplied joins order as much as possible.</p>\n\n<p>Fixes #36761, #34328, #24281, #12953.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Make the DATABASE_URL env variable only affect the primary connection. Add new env variables for multiple databases.\n\n    *John Crepezzi*, *Eileen Uchitelle*",
    "project": "activerecord",
    "date_merged": 1564296553000,
    "author": "Eileen M. Uchitelle",
    "sha": "d6eeab5265529746bb008150e08b50e4cc491591",
    "pr": "36786",
    "merge_sha": "7dae35934bf31d67880e99f82a25f16b85122f63",
    "html": "<p>Make the DATABASE_URL env variable only affect the primary connection. Add new env variables for multiple databases.</p>\n\n<p><em>John Crepezzi</em>, <em>Eileen Uchitelle</em></p>\n"
  },
  {
    "message": "*   Add a warning for enum elements with 'not_' prefix.\n\n        class Foo\n          enum status: [:sent, :not_sent]\n        end\n\n    *Edu Depetris*",
    "project": "activerecord",
    "date_merged": 1564160335000,
    "author": "Rafael Mendonça França",
    "sha": "dbbc0e5a1fccf315019637cf947aedfa1350fc85",
    "pr": "36372",
    "merge_sha": "b6f1d199a3693be8034640aa1c82d4906bc5a2fd",
    "html": "<p>Add a warning for enum elements with ‘not_’ prefix.</p>\n\n<pre><code>class Foo\n  enum status: [:sent, :not_sent]\nend\n</code></pre>\n\n<p><em>Edu Depetris</em></p>\n"
  },
  {
    "message": "*   Make currency symbols optional for money column type in PostgreSQL\n\n    *Joel Schneider*",
    "project": "activerecord",
    "date_merged": 1564563726000,
    "author": "Ryuta Kamizono",
    "sha": "6ebbe3fb8e1451e5f0aec0f848f07a665edd0a56",
    "pr": "36820",
    "merge_sha": "5a243f6ace8286102fddc3f6ddbd75be5ece078a",
    "html": "<p>Make currency symbols optional for money column type in PostgreSQL</p>\n\n<p><em>Joel Schneider</em></p>\n"
  },
  {
    "message": "*   Add database_exists? method to connection adapters to check if a database exists.\n\n    *Guilherme Mansur*",
    "project": "activerecord",
    "date_merged": 1562605952000,
    "author": "Guilherme Mansur",
    "sha": "ee9036ea11d3657e68d187379c92e35b23c6261b",
    "pr": "36621",
    "merge_sha": "eee9f070e6232eeb3b0e15b90e59ce228ca9f3c8",
    "html": "<p>Add database_exists? method to connection adapters to check if a database exists.</p>\n\n<p><em>Guilherme Mansur</em></p>\n"
  },
  {
    "message": "*   PostgreSQL: Fix GROUP BY with ORDER BY virtual count attribute.\n\n    Fixes #36022.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1562605952000,
    "author": "Ryuta Kamizono",
    "sha": "91607a257b76b8a6bc86ce0835b65d0dd5c9a834",
    "pr": "36621",
    "merge_sha": "eee9f070e6232eeb3b0e15b90e59ce228ca9f3c8",
    "html": "<p>PostgreSQL: Fix GROUP BY with ORDER BY virtual count attribute.</p>\n\n<p>Fixes #36022.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Make ActiveRecord `ConnectionPool.connections` method thread-safe.\n\n    Fixes #36465.\n\n    *Jeff Doering*",
    "project": "activerecord",
    "date_merged": 1562605952000,
    "author": "jeffdoering",
    "sha": "05ee662430bf362e25e60c1f7d6d54dafa7e3bba",
    "pr": "36621",
    "merge_sha": "eee9f070e6232eeb3b0e15b90e59ce228ca9f3c8",
    "html": "<p>Make ActiveRecord <code>ConnectionPool.connections</code> method thread-safe.</p>\n\n<p>Fixes #36465.</p>\n\n<p><em>Jeff Doering</em></p>\n"
  },
  {
    "message": "*   Fix sqlite3 collation parsing when using decimal columns.\n\n    *Martin R. Schuster*",
    "project": "activerecord",
    "date_merged": 1562605952000,
    "author": "Ryuta Kamizono",
    "sha": "a9b02600a3093c7439108f7105a98c1402e05e86",
    "pr": "36621",
    "merge_sha": "eee9f070e6232eeb3b0e15b90e59ce228ca9f3c8",
    "html": "<p>Fix sqlite3 collation parsing when using decimal columns.</p>\n\n<p><em>Martin R. Schuster</em></p>\n"
  },
  {
    "message": "*   Fix invalid schema when primary key column has a comment.\n\n    Fixes #29966.\n\n    *Guilherme Goettems Schneider*",
    "project": "activerecord",
    "date_merged": 1559656924000,
    "author": "Ryuta Kamizono",
    "sha": "c5f114383c07ec87f53cb670aa0fb8900ac2fa89",
    "pr": "36395",
    "merge_sha": "f9a0ae63013e5d67ed076df32881a5d78a5368e9",
    "html": "<p>Fix invalid schema when primary key column has a comment.</p>\n\n<p>Fixes #29966.</p>\n\n<p><em>Guilherme Goettems Schneider</em></p>\n"
  },
  {
    "message": "*   Fix table comment also being applied to the primary key column.\n\n    *Guilherme Goettems Schneider*",
    "project": "activerecord",
    "date_merged": 1559656924000,
    "author": "Ryuta Kamizono",
    "sha": "4361f09fbf6130dac25b6172011fb3219a4c8dd6",
    "pr": "36395",
    "merge_sha": "f9a0ae63013e5d67ed076df32881a5d78a5368e9",
    "html": "<p>Fix table comment also being applied to the primary key column.</p>\n\n<p><em>Guilherme Goettems Schneider</em></p>\n"
  },
  {
    "message": "*   Fix merging left_joins to maintain its own `join_type` context.\n\n    Fixes #36103.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1556939360000,
    "author": "Ryuta Kamizono",
    "sha": "f8c4e29026ee15c48df8f0cdb62721f0db678389",
    "pr": "36169",
    "merge_sha": "485de3d9f2d7164ece1b0cc283bb406af670ff10",
    "html": "<p>Fix merging left_joins to maintain its own <code>join_type</code> context.</p>\n\n<p>Fixes #36103.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Add `touch` option to `has_one` association.\n\n    *Abhay Nikam*",
    "project": "activerecord",
    "date_merged": 1556130756000,
    "author": "Abhay Nikam",
    "sha": "3fe83d1dd99ac2662852da0dcfe7e91dc08ae160",
    "pr": "35869",
    "merge_sha": "186458753f3614623523ad079d92c537cf03cb4a",
    "html": "<p>Add <code>touch</code> option to <code>has_one</code> association.</p>\n\n<p><em>Abhay Nikam</em></p>\n"
  },
  {
    "message": "*   Deprecate `where.not` working as NOR and will be changed to NAND in Rails 6.1.\n\n    ```ruby\n    all = [treasures(:diamond), treasures(:sapphire), cars(:honda), treasures(:sapphire)]\n    assert_equal all, PriceEstimate.all.map(&:estimate_of)\n    ```\n\n    In Rails 6.0:\n\n    ```ruby\n    sapphire = treasures(:sapphire)\n\n    nor = all.reject { |e|\n      e.estimate_of_type == sapphire.class.polymorphic_name\n    }.reject { |e|\n      e.estimate_of_id == sapphire.id\n    }\n    assert_equal [cars(:honda)], nor\n\n    without_sapphire = PriceEstimate.where.not(\n      estimate_of_type: sapphire.class.polymorphic_name, estimate_of_id: sapphire.id\n    )\n    assert_equal nor, without_sapphire.map(&:estimate_of)\n    ```\n\n    In Rails 6.1:\n\n    ```ruby\n    sapphire = treasures(:sapphire)\n\n    nand = all - [sapphire]\n    assert_equal [treasures(:diamond), cars(:honda)], nand\n\n    without_sapphire = PriceEstimate.where.not(\n      estimate_of_type: sapphire.class.polymorphic_name, estimate_of_id: sapphire.id\n    )\n    assert_equal nand, without_sapphire.map(&:estimate_of)\n    ```\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1556003730000,
    "author": "Ryuta Kamizono",
    "sha": "12a9664ff60f0e2712fd1f79f8dbec06e2f004a2",
    "pr": "36029",
    "merge_sha": "9d1f9b9a0c344dd8f4b6b321a3fe8e9f500f841c",
    "html": "<p>Deprecate <code>where.not</code> working as NOR and will be changed to NAND in Rails 6.1.</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"n\">all</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">treasures</span><span class=\"p\">(</span><span class=\"ss\">:diamond</span><span class=\"p\">),</span> <span class=\"n\">treasures</span><span class=\"p\">(</span><span class=\"ss\">:sapphire</span><span class=\"p\">),</span> <span class=\"n\">cars</span><span class=\"p\">(</span><span class=\"ss\">:honda</span><span class=\"p\">),</span> <span class=\"n\">treasures</span><span class=\"p\">(</span><span class=\"ss\">:sapphire</span><span class=\"p\">)]</span>\n<span class=\"n\">assert_equal</span> <span class=\"n\">all</span><span class=\"p\">,</span> <span class=\"no\">PriceEstimate</span><span class=\"p\">.</span><span class=\"nf\">all</span><span class=\"p\">.</span><span class=\"nf\">map</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"ss\">:estimate_of</span><span class=\"p\">)</span>\n</code></pre></div></div>\n\n<p>In Rails 6.0:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"n\">sapphire</span> <span class=\"o\">=</span> <span class=\"n\">treasures</span><span class=\"p\">(</span><span class=\"ss\">:sapphire</span><span class=\"p\">)</span>\n\n<span class=\"n\">nor</span> <span class=\"o\">=</span> <span class=\"n\">all</span><span class=\"p\">.</span><span class=\"nf\">reject</span> <span class=\"p\">{</span> <span class=\"o\">|</span><span class=\"n\">e</span><span class=\"o\">|</span>\n  <span class=\"n\">e</span><span class=\"p\">.</span><span class=\"nf\">estimate_of_type</span> <span class=\"o\">==</span> <span class=\"n\">sapphire</span><span class=\"p\">.</span><span class=\"nf\">class</span><span class=\"p\">.</span><span class=\"nf\">polymorphic_name</span>\n<span class=\"p\">}.</span><span class=\"nf\">reject</span> <span class=\"p\">{</span> <span class=\"o\">|</span><span class=\"n\">e</span><span class=\"o\">|</span>\n  <span class=\"n\">e</span><span class=\"p\">.</span><span class=\"nf\">estimate_of_id</span> <span class=\"o\">==</span> <span class=\"n\">sapphire</span><span class=\"p\">.</span><span class=\"nf\">id</span>\n<span class=\"p\">}</span>\n<span class=\"n\">assert_equal</span> <span class=\"p\">[</span><span class=\"n\">cars</span><span class=\"p\">(</span><span class=\"ss\">:honda</span><span class=\"p\">)],</span> <span class=\"n\">nor</span>\n\n<span class=\"n\">without_sapphire</span> <span class=\"o\">=</span> <span class=\"no\">PriceEstimate</span><span class=\"p\">.</span><span class=\"nf\">where</span><span class=\"p\">.</span><span class=\"nf\">not</span><span class=\"p\">(</span>\n  <span class=\"ss\">estimate_of_type: </span><span class=\"n\">sapphire</span><span class=\"p\">.</span><span class=\"nf\">class</span><span class=\"p\">.</span><span class=\"nf\">polymorphic_name</span><span class=\"p\">,</span> <span class=\"ss\">estimate_of_id: </span><span class=\"n\">sapphire</span><span class=\"p\">.</span><span class=\"nf\">id</span>\n<span class=\"p\">)</span>\n<span class=\"n\">assert_equal</span> <span class=\"n\">nor</span><span class=\"p\">,</span> <span class=\"n\">without_sapphire</span><span class=\"p\">.</span><span class=\"nf\">map</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"ss\">:estimate_of</span><span class=\"p\">)</span>\n</code></pre></div></div>\n\n<p>In Rails 6.1:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"n\">sapphire</span> <span class=\"o\">=</span> <span class=\"n\">treasures</span><span class=\"p\">(</span><span class=\"ss\">:sapphire</span><span class=\"p\">)</span>\n\n<span class=\"n\">nand</span> <span class=\"o\">=</span> <span class=\"n\">all</span> <span class=\"o\">-</span> <span class=\"p\">[</span><span class=\"n\">sapphire</span><span class=\"p\">]</span>\n<span class=\"n\">assert_equal</span> <span class=\"p\">[</span><span class=\"n\">treasures</span><span class=\"p\">(</span><span class=\"ss\">:diamond</span><span class=\"p\">),</span> <span class=\"n\">cars</span><span class=\"p\">(</span><span class=\"ss\">:honda</span><span class=\"p\">)],</span> <span class=\"n\">nand</span>\n\n<span class=\"n\">without_sapphire</span> <span class=\"o\">=</span> <span class=\"no\">PriceEstimate</span><span class=\"p\">.</span><span class=\"nf\">where</span><span class=\"p\">.</span><span class=\"nf\">not</span><span class=\"p\">(</span>\n  <span class=\"ss\">estimate_of_type: </span><span class=\"n\">sapphire</span><span class=\"p\">.</span><span class=\"nf\">class</span><span class=\"p\">.</span><span class=\"nf\">polymorphic_name</span><span class=\"p\">,</span> <span class=\"ss\">estimate_of_id: </span><span class=\"n\">sapphire</span><span class=\"p\">.</span><span class=\"nf\">id</span>\n<span class=\"p\">)</span>\n<span class=\"n\">assert_equal</span> <span class=\"n\">nand</span><span class=\"p\">,</span> <span class=\"n\">without_sapphire</span><span class=\"p\">.</span><span class=\"nf\">map</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"ss\">:estimate_of</span><span class=\"p\">)</span>\n</code></pre></div></div>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Fix dirty tracking after rollback.\n\n    Fixes #15018, #30167, #33868.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1555466803000,
    "author": "Ryuta Kamizono",
    "sha": "63ff495bdf90e0ab20114a49db5cffe3cb9ef2fd",
    "pr": "35987",
    "merge_sha": "ef21edbc45275f3be434732d14a284980a1a291b",
    "html": "<p>Fix dirty tracking after rollback.</p>\n\n<p>Fixes #15018, #30167, #33868.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Add `ActiveRecord::Relation#cache_version` to support recyclable cache keys via\n    the versioned entries in `ActiveSupport::Cache`. This also means that\n    `ActiveRecord::Relation#cache_key` will now return a stable key that does not\n    include the max timestamp or count any more.\n\n    NOTE: This feature is turned off by default, and `cache_key` will still return\n    cache keys with timestamps until you set `ActiveRecord::Base.collection_cache_versioning = true`.\n    That's the setting for all new apps on Rails 6.0+\n\n    *Lachlan Sylvester*",
    "project": "activerecord",
    "date_merged": 1555448413000,
    "author": "Lachlan Sylvester",
    "sha": "4f2ac80d4cdb01c4d3c1765637bed76cc91c1e35",
    "pr": "34378",
    "merge_sha": "1da9a7e410f15859939eb4158421846638a41e71",
    "html": "<p>Add <code>ActiveRecord::Relation#cache_version</code> to support recyclable cache keys via<br />\nthe versioned entries in <code>ActiveSupport::Cache</code>. This also means that<br />\n<code>ActiveRecord::Relation#cache_key</code> will now return a stable key that does not<br />\ninclude the max timestamp or count any more.</p>\n\n<p>NOTE: This feature is turned off by default, and <code>cache_key</code> will still return<br />\ncache keys with timestamps until you set <code>ActiveRecord::Base.collection_cache_versioning = true</code>.<br />\nThat’s the setting for all new apps on Rails 6.0+</p>\n\n<p><em>Lachlan Sylvester</em></p>\n"
  },
  {
    "message": "*   Fix dirty tracking for `touch` to track saved changes.\n\n    Fixes #33429.\n\n    *Ryuta Kamzono*",
    "project": "activerecord",
    "date_merged": 1555405840000,
    "author": "Ryuta Kamizono",
    "sha": "20b94af9eb9305d19a343f72f0afb18eb49e2de7",
    "pr": "35988",
    "merge_sha": "78255ccae84bf72cbc7a62bd26123c2eae27851c",
    "html": "<p>Fix dirty tracking for <code>touch</code> to track saved changes.</p>\n\n<p>Fixes #33429.</p>\n\n<p><em>Ryuta Kamzono</em></p>\n"
  },
  {
    "message": "*   `change_column_comment` and `change_table_comment` are invertible only if\n    `to` and `from` options are specified.\n\n    *Yoshiyuki Kinjo*",
    "project": "activerecord",
    "date_merged": 1555287632000,
    "author": "Yoshiyuki Kinjo",
    "sha": "1fe71ebd0486299de36d4ed551d38043ce8a419b",
    "pr": "35970",
    "merge_sha": "3a5b1240a731f191d21d293784068758ff5f60c4",
    "html": "<p><code>change_column_comment</code> and <code>change_table_comment</code> are invertible only if<br />\n<code>to</code> and <code>from</code> options are specified.</p>\n\n<p><em>Yoshiyuki Kinjo</em></p>\n"
  },
  {
    "message": "*   Don't call commit/rollback callbacks when a record isn't saved.\n\n    Fixes #29747.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1555405840000,
    "author": "Ryuta Kamizono",
    "sha": "20b94af9eb9305d19a343f72f0afb18eb49e2de7",
    "pr": "35988",
    "merge_sha": "78255ccae84bf72cbc7a62bd26123c2eae27851c",
    "html": "<p>Don’t call commit/rollback callbacks when a record isn’t saved.</p>\n\n<p>Fixes #29747.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Fix circular `autosave: true` causes invalid records to be saved.\n\n    Prior to the fix, when there was a circular series of `autosave: true`\n    associations, the callback for a `has_many` association was run while\n    another instance of the same callback on the same association hadn't\n    finished running. When control returned to the first instance of the\n    callback, the instance variable had changed, and subsequent associated\n    records weren't saved correctly. Specifically, the ID field for the\n    `belongs_to` corresponding to the `has_many` was `nil`.\n\n    Fixes #28080.\n\n    *Larry Reid*",
    "project": "activerecord",
    "date_merged": 1554918920000,
    "author": "Ryuta Kamizono",
    "sha": "faf07d1468af06bb3f7f5dd0776d77dd252af3b6",
    "pr": "35916",
    "merge_sha": "43288a053feecf7cdbe74e61f3ca2038d976e9f4",
    "html": "<p>Fix circular <code>autosave: true</code> causes invalid records to be saved.</p>\n\n<p>Prior to the fix, when there was a circular series of <code>autosave: true</code><br />\nassociations, the callback for a <code>has_many</code> association was run while<br />\nanother instance of the same callback on the same association hadn’t<br />\nfinished running. When control returned to the first instance of the<br />\ncallback, the instance variable had changed, and subsequent associated<br />\nrecords weren’t saved correctly. Specifically, the ID field for the<br />\n<code>belongs_to</code> corresponding to the <code>has_many</code> was <code>nil</code>.</p>\n\n<p>Fixes #28080.</p>\n\n<p><em>Larry Reid</em></p>\n"
  },
  {
    "message": "*   Raise `ArgumentError` for invalid `:limit` and `:precision` like as other options.\n\n    Before:\n\n    ```ruby\n    add_column :items, :attr1, :binary,   size: 10      # => ArgumentError\n    add_column :items, :attr2, :decimal,  scale: 10     # => ArgumentError\n    add_column :items, :attr3, :integer,  limit: 10     # => ActiveRecordError\n    add_column :items, :attr4, :datetime, precision: 10 # => ActiveRecordError\n    ```\n\n    After:\n\n    ```ruby\n    add_column :items, :attr1, :binary,   size: 10      # => ArgumentError\n    add_column :items, :attr2, :decimal,  scale: 10     # => ArgumentError\n    add_column :items, :attr3, :integer,  limit: 10     # => ArgumentError\n    add_column :items, :attr4, :datetime, precision: 10 # => ArgumentError\n    ```\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1554752488000,
    "author": "Ryuta Kamizono",
    "sha": "20da6c7eac90526e1f93f8463bd5e12d1e6203a3",
    "pr": "35887",
    "merge_sha": "a497ece3f7046123cb7fe6720f08d40e4ca6019d",
    "html": "<p>Raise <code>ArgumentError</code> for invalid <code>:limit</code> and <code>:precision</code> like as other options.</p>\n\n<p>Before:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"n\">add_column</span> <span class=\"ss\">:items</span><span class=\"p\">,</span> <span class=\"ss\">:attr1</span><span class=\"p\">,</span> <span class=\"ss\">:binary</span><span class=\"p\">,</span>   <span class=\"ss\">size: </span><span class=\"mi\">10</span>      <span class=\"c1\"># =&gt; ArgumentError</span>\n<span class=\"n\">add_column</span> <span class=\"ss\">:items</span><span class=\"p\">,</span> <span class=\"ss\">:attr2</span><span class=\"p\">,</span> <span class=\"ss\">:decimal</span><span class=\"p\">,</span>  <span class=\"ss\">scale: </span><span class=\"mi\">10</span>     <span class=\"c1\"># =&gt; ArgumentError</span>\n<span class=\"n\">add_column</span> <span class=\"ss\">:items</span><span class=\"p\">,</span> <span class=\"ss\">:attr3</span><span class=\"p\">,</span> <span class=\"ss\">:integer</span><span class=\"p\">,</span>  <span class=\"ss\">limit: </span><span class=\"mi\">10</span>     <span class=\"c1\"># =&gt; ActiveRecordError</span>\n<span class=\"n\">add_column</span> <span class=\"ss\">:items</span><span class=\"p\">,</span> <span class=\"ss\">:attr4</span><span class=\"p\">,</span> <span class=\"ss\">:datetime</span><span class=\"p\">,</span> <span class=\"ss\">precision: </span><span class=\"mi\">10</span> <span class=\"c1\"># =&gt; ActiveRecordError</span>\n</code></pre></div></div>\n\n<p>After:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"n\">add_column</span> <span class=\"ss\">:items</span><span class=\"p\">,</span> <span class=\"ss\">:attr1</span><span class=\"p\">,</span> <span class=\"ss\">:binary</span><span class=\"p\">,</span>   <span class=\"ss\">size: </span><span class=\"mi\">10</span>      <span class=\"c1\"># =&gt; ArgumentError</span>\n<span class=\"n\">add_column</span> <span class=\"ss\">:items</span><span class=\"p\">,</span> <span class=\"ss\">:attr2</span><span class=\"p\">,</span> <span class=\"ss\">:decimal</span><span class=\"p\">,</span>  <span class=\"ss\">scale: </span><span class=\"mi\">10</span>     <span class=\"c1\"># =&gt; ArgumentError</span>\n<span class=\"n\">add_column</span> <span class=\"ss\">:items</span><span class=\"p\">,</span> <span class=\"ss\">:attr3</span><span class=\"p\">,</span> <span class=\"ss\">:integer</span><span class=\"p\">,</span>  <span class=\"ss\">limit: </span><span class=\"mi\">10</span>     <span class=\"c1\"># =&gt; ArgumentError</span>\n<span class=\"n\">add_column</span> <span class=\"ss\">:items</span><span class=\"p\">,</span> <span class=\"ss\">:attr4</span><span class=\"p\">,</span> <span class=\"ss\">:datetime</span><span class=\"p\">,</span> <span class=\"ss\">precision: </span><span class=\"mi\">10</span> <span class=\"c1\"># =&gt; ArgumentError</span>\n</code></pre></div></div>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Association loading isn't to be affected by scoping consistently\n    whether preloaded / eager loaded or not, with the exception of `unscoped`.\n\n    Before:\n\n    ```ruby\n    Post.where(\"1=0\").scoping do\n      Comment.find(1).post                   # => nil\n      Comment.preload(:post).find(1).post    # => #<Post id: 1, ...>\n      Comment.eager_load(:post).find(1).post # => #<Post id: 1, ...>\n    end\n    ```\n\n    After:\n\n    ```ruby\n    Post.where(\"1=0\").scoping do\n      Comment.find(1).post                   # => #<Post id: 1, ...>\n      Comment.preload(:post).find(1).post    # => #<Post id: 1, ...>\n      Comment.eager_load(:post).find(1).post # => #<Post id: 1, ...>\n    end\n    ```\n\n    Fixes #34638, #35398.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1554494248000,
    "author": "Ryuta Kamizono",
    "sha": "17f2f3054c218485fff598966c39cd3d8a6f6056",
    "pr": "35868",
    "merge_sha": "e9d1d7668604c176dc795e4f8759a2addfd9669c",
    "html": "<p>Association loading isn’t to be affected by scoping consistently<br />\nwhether preloaded / eager loaded or not, with the exception of <code>unscoped</code>.</p>\n\n<p>Before:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"no\">Post</span><span class=\"p\">.</span><span class=\"nf\">where</span><span class=\"p\">(</span><span class=\"s2\">\"1=0\"</span><span class=\"p\">).</span><span class=\"nf\">scoping</span> <span class=\"k\">do</span>\n  <span class=\"no\">Comment</span><span class=\"p\">.</span><span class=\"nf\">find</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">).</span><span class=\"nf\">post</span>                   <span class=\"c1\"># =&gt; nil</span>\n  <span class=\"no\">Comment</span><span class=\"p\">.</span><span class=\"nf\">preload</span><span class=\"p\">(</span><span class=\"ss\">:post</span><span class=\"p\">).</span><span class=\"nf\">find</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">).</span><span class=\"nf\">post</span>    <span class=\"c1\"># =&gt; #&lt;Post id: 1, ...&gt;</span>\n  <span class=\"no\">Comment</span><span class=\"p\">.</span><span class=\"nf\">eager_load</span><span class=\"p\">(</span><span class=\"ss\">:post</span><span class=\"p\">).</span><span class=\"nf\">find</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">).</span><span class=\"nf\">post</span> <span class=\"c1\"># =&gt; #&lt;Post id: 1, ...&gt;</span>\n<span class=\"k\">end</span>\n</code></pre></div></div>\n\n<p>After:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"no\">Post</span><span class=\"p\">.</span><span class=\"nf\">where</span><span class=\"p\">(</span><span class=\"s2\">\"1=0\"</span><span class=\"p\">).</span><span class=\"nf\">scoping</span> <span class=\"k\">do</span>\n  <span class=\"no\">Comment</span><span class=\"p\">.</span><span class=\"nf\">find</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">).</span><span class=\"nf\">post</span>                   <span class=\"c1\"># =&gt; #&lt;Post id: 1, ...&gt;</span>\n  <span class=\"no\">Comment</span><span class=\"p\">.</span><span class=\"nf\">preload</span><span class=\"p\">(</span><span class=\"ss\">:post</span><span class=\"p\">).</span><span class=\"nf\">find</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">).</span><span class=\"nf\">post</span>    <span class=\"c1\"># =&gt; #&lt;Post id: 1, ...&gt;</span>\n  <span class=\"no\">Comment</span><span class=\"p\">.</span><span class=\"nf\">eager_load</span><span class=\"p\">(</span><span class=\"ss\">:post</span><span class=\"p\">).</span><span class=\"nf\">find</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">).</span><span class=\"nf\">post</span> <span class=\"c1\"># =&gt; #&lt;Post id: 1, ...&gt;</span>\n<span class=\"k\">end</span>\n</code></pre></div></div>\n\n<p>Fixes #34638, #35398.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Add `rails db:prepare` to migrate or setup a database.\n\n    Runs `db:migrate` if the database exists or `db:setup` if it doesn't.\n\n    *Roberto Miranda*",
    "project": "activerecord",
    "date_merged": 1554305027000,
    "author": "Kasper Timm Hansen",
    "sha": "9864f5e3d693b53c3540637c562a5be6e1e2c66a",
    "pr": "35795",
    "merge_sha": "b1fc1319dfbc450451bb0b410113dd6b7ab1d412",
    "html": "<p>Add <code>rails db:prepare</code> to migrate or setup a database.</p>\n\n<p>Runs <code>db:migrate</code> if the database exists or <code>db:setup</code> if it doesn’t.</p>\n\n<p><em>Roberto Miranda</em></p>\n"
  },
  {
    "message": "*   Add `after_save_commit` callback as shortcut for `after_commit :hook, on: [ :create, :update ]`.\n\n    *DHH*",
    "project": "activerecord",
    "date_merged": 1554252914000,
    "author": "David Heinemeier Hansson",
    "sha": "59bed68d5e37b994f5e607c3d2b8c5424a0948b9",
    "pr": "35833",
    "merge_sha": "2b8aee8ce54cc977bf80d57454cde642b211bef5",
    "html": "<p>Add <code>after_save_commit</code> callback as shortcut for <code>after_commit :hook, on: [ :create, :update ]</code>.</p>\n\n<p><em>DHH</em></p>\n"
  },
  {
    "message": "*   Assign all attributes before calling `build` to ensure the child record is visible in\n    `before_add` and `after_add` callbacks for `has_many :through` associations.\n\n    Fixes #33249.\n\n    *Ryan H. Kerr*",
    "project": "activerecord",
    "date_merged": 1553991085000,
    "author": "Ryan Kerr",
    "sha": "2e3bba3e3af8c41e833cced61f0449ad73c947cc",
    "pr": "35799",
    "merge_sha": "aae8fd0e07a9e924838845c1b29960f598fc14f3",
    "html": "<p>Assign all attributes before calling <code>build</code> to ensure the child record is visible in<br />\n<code>before_add</code> and <code>after_add</code> callbacks for <code>has_many :through</code> associations.</p>\n\n<p>Fixes #33249.</p>\n\n<p><em>Ryan H. Kerr</em></p>\n"
  },
  {
    "message": "*   Add `ActiveRecord::Relation#extract_associated` for extracting associated records from a relation.\n\n    ```\n    account.memberships.extract_associated(:user)\n    # => Returns collection of User records\n    ```\n\n    *DHH*",
    "project": "activerecord",
    "date_merged": 1554143191000,
    "author": "Sharang Dashputre",
    "sha": "771973c13dd5b68fe96fbe5ea96bd11656437dc1",
    "pr": "35820",
    "merge_sha": "e4e12185837c1aa9233e4669d0a54b54173e1bf1",
    "html": "<p>Add <code>ActiveRecord::Relation#extract_associated</code> for extracting associated records from a relation.</p>\n\n<pre><code>account.memberships.extract_associated(:user)\n# =&gt; Returns collection of User records\n</code></pre>\n\n<p><em>DHH</em></p>\n"
  },
  {
    "message": "*   Add `ActiveRecord::Relation#annotate` for adding SQL comments to its queries.\n\n    For example:\n\n    ```\n    Post.where(id: 123).annotate(\"this is a comment\").to_sql\n    # SELECT \"posts\".* FROM \"posts\" WHERE \"posts\".\"id\" = 123 /* this is a comment */\n    ```\n\n    This can be useful in instrumentation or other analysis of issued queries.\n\n    *Matt Yoho*",
    "project": "activerecord",
    "date_merged": 1553256819000,
    "author": "Matt Yoho",
    "sha": "f41825809cf3d27f98467bd7bc005e5d6ed94828",
    "pr": "35617",
    "merge_sha": "f40860800c231ecd1daef6cf6b5a8a8eda76478d",
    "html": "<p>Add <code>ActiveRecord::Relation#annotate</code> for adding SQL comments to its queries.</p>\n\n<p>For example:</p>\n\n<pre><code>Post.where(id: 123).annotate(\"this is a comment\").to_sql\n# SELECT \"posts\".* FROM \"posts\" WHERE \"posts\".\"id\" = 123 /* this is a comment */\n</code></pre>\n\n<p>This can be useful in instrumentation or other analysis of issued queries.</p>\n\n<p><em>Matt Yoho</em></p>\n"
  },
  {
    "message": "*   Support Optimizer Hints.\n\n    In most databases, a way to control the optimizer is by using optimizer hints,\n    which can be specified within individual statements.\n\n    Example (for MySQL):\n\n        Topic.optimizer_hints(\"MAX_EXECUTION_TIME(50000)\", \"NO_INDEX_MERGE(topics)\")\n        # SELECT /*+ MAX_EXECUTION_TIME(50000) NO_INDEX_MERGE(topics) */ `topics`.* FROM `topics`\n\n    Example (for PostgreSQL with pg_hint_plan):\n\n        Topic.optimizer_hints(\"SeqScan(topics)\", \"Parallel(topics 8)\")\n        # SELECT /*+ SeqScan(topics) Parallel(topics 8) */ \"topics\".* FROM \"topics\"\n\n    See also:\n\n    * https://dev.mysql.com/doc/refman/8.0/en/optimizer-hints.html\n    * https://pghintplan.osdn.jp/pg_hint_plan.html\n    * https://docs.oracle.com/en/database/oracle/oracle-database/12.2/tgsql/influencing-the-optimizer.html\n    * https://docs.microsoft.com/en-us/sql/t-sql/queries/hints-transact-sql-query?view=sql-server-2017\n    * https://www.ibm.com/support/knowledgecenter/en/SSEPGG_11.1.0/com.ibm.db2.luw.admin.perf.doc/doc/c0070117.html\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1552762428000,
    "author": "Ryuta Kamizono",
    "sha": "97347d8c409f14b682dd9ec52ded3c869d0ba479",
    "pr": "35615",
    "merge_sha": "1db05065434e1b5341e6748632e310060e92b80d",
    "html": "<p>Support Optimizer Hints.</p>\n\n<p>In most databases, a way to control the optimizer is by using optimizer hints,<br />\nwhich can be specified within individual statements.</p>\n\n<p>Example (for MySQL):</p>\n\n<pre><code>Topic.optimizer_hints(\"MAX_EXECUTION_TIME(50000)\", \"NO_INDEX_MERGE(topics)\")\n# SELECT /*+ MAX_EXECUTION_TIME(50000) NO_INDEX_MERGE(topics) */ `topics`.* FROM `topics`\n</code></pre>\n\n<p>Example (for PostgreSQL with pg_hint_plan):</p>\n\n<pre><code>Topic.optimizer_hints(\"SeqScan(topics)\", \"Parallel(topics 8)\")\n# SELECT /*+ SeqScan(topics) Parallel(topics 8) */ \"topics\".* FROM \"topics\"\n</code></pre>\n\n<p>See also:</p>\n\n<ul>\n  <li>https://dev.mysql.com/doc/refman/8.0/en/optimizer-hints.html</li>\n  <li>https://pghintplan.osdn.jp/pg_hint_plan.html</li>\n  <li>https://docs.oracle.com/en/database/oracle/oracle-database/12.2/tgsql/influencing-the-optimizer.html</li>\n  <li>https://docs.microsoft.com/en-us/sql/t-sql/queries/hints-transact-sql-query?view=sql-server-2017</li>\n  <li>https://www.ibm.com/support/knowledgecenter/en/SSEPGG_11.1.0/com.ibm.db2.luw.admin.perf.doc/doc/c0070117.html</li>\n</ul>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Fix query attribute method on user-defined attribute to be aware of typecasted value.\n\n    For example, the following code no longer return false as casted non-empty string:\n\n    ```\n    class Post < ActiveRecord::Base\n      attribute :user_defined_text, :text\n    end\n\n    Post.new(user_defined_text: \"false\").user_defined_text? # => true\n    ```\n\n    *Yuji Kamijima*",
    "project": "activerecord",
    "date_merged": 1552235746000,
    "author": "kamille-321",
    "sha": "81bc621ed01637e8305fb53c9e504b1cc46c102f",
    "pr": "35320",
    "merge_sha": "260a3c65122a726eea20828d4909e15502751c39",
    "html": "<p>Fix query attribute method on user-defined attribute to be aware of typecasted value.</p>\n\n<p>For example, the following code no longer return false as casted non-empty string:</p>\n\n<pre><code>class Post &lt; ActiveRecord::Base\n  attribute :user_defined_text, :text\nend\n\nPost.new(user_defined_text: \"false\").user_defined_text? # =&gt; true\n</code></pre>\n\n<p><em>Yuji Kamijima</em></p>\n"
  },
  {
    "message": "*   Quote empty ranges like other empty enumerables.\n\n    *Patrick Rebsch*",
    "project": "activerecord",
    "date_merged": 1552232907000,
    "author": "Patrick Rebsch",
    "sha": "3e6d3e430e53c550e3c282af6f23b803e1652b15",
    "pr": "35449",
    "merge_sha": "b75d6ea5d35d61c60f2675ed956c51e71d2b07ad",
    "html": "<p>Quote empty ranges like other empty enumerables.</p>\n\n<p><em>Patrick Rebsch</em></p>\n"
  },
  {
    "message": "*   Add `insert_all`/`insert_all!`/`upsert_all` methods to `ActiveRecord::Persistence`,\n    allowing bulk inserts akin to the bulk updates provided by `update_all` and\n    bulk deletes by `delete_all`.\n\n    Supports skipping or upserting duplicates through the `ON CONFLICT` syntax\n    for PostgreSQL (9.5+) and SQLite (3.24+) and `ON DUPLICATE KEY UPDATE` syntax\n    for MySQL.\n\n    *Bob Lail*",
    "project": "activerecord",
    "date_merged": 1551830687000,
    "author": "Bob Lail",
    "sha": "91ed21b304c468db8ce9fd830312c151432935d0",
    "pr": null,
    "merge_sha": "3ee51c91c5d51e383981cbf3ccb2135c6a9ba71e",
    "html": "<p>Add <code>insert_all</code>/<code>insert_all!</code>/<code>upsert_all</code> methods to <code>ActiveRecord::Persistence</code>,<br />\nallowing bulk inserts akin to the bulk updates provided by <code>update_all</code> and<br />\nbulk deletes by <code>delete_all</code>.</p>\n\n<p>Supports skipping or upserting duplicates through the <code>ON CONFLICT</code> syntax<br />\nfor PostgreSQL (9.5+) and SQLite (3.24+) and <code>ON DUPLICATE KEY UPDATE</code> syntax<br />\nfor MySQL.</p>\n\n<p><em>Bob Lail</em></p>\n"
  },
  {
    "message": "*   Add `rails db:seed:replant` that truncates tables of each database\n    for current environment and loads the seeds.\n\n    *bogdanvlviv*, *DHH*",
    "project": "activerecord",
    "date_merged": 1551754352000,
    "author": "Bogdan",
    "sha": "a8c0ebccbdbf4e2ccbacbf94cba6cf24699af190",
    "pr": "35434",
    "merge_sha": "275641924e2d4a9ac7994d43d318565f1e6dcf04",
    "html": "<p>Add <code>rails db:seed:replant</code> that truncates tables of each database<br />\nfor current environment and loads the seeds.</p>\n\n<p><em>bogdanvlviv</em>, <em>DHH</em></p>\n"
  },
  {
    "message": "*   Add `ActiveRecord::Base.connection.truncate` for SQLite3 adapter.\n\n    *bogdanvlviv*",
    "project": "activerecord",
    "date_merged": 1551754352000,
    "author": "Bogdan",
    "sha": "a8c0ebccbdbf4e2ccbacbf94cba6cf24699af190",
    "pr": "35434",
    "merge_sha": "275641924e2d4a9ac7994d43d318565f1e6dcf04",
    "html": "<p>Add <code>ActiveRecord::Base.connection.truncate</code> for SQLite3 adapter.</p>\n\n<p><em>bogdanvlviv</em></p>\n"
  },
  {
    "message": "*   Deprecate mismatched collation comparison for uniqueness validator.\n\n    Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1.\n    To continue case sensitive comparison on the case insensitive column,\n    pass `case_sensitive: true` option explicitly to the uniqueness validator.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1551707850000,
    "author": "Sharang Dashputre",
    "sha": "776384de5068b7bfad7de0b5f49aeccdd5c42d51",
    "pr": "35469",
    "merge_sha": "076e8eddf4766a27a62fd0ae087c6c08501ddc42",
    "html": "<p>Deprecate mismatched collation comparison for uniqueness validator.</p>\n\n<p>Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1.<br />\nTo continue case sensitive comparison on the case insensitive column,<br />\npass <code>case_sensitive: true</code> option explicitly to the uniqueness validator.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Add `reselect` method. This is a short-hand for `unscope(:select).select(fields)`.\n\n    Fixes #27340.\n\n    *Willian Gustavo Veiga*",
    "project": "activerecord",
    "date_merged": 1551696484000,
    "author": "bogdanvlviv",
    "sha": "bf6d5b32e9f98e415b364f10734fa24b0f9bee5e",
    "pr": "35467",
    "merge_sha": "cbedbdef0708e00968d66feab89c86a40f2292e0",
    "html": "<p>Add <code>reselect</code> method. This is a short-hand for <code>unscope(:select).select(fields)</code>.</p>\n\n<p>Fixes #27340.</p>\n\n<p><em>Willian Gustavo Veiga</em></p>\n"
  },
  {
    "message": "*   Add negative scopes for all enum values.\n\n    Example:\n\n        class Post < ActiveRecord::Base\n          enum status: %i[ drafted active trashed ]\n        end\n\n        Post.not_drafted # => where.not(status: :drafted)\n        Post.not_active  # => where.not(status: :active)\n        Post.not_trashed # => where.not(status: :trashed)\n\n    *DHH*",
    "project": "activerecord",
    "date_merged": 1551227466000,
    "author": "David Heinemeier Hansson",
    "sha": "55a7051a5a2935c0ced79afc5c81ef7db9e0dd73",
    "pr": "35397",
    "merge_sha": "f64043b7cb5b5b2cfdfc8df350437637dcfbd17c",
    "html": "<p>Add negative scopes for all enum values.</p>\n\n<p>Example:</p>\n\n<pre><code>class Post &lt; ActiveRecord::Base\n  enum status: %i[ drafted active trashed ]\nend\n\nPost.not_drafted # =&gt; where.not(status: :drafted)\nPost.not_active  # =&gt; where.not(status: :active)\nPost.not_trashed # =&gt; where.not(status: :trashed)\n</code></pre>\n\n<p><em>DHH</em></p>\n"
  },
  {
    "message": "*   Fix different `count` calculation when using `size` with manual `select` with DISTINCT.\n\n    Fixes #35214.\n\n    *Juani Villarejo*",
    "project": "activerecord",
    "date_merged": 1551197060000,
    "author": "jvillarejo",
    "sha": "fa2c61fc636f958c274692f2a0f3062859797790",
    "pr": "35361",
    "merge_sha": "350ad01b815979f492f5f359991c9be707d5e3b5",
    "html": "<p>Fix different <code>count</code> calculation when using <code>size</code> with manual <code>select</code> with DISTINCT.</p>\n\n<p>Fixes #35214.</p>\n\n<p><em>Juani Villarejo</em></p>\n"
  },
  {
    "message": "*   Fix prepared statements caching to be enabled even when query caching is enabled.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1551111308000,
    "author": "Ryuta Kamizono",
    "sha": "66b4ddd3353e14b27214e156c949ba41e2ce5ba4",
    "pr": "35399",
    "merge_sha": "7d44d2a4edce4b39a232f83755e38ce1a5279074",
    "html": "<p>Fix prepared statements caching to be enabled even when query caching is enabled.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Ensure `update_all` series cares about optimistic locking.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1551095347000,
    "author": "Ryuta Kamizono",
    "sha": "1d8fad6f903d5065911bea3409c7a9082f47d3f8",
    "pr": "35352",
    "merge_sha": "66d40abff5e63a960cad9498f20dcf2615ecb9cf",
    "html": "<p>Ensure <code>update_all</code> series cares about optimistic locking.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Don't allow `where` with non numeric string matches to 0 values.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1550743124000,
    "author": "Ryuta Kamizono",
    "sha": "357cd23d3aedabb99fd70b812ffcea2d1cc9893d",
    "pr": "35336",
    "merge_sha": "f8a798c8e60a9b288496b99b5e38e4f10d2f7c0e",
    "html": "<p>Don’t allow <code>where</code> with non numeric string matches to 0 values.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Introduce `ActiveRecord::Relation#destroy_by` and `ActiveRecord::Relation#delete_by`.\n\n    `destroy_by` allows relation to find all the records matching the condition and perform\n    `destroy_all` on the matched records.\n\n    Example:\n\n        Person.destroy_by(name: 'David')\n        Person.destroy_by(name: 'David', rating: 4)\n\n        david = Person.find_by(name: 'David')\n        david.posts.destroy_by(id: [1, 2, 3])\n\n    `delete_by` allows relation to find all the records matching the condition and perform\n    `delete_all` on the matched records.\n\n    Example:\n\n        Person.delete_by(name: 'David')\n        Person.delete_by(name: 'David', rating: 4)\n\n        david = Person.find_by(name: 'David')\n        david.posts.delete_by(id: [1, 2, 3])\n\n    *Abhay Nikam*",
    "project": "activerecord",
    "date_merged": 1550602772000,
    "author": "Ryuta Kamizono",
    "sha": "64ef5e2f9e854a7f988227d629a699f11a998b17",
    "pr": "35271",
    "merge_sha": "16a8072e2db29d5ec895830dca995f99ce1915d6",
    "html": "<p>Introduce <code>ActiveRecord::Relation#destroy_by</code> and <code>ActiveRecord::Relation#delete_by</code>.</p>\n\n<p><code>destroy_by</code> allows relation to find all the records matching the condition and perform<br />\n<code>destroy_all</code> on the matched records.</p>\n\n<p>Example:</p>\n\n<pre><code>Person.destroy_by(name: 'David')\nPerson.destroy_by(name: 'David', rating: 4)\n\ndavid = Person.find_by(name: 'David')\ndavid.posts.destroy_by(id: [1, 2, 3])\n</code></pre>\n\n<p><code>delete_by</code> allows relation to find all the records matching the condition and perform<br />\n<code>delete_all</code> on the matched records.</p>\n\n<p>Example:</p>\n\n<pre><code>Person.delete_by(name: 'David')\nPerson.delete_by(name: 'David', rating: 4)\n\ndavid = Person.find_by(name: 'David')\ndavid.posts.delete_by(id: [1, 2, 3])\n</code></pre>\n\n<p><em>Abhay Nikam</em></p>\n"
  },
  {
    "message": "*   Don't allow `where` with invalid value matches to nil values.\n\n    Fixes #33624.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1550551262000,
    "author": "Ryuta Kamizono",
    "sha": "b09d8f6bb3a23cd907d084103fb5b4c02479a39b",
    "pr": "35310",
    "merge_sha": "84bd9adafde36d0192849649b86ffcd4e59e5e11",
    "html": "<p>Don’t allow <code>where</code> with invalid value matches to nil values.</p>\n\n<p>Fixes #33624.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   SQLite3: Implement `add_foreign_key` and `remove_foreign_key`.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1550298810000,
    "author": "Ryuta Kamizono",
    "sha": "850e6aaad9c276d1b84708448221eb3becf0b917",
    "pr": "35281",
    "merge_sha": "fdc05952bd667e37dc0c1326c645a3dd65d450db",
    "html": "<p>SQLite3: Implement <code>add_foreign_key</code> and <code>remove_foreign_key</code>.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Deprecate using class level querying methods if the receiver scope\n    regarded as leaked. Use `klass.unscoped` to avoid the leaking scope.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1550224339000,
    "author": "Ryuta Kamizono",
    "sha": "4c6171d6056a346a953792a954853d14c000dc90",
    "pr": "35280",
    "merge_sha": "b414ca3f17c76fb1cc43d79fbffd2f3ed95acdde",
    "html": "<p>Deprecate using class level querying methods if the receiver scope<br />\nregarded as leaked. Use <code>klass.unscoped</code> to avoid the leaking scope.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Allow applications to automatically switch connections.\n\n    Adds a middleware and configuration options that can be used in your\n    application to automatically switch between the writing and reading\n    database connections.\n\n    `GET` and `HEAD` requests will read from the replica unless there was\n    a write in the last 2 seconds, otherwise they will read from the primary.\n    Non-get requests will always write to the primary. The middleware accepts\n    an argument for a Resolver class and an Operations class where you are able\n    to change how the auto-switcher works to be most beneficial for your\n    application.\n\n    To use the middleware in your application you can use the following\n    configuration options:\n\n    ```\n    config.active_record.database_selector = { delay: 2.seconds }\n    config.active_record.database_resolver = ActiveRecord::Middleware::DatabaseSelector::Resolver\n    config.active_record.database_resolver_context = ActiveRecord::Middleware::DatabaseSelector::Resolver::Session\n    ```\n\n    To change the database selection strategy, pass a custom class to the\n    configuration options:\n\n    ```\n    config.active_record.database_selector = { delay: 10.seconds }\n    config.active_record.database_resolver = MyResolver\n    config.active_record.database_resolver_context = MyResolver::MyCookies\n    ```\n\n    *Eileen M. Uchitelle*",
    "project": "activerecord",
    "date_merged": 1548875025000,
    "author": "Eileen Uchitelle",
    "sha": "0abcec416b6ec11faffa03d40e5661c0a4a8b092",
    "pr": "35073",
    "merge_sha": "8ca6bd2e942f9a2652ec20c0c419e9b08f25c2e1",
    "html": "<p>Allow applications to automatically switch connections.</p>\n\n<p>Adds a middleware and configuration options that can be used in your<br />\napplication to automatically switch between the writing and reading<br />\ndatabase connections.</p>\n\n<p><code>GET</code> and <code>HEAD</code> requests will read from the replica unless there was<br />\na write in the last 2 seconds, otherwise they will read from the primary.<br />\nNon-get requests will always write to the primary. The middleware accepts<br />\nan argument for a Resolver class and an Operations class where you are able<br />\nto change how the auto-switcher works to be most beneficial for your<br />\napplication.</p>\n\n<p>To use the middleware in your application you can use the following<br />\nconfiguration options:</p>\n\n<pre><code>config.active_record.database_selector = { delay: 2.seconds }\nconfig.active_record.database_resolver = ActiveRecord::Middleware::DatabaseSelector::Resolver\nconfig.active_record.database_resolver_context = ActiveRecord::Middleware::DatabaseSelector::Resolver::Session\n</code></pre>\n\n<p>To change the database selection strategy, pass a custom class to the<br />\nconfiguration options:</p>\n\n<pre><code>config.active_record.database_selector = { delay: 10.seconds }\nconfig.active_record.database_resolver = MyResolver\nconfig.active_record.database_resolver_context = MyResolver::MyCookies\n</code></pre>\n\n<p><em>Eileen M. Uchitelle</em></p>\n"
  },
  {
    "message": "*   MySQL: Support `:size` option to change text and blob size.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1548748924000,
    "author": "Ryuta Kamizono",
    "sha": "1745e905a314754b65eabc5fa28671c80796f09f",
    "pr": "35071",
    "merge_sha": "8309cd2c68f548987b8447475c7735a19714baaa",
    "html": "<p>MySQL: Support <code>:size</code> option to change text and blob size.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Make `t.timestamps` with precision by default.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1548513437000,
    "author": "Ryuta Kamizono",
    "sha": "57015cdfa2083351f64a82f7566965172a41efcb",
    "pr": "34970",
    "merge_sha": "5a8f0c7226b2b16c9cf1b6ef5478fe5603348e17",
    "html": "<p>Make <code>t.timestamps</code> with precision by default.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Remove deprecated `#set_state` from the transaction object.\n\n    *Rafael Mendonça França*",
    "project": "activerecord",
    "date_merged": 1547763177000,
    "author": "Rafael Mendonça França",
    "sha": "6c745b0c5152a4437163a67707e02f4464493983",
    "pr": "34954",
    "merge_sha": "e65a3a0ce585b1fbcd35872616717595d6950fca",
    "html": "<p>Remove deprecated <code>#set_state</code> from the transaction object.</p>\n\n<p><em>Rafael Mendonça França</em></p>\n"
  },
  {
    "message": "*   Remove deprecated `#supports_statement_cache?` from the database adapters.\n\n    *Rafael Mendonça França*",
    "project": "activerecord",
    "date_merged": 1547763177000,
    "author": "Rafael Mendonça França",
    "sha": "5f3ed8784383fb4eb0f9959f31a9c28a991b7553",
    "pr": "34954",
    "merge_sha": "e65a3a0ce585b1fbcd35872616717595d6950fca",
    "html": "<p>Remove deprecated <code>#supports_statement_cache?</code> from the database adapters.</p>\n\n<p><em>Rafael Mendonça França</em></p>\n"
  },
  {
    "message": "*   Remove deprecated `#insert_fixtures` from the database adapters.\n\n    *Rafael Mendonça França*",
    "project": "activerecord",
    "date_merged": 1547763177000,
    "author": "Rafael Mendonça França",
    "sha": "400ba786e1d154448235f5f90183e48a1043eece",
    "pr": "34954",
    "merge_sha": "e65a3a0ce585b1fbcd35872616717595d6950fca",
    "html": "<p>Remove deprecated <code>#insert_fixtures</code> from the database adapters.</p>\n\n<p><em>Rafael Mendonça França</em></p>\n"
  },
  {
    "message": "*   Remove deprecated `ActiveRecord::ConnectionAdapters::SQLite3Adapter#valid_alter_table_type?`.\n\n    *Rafael Mendonça França*",
    "project": "activerecord",
    "date_merged": 1547763177000,
    "author": "Rafael Mendonça França",
    "sha": "45b4d5f81f0c0ca72c18d0dea4a3a7b2ecc589bf",
    "pr": "34954",
    "merge_sha": "e65a3a0ce585b1fbcd35872616717595d6950fca",
    "html": "<p>Remove deprecated <code>ActiveRecord::ConnectionAdapters::SQLite3Adapter#valid_alter_table_type?</code>.</p>\n\n<p><em>Rafael Mendonça França</em></p>\n"
  },
  {
    "message": "*   Do not allow passing the column name to `sum` when a block is passed.\n\n    *Rafael Mendonça França*",
    "project": "activerecord",
    "date_merged": 1547763177000,
    "author": "Rafael Mendonça França",
    "sha": "91ddb30083430622188d76eb9f29b78131df67f9",
    "pr": "34954",
    "merge_sha": "e65a3a0ce585b1fbcd35872616717595d6950fca",
    "html": "<p>Do not allow passing the column name to <code>sum</code> when a block is passed.</p>\n\n<p><em>Rafael Mendonça França</em></p>\n"
  },
  {
    "message": "*   Do not allow passing the column name to `count` when a block is passed.\n\n    *Rafael Mendonça França*",
    "project": "activerecord",
    "date_merged": 1547763177000,
    "author": "Rafael Mendonça França",
    "sha": "67356f2034ab41305af7218f7c8b2fee2d614129",
    "pr": "34954",
    "merge_sha": "e65a3a0ce585b1fbcd35872616717595d6950fca",
    "html": "<p>Do not allow passing the column name to <code>count</code> when a block is passed.</p>\n\n<p><em>Rafael Mendonça França</em></p>\n"
  },
  {
    "message": "*   Remove delegation of missing methods in a relation to arel.\n\n    *Rafael Mendonça França*",
    "project": "activerecord",
    "date_merged": 1547763177000,
    "author": "Rafael Mendonça França",
    "sha": "d97980a16d76ad190042b4d8578109714e9c53d0",
    "pr": "34954",
    "merge_sha": "e65a3a0ce585b1fbcd35872616717595d6950fca",
    "html": "<p>Remove delegation of missing methods in a relation to arel.</p>\n\n<p><em>Rafael Mendonça França</em></p>\n"
  },
  {
    "message": "*   Remove delegation of missing methods in a relation to private methods of the class.\n\n    *Rafael Mendonça França*",
    "project": "activerecord",
    "date_merged": 1547763177000,
    "author": "Rafael Mendonça França",
    "sha": "a7becf147afc85c354e5cfa519911a948d25fc4d",
    "pr": "34954",
    "merge_sha": "e65a3a0ce585b1fbcd35872616717595d6950fca",
    "html": "<p>Remove delegation of missing methods in a relation to private methods of the class.</p>\n\n<p><em>Rafael Mendonça França</em></p>\n"
  },
  {
    "message": "*   Deprecate `config.active_record.sqlite3.represent_boolean_as_integer`.\n\n    *Rafael Mendonça França*",
    "project": "activerecord",
    "date_merged": 1569987140000,
    "author": "Ryuta Kamizono",
    "sha": "d18016ab92106a745cf2b5b04c15e6f268a39192",
    "pr": "37334",
    "merge_sha": "dde8025eb6af382154a63e176852a062c5e3996e",
    "html": "<p>Deprecate <code>config.active_record.sqlite3.represent_boolean_as_integer</code>.</p>\n\n<p><em>Rafael Mendonça França</em></p>\n"
  },
  {
    "message": "*   Change `SQLite3Adapter` to always represent boolean values as integers.\n\n    *Rafael Mendonça França*",
    "project": "activerecord",
    "date_merged": 1547763177000,
    "author": "Rafael Mendonça França",
    "sha": "f59b08119bc0c01a00561d38279b124abc82561b",
    "pr": "34954",
    "merge_sha": "e65a3a0ce585b1fbcd35872616717595d6950fca",
    "html": "<p>Change <code>SQLite3Adapter</code> to always represent boolean values as integers.</p>\n\n<p><em>Rafael Mendonça França</em></p>\n"
  },
  {
    "message": "*   Remove ability to specify a timestamp name for `#cache_key`.\n\n    *Rafael Mendonça França*",
    "project": "activerecord",
    "date_merged": 1547763177000,
    "author": "Rafael Mendonça França",
    "sha": "0bef23e630f62e38f20b5ae1d1d5dbfb087050ea",
    "pr": "34954",
    "merge_sha": "e65a3a0ce585b1fbcd35872616717595d6950fca",
    "html": "<p>Remove ability to specify a timestamp name for <code>#cache_key</code>.</p>\n\n<p><em>Rafael Mendonça França</em></p>\n"
  },
  {
    "message": "*   Remove deprecated `ActiveRecord::Migrator.migrations_path=`.\n\n    *Rafael Mendonça França*",
    "project": "activerecord",
    "date_merged": 1547763177000,
    "author": "Rafael Mendonça França",
    "sha": "90d7842186591cae364fab3320b524e4d31a7d7d",
    "pr": "34954",
    "merge_sha": "e65a3a0ce585b1fbcd35872616717595d6950fca",
    "html": "<p>Remove deprecated <code>ActiveRecord::Migrator.migrations_path=</code>.</p>\n\n<p><em>Rafael Mendonça França</em></p>\n"
  },
  {
    "message": "*   Remove deprecated `expand_hash_conditions_for_aggregates`.\n\n    *Rafael Mendonça França*",
    "project": "activerecord",
    "date_merged": 1547763177000,
    "author": "Rafael Mendonça França",
    "sha": "27b252d6a85e300c7236d034d55ec8e44f57a83e",
    "pr": "34954",
    "merge_sha": "e65a3a0ce585b1fbcd35872616717595d6950fca",
    "html": "<p>Remove deprecated <code>expand_hash_conditions_for_aggregates</code>.</p>\n\n<p><em>Rafael Mendonça França</em></p>\n"
  },
  {
    "message": "*   Set polymorphic type column to NULL on `dependent: :nullify` strategy.\n\n    On polymorphic associations both the foreign key and the foreign type columns will be set to NULL.\n\n    *Laerti Papa*",
    "project": "activerecord",
    "date_merged": 1547763177000,
    "author": "Rafael Mendonça França",
    "sha": "27b252d6a85e300c7236d034d55ec8e44f57a83e",
    "pr": "34954",
    "merge_sha": "e65a3a0ce585b1fbcd35872616717595d6950fca",
    "html": "<p>Set polymorphic type column to NULL on <code>dependent: :nullify</code> strategy.</p>\n\n<p>On polymorphic associations both the foreign key and the foreign type columns will be set to NULL.</p>\n\n<p><em>Laerti Papa</em></p>\n"
  },
  {
    "message": "*   Allow permitted instance of `ActionController::Parameters` as argument of `ActiveRecord::Relation#exists?`.\n\n    *Gannon McGibbon*",
    "project": "activerecord",
    "date_merged": 1547763253000,
    "author": "bogdanvlviv",
    "sha": "6410c70f7caa5045e2f12ebd7aab8d8b6d3e6a0b",
    "pr": "34966",
    "merge_sha": "470e6bdac97249ca3406c635f611aa8f7df8b222",
    "html": "<p>Allow permitted instance of <code>ActionController::Parameters</code> as argument of <code>ActiveRecord::Relation#exists?</code>.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Add support for endless ranges introduces in Ruby 2.6.\n\n    *Greg Navis*",
    "project": "activerecord",
    "date_merged": 1547234405000,
    "author": "Greg Navis",
    "sha": "7110dbea008dd4b80d1764003935a3c97ab10f57",
    "pr": "34906",
    "merge_sha": "3a1b2a21965c0cd7bcccff586ce04b029eb4c359",
    "html": "<p>Add support for endless ranges introduces in Ruby 2.6.</p>\n\n<p><em>Greg Navis</em></p>\n"
  },
  {
    "message": "*   Deprecate passing `migrations_paths` to `connection.assume_migrated_upto_version`.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1546016264000,
    "author": "Ryuta Kamizono",
    "sha": "c1b14aded27e063ead32fa911aa53163d7cfc21a",
    "pr": "34814",
    "merge_sha": "f046018402b1f25dcc61a1a7f3679180e8df9509",
    "html": "<p>Deprecate passing <code>migrations_paths</code> to <code>connection.assume_migrated_upto_version</code>.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   MySQL: `ROW_FORMAT=DYNAMIC` create table option by default.\n\n    Since MySQL 5.7.9, the `innodb_default_row_format` option defines the default row\n    format for InnoDB tables. The default setting is `DYNAMIC`.\n    The row format is required for indexing on `varchar(255)` with `utf8mb4` columns.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1545381571000,
    "author": "Ryuta Kamizono",
    "sha": "a1652c196e57f583cd5c95f7f48eeb6d8c8b285d",
    "pr": "34742",
    "merge_sha": "721e26767c0443e63e67f4307415f5e4a8f3cd3d",
    "html": "<p>MySQL: <code>ROW_FORMAT=DYNAMIC</code> create table option by default.</p>\n\n<p>Since MySQL 5.7.9, the <code>innodb_default_row_format</code> option defines the default row<br />\nformat for InnoDB tables. The default setting is <code>DYNAMIC</code>.<br />\nThe row format is required for indexing on <code>varchar(255)</code> with <code>utf8mb4</code> columns.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Fix join table column quoting with SQLite.\n\n    *Gannon McGibbon*",
    "project": "activerecord",
    "date_merged": 1544031087000,
    "author": "Gannon McGibbon",
    "sha": "93f19071ad9d337a9f6f2fc9278c33e05597951d",
    "pr": "34626",
    "merge_sha": "b802e08273f899d5f3b199f7c6a4f5d514c1b0e1",
    "html": "<p>Fix join table column quoting with SQLite.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Allow disabling scopes generated by `ActiveRecord.enum`.\n\n    *Alfred Dominic*",
    "project": "activerecord",
    "date_merged": 1543942120000,
    "author": "Alfred Dominic",
    "sha": "c4d157aafe05dde4a19dff2d95165e4022627608",
    "pr": "34605",
    "merge_sha": "e5172265bf36c0834a67ef82c0ad514cfe7671df",
    "html": "<p>Allow disabling scopes generated by <code>ActiveRecord.enum</code>.</p>\n\n<p><em>Alfred Dominic</em></p>\n"
  },
  {
    "message": "*   Ensure that `delete_all` on collection proxy returns affected count.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1543906102000,
    "author": "Ryuta Kamizono",
    "sha": "4d7354aa352b94ec3a10ad053cff04890c534080",
    "pr": "34609",
    "merge_sha": "609c58bfa6df58b88e3eadebb1f1d49354541d24",
    "html": "<p>Ensure that <code>delete_all</code> on collection proxy returns affected count.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Reset scope after delete on collection association to clear stale offsets of removed records.\n\n    *Gannon McGibbon*",
    "project": "activerecord",
    "date_merged": 1543906020000,
    "author": "Gannon McGibbon",
    "sha": "67bca35a64e0fde994270b242f0b1c59d8e56b0b",
    "pr": "34607",
    "merge_sha": "53d5a682c90b20a35cfc44d4f0e267ee94321e8f",
    "html": "<p>Reset scope after delete on collection association to clear stale offsets of removed records.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Add the ability to prevent writes to a database for the duration of a block.\n\n    Allows the application to prevent writes to a database. This can be useful when\n    you're building out multiple databases and want to make sure you're not sending\n    writes when you want a read.\n\n    If `while_preventing_writes` is called and the query is considered a write\n    query the database will raise an exception regardless of whether the database\n    user is able to write.\n\n    This is not meant to be a catch-all for write queries but rather a way to enforce\n    read-only queries without opening a second connection. One purpose of this is to\n    catch accidental writes, not all writes.\n\n    *Eileen M. Uchitelle*",
    "project": "activerecord",
    "date_merged": 1543590362000,
    "author": "Eileen Uchitelle",
    "sha": "f39d72d5267baed1000932831cda98503d1e1047",
    "pr": "34505",
    "merge_sha": "f6e1061c915a92389fee2819d29b13764942c985",
    "html": "<p>Add the ability to prevent writes to a database for the duration of a block.</p>\n\n<p>Allows the application to prevent writes to a database. This can be useful when<br />\nyou’re building out multiple databases and want to make sure you’re not sending<br />\nwrites when you want a read.</p>\n\n<p>If <code>while_preventing_writes</code> is called and the query is considered a write<br />\nquery the database will raise an exception regardless of whether the database<br />\nuser is able to write.</p>\n\n<p>This is not meant to be a catch-all for write queries but rather a way to enforce<br />\nread-only queries without opening a second connection. One purpose of this is to<br />\ncatch accidental writes, not all writes.</p>\n\n<p><em>Eileen M. Uchitelle</em></p>\n"
  },
  {
    "message": "*   Allow aliased attributes to be used in `#update_columns` and `#update`.\n\n    *Gannon McGibbon*",
    "project": "activerecord",
    "date_merged": 1543523484000,
    "author": "Gannon McGibbon",
    "sha": "72e63c71bb3f73870e280964def25b7578818b1b",
    "pr": "34569",
    "merge_sha": "5b75408e3226b43fab66558d173df7e97efbc240",
    "html": "<p>Allow aliased attributes to be used in <code>#update_columns</code> and <code>#update</code>.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Allow spaces in postgres table names.\n\n    Fixes issue where \"user post\" is misinterpreted as \"\\\"user\\\".\\\"post\\\"\" when quoting table names with the postgres adapter.\n\n    *Gannon McGibbon*",
    "project": "activerecord",
    "date_merged": 1543445290000,
    "author": "Gannon McGibbon",
    "sha": "03fadebe0ed1fd384a14e46ba4c828b9a36ab4bf",
    "pr": "34561",
    "merge_sha": "7d0c8ebe3550b52f750e249dd8ea312327d26d39",
    "html": "<p>Allow spaces in postgres table names.</p>\n\n<p>Fixes issue where “user post” is misinterpreted as “\"user\".\"post\"” when quoting table names with the postgres adapter.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Cached `columns_hash` fields should be excluded from `ResultSet#column_types`.\n\n    PR #34528 addresses the inconsistent behaviour when attribute is defined for an ignored column. The following test\n    was passing for SQLite and MySQL, but failed for PostgreSQL:\n\n    ```ruby\n    class DeveloperName < ActiveRecord::Type::String\n      def deserialize(value)\n        \"Developer: #{value}\"\n      end\n    end\n\n    class AttributedDeveloper < ActiveRecord::Base\n      self.table_name = \"developers\"\n\n      attribute :name, DeveloperName.new\n\n      self.ignored_columns += [\"name\"]\n    end\n\n    developer = AttributedDeveloper.create\n    developer.update_column :name, \"name\"\n\n    loaded_developer = AttributedDeveloper.where(id: developer.id).select(\"*\").first\n    puts loaded_developer.name # should be \"Developer: name\" but it's just \"name\"\n    ```\n\n    *Dmitry Tsepelev*",
    "project": "activerecord",
    "date_merged": 1554051927000,
    "author": "Ryuta Kamizono",
    "sha": "51ab5cb0432c483422112ebbb274855a3fa5ecc8",
    "pr": "35793",
    "merge_sha": "563bf5771fb8bf3c8458393cd5a42bab7a5b6f1e",
    "html": "<p>Cached <code>columns_hash</code> fields should be excluded from <code>ResultSet#column_types</code>.</p>\n\n<p>PR #34528 addresses the inconsistent behaviour when attribute is defined for an ignored column. The following test<br />\nwas passing for SQLite and MySQL, but failed for PostgreSQL:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">DeveloperName</span> <span class=\"o\">&lt;</span> <span class=\"no\">ActiveRecord</span><span class=\"o\">::</span><span class=\"no\">Type</span><span class=\"o\">::</span><span class=\"no\">String</span>\n  <span class=\"k\">def</span> <span class=\"nf\">deserialize</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">)</span>\n    <span class=\"s2\">\"Developer: </span><span class=\"si\">#{</span><span class=\"n\">value</span><span class=\"si\">}</span><span class=\"s2\">\"</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">AttributedDeveloper</span> <span class=\"o\">&lt;</span> <span class=\"no\">ActiveRecord</span><span class=\"o\">::</span><span class=\"no\">Base</span>\n  <span class=\"nb\">self</span><span class=\"p\">.</span><span class=\"nf\">table_name</span> <span class=\"o\">=</span> <span class=\"s2\">\"developers\"</span>\n\n  <span class=\"n\">attribute</span> <span class=\"ss\">:name</span><span class=\"p\">,</span> <span class=\"no\">DeveloperName</span><span class=\"p\">.</span><span class=\"nf\">new</span>\n\n  <span class=\"nb\">self</span><span class=\"p\">.</span><span class=\"nf\">ignored_columns</span> <span class=\"o\">+=</span> <span class=\"p\">[</span><span class=\"s2\">\"name\"</span><span class=\"p\">]</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">developer</span> <span class=\"o\">=</span> <span class=\"no\">AttributedDeveloper</span><span class=\"p\">.</span><span class=\"nf\">create</span>\n<span class=\"n\">developer</span><span class=\"p\">.</span><span class=\"nf\">update_column</span> <span class=\"ss\">:name</span><span class=\"p\">,</span> <span class=\"s2\">\"name\"</span>\n\n<span class=\"n\">loaded_developer</span> <span class=\"o\">=</span> <span class=\"no\">AttributedDeveloper</span><span class=\"p\">.</span><span class=\"nf\">where</span><span class=\"p\">(</span><span class=\"ss\">id: </span><span class=\"n\">developer</span><span class=\"p\">.</span><span class=\"nf\">id</span><span class=\"p\">).</span><span class=\"nf\">select</span><span class=\"p\">(</span><span class=\"s2\">\"*\"</span><span class=\"p\">).</span><span class=\"nf\">first</span>\n<span class=\"nb\">puts</span> <span class=\"n\">loaded_developer</span><span class=\"p\">.</span><span class=\"nf\">name</span> <span class=\"c1\"># should be \"Developer: name\" but it's just \"name\"</span>\n</code></pre></div></div>\n\n<p><em>Dmitry Tsepelev</em></p>\n"
  },
  {
    "message": "*   Make the implicit order column configurable.\n\n    When calling ordered finder methods such as `first` or `last` without an\n    explicit order clause, ActiveRecord sorts records by primary key. This can\n    result in unpredictable and surprising behaviour when the primary key is\n    not an auto-incrementing integer, for example when it's a UUID. This change\n    makes it possible to override the column used for implicit ordering such\n    that `first` and `last` will return more predictable results.\n\n    Example:\n\n        class Project < ActiveRecord::Base\n          self.implicit_order_column = \"created_at\"\n        end\n\n    *Tekin Suleyman*",
    "project": "activerecord",
    "date_merged": 1543324790000,
    "author": "Tekin Suleyman",
    "sha": "3b9982a3b778b63488975eb03592d33aa9fb04dd",
    "pr": "34480",
    "merge_sha": "b9c7305dbe57931a153a540d49ae5d469af61a14",
    "html": "<p>Make the implicit order column configurable.</p>\n\n<p>When calling ordered finder methods such as <code>first</code> or <code>last</code> without an<br />\nexplicit order clause, ActiveRecord sorts records by primary key. This can<br />\nresult in unpredictable and surprising behaviour when the primary key is<br />\nnot an auto-incrementing integer, for example when it’s a UUID. This change<br />\nmakes it possible to override the column used for implicit ordering such<br />\nthat <code>first</code> and <code>last</code> will return more predictable results.</p>\n\n<p>Example:</p>\n\n<pre><code>class Project &lt; ActiveRecord::Base\n  self.implicit_order_column = \"created_at\"\nend\n</code></pre>\n\n<p><em>Tekin Suleyman</em></p>\n"
  },
  {
    "message": "*   Bump minimum PostgreSQL version to 9.3.\n\n    *Yasuo Honda*",
    "project": "activerecord",
    "date_merged": 1543251545000,
    "author": "Yasuo Honda",
    "sha": "6fb128d14427019b10e1ac5205f48f72feffe767",
    "pr": "34520",
    "merge_sha": "713e75d46dc75274a996661ed3ff773bc481d7a5",
    "html": "<p>Bump minimum PostgreSQL version to 9.3.</p>\n\n<p><em>Yasuo Honda</em></p>\n"
  },
  {
    "message": "*   Values of enum are frozen, raising an error when attempting to modify them.\n\n    *Emmanuel Byrd*",
    "project": "activerecord",
    "date_merged": 1543034129000,
    "author": "ebyrds",
    "sha": "4c8c31774a7c44080099f4a9c7e21d76fa097e09",
    "pr": "34517",
    "merge_sha": "171e32fc779fc26804f6670ea41850aec282d882",
    "html": "<p>Values of enum are frozen, raising an error when attempting to modify them.</p>\n\n<p><em>Emmanuel Byrd</em></p>\n"
  },
  {
    "message": "*   Move `ActiveRecord::StatementInvalid` SQL to error property and include binds as separate error property.\n\n    `ActiveRecord::ConnectionAdapters::AbstractAdapter#translate_exception_class` now requires `binds` to be passed as the last argument.\n\n    `ActiveRecord::ConnectionAdapters::AbstractAdapter#translate_exception` now requires `message`, `sql`, and `binds` to be passed as keyword arguments.\n\n    Subclasses of `ActiveRecord::StatementInvalid` must now provide `sql:` and `binds:` arguments to `super`.\n\n    Example:\n\n    ```\n    class MySubclassedError < ActiveRecord::StatementInvalid\n      def initialize(message, sql:, binds:)\n        super(message, sql: sql, binds: binds)\n      end\n    end\n    ```\n\n    *Gannon McGibbon*",
    "project": "activerecord",
    "date_merged": 1543009523000,
    "author": "Gannon McGibbon",
    "sha": "192b7bcfacd550312b37e74d858b63b77d2469d5",
    "pr": "34468",
    "merge_sha": "246ee77eef7b799a647beb2ff704a9a5867bec66",
    "html": "<p>Move <code>ActiveRecord::StatementInvalid</code> SQL to error property and include binds as separate error property.</p>\n\n<p><code>ActiveRecord::ConnectionAdapters::AbstractAdapter#translate_exception_class</code> now requires <code>binds</code> to be passed as the last argument.</p>\n\n<p><code>ActiveRecord::ConnectionAdapters::AbstractAdapter#translate_exception</code> now requires <code>message</code>, <code>sql</code>, and <code>binds</code> to be passed as keyword arguments.</p>\n\n<p>Subclasses of <code>ActiveRecord::StatementInvalid</code> must now provide <code>sql:</code> and <code>binds:</code> arguments to <code>super</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>class MySubclassedError &lt; ActiveRecord::StatementInvalid\n  def initialize(message, sql:, binds:)\n    super(message, sql: sql, binds: binds)\n  end\nend\n</code></pre>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Add an `:if_not_exists` option to `create_table`.\n\n    Example:\n\n        create_table :posts, if_not_exists: true do |t|\n          t.string :title\n        end\n\n    That would execute:\n\n        CREATE TABLE IF NOT EXISTS posts (\n          ...\n        )\n\n    If the table already exists, `if_not_exists: false` (the default) raises an\n    exception whereas `if_not_exists: true` does nothing.\n\n    *fatkodima*, *Stefan Kanev*",
    "project": "activerecord",
    "date_merged": 1541688256000,
    "author": "fatkodima",
    "sha": "6e0ff0053702cd1dc0f149f4ca59f968a2560d72",
    "pr": "31382",
    "merge_sha": "4fe27cdc15b88fed5ae725a886b7e96202f649a8",
    "html": "<p>Add an <code>:if_not_exists</code> option to <code>create_table</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>create_table :posts, if_not_exists: true do |t|\n  t.string :title\nend\n</code></pre>\n\n<p>That would execute:</p>\n\n<pre><code>CREATE TABLE IF NOT EXISTS posts (\n  ...\n)\n</code></pre>\n\n<p>If the table already exists, <code>if_not_exists: false</code> (the default) raises an<br />\nexception whereas <code>if_not_exists: true</code> does nothing.</p>\n\n<p><em>fatkodima</em>, <em>Stefan Kanev</em></p>\n"
  },
  {
    "message": "*   Defining an Enum as a Hash with blank key, or as an Array with a blank value, now raises an `ArgumentError`.\n\n    *Christophe Maximin*",
    "project": "activerecord",
    "date_merged": 1541641321000,
    "author": "Christophe Maximin",
    "sha": "25f1cbdecd4f506b46a6c476f18074dafdb581f2",
    "pr": "34385",
    "merge_sha": "6ee0d8f75dd9608e305491b54e6962f4ccba60a5",
    "html": "<p>Defining an Enum as a Hash with blank key, or as an Array with a blank value, now raises an <code>ArgumentError</code>.</p>\n\n<p><em>Christophe Maximin</em></p>\n"
  },
  {
    "message": "*   Adds support for multiple databases to `rails db:schema:cache:dump` and `rails db:schema:cache:clear`.\n\n    *Gannon McGibbon*",
    "project": "activerecord",
    "date_merged": 1541641321000,
    "author": "Christophe Maximin",
    "sha": "25f1cbdecd4f506b46a6c476f18074dafdb581f2",
    "pr": "34385",
    "merge_sha": "6ee0d8f75dd9608e305491b54e6962f4ccba60a5",
    "html": "<p>Adds support for multiple databases to <code>rails db:schema:cache:dump</code> and <code>rails db:schema:cache:clear</code>.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   `update_columns` now correctly raises `ActiveModel::MissingAttributeError`\n    if the attribute does not exist.\n\n    *Sean Griffin*",
    "project": "activerecord",
    "date_merged": 1540932786000,
    "author": "Sean Griffin",
    "sha": "b63701e272f3dc932ba7a20127f6dc82b567cfb4",
    "pr": "33972",
    "merge_sha": "f4876545ffc8712fe5c62de2fff2822c7f9dad52",
    "html": "<p><code>update_columns</code> now correctly raises <code>ActiveModel::MissingAttributeError</code><br />\nif the attribute does not exist.</p>\n\n<p><em>Sean Griffin</em></p>\n"
  },
  {
    "message": "*   Add support for hash and URL configs in database hash of `ActiveRecord::Base.connected_to`.\n\n    ````\n    User.connected_to(database: { writing: \"postgres://foo\" }) do\n      User.create!(name: \"Gannon\")\n    end\n\n    config = { \"adapter\" => \"sqlite3\", \"database\" => \"db/readonly.sqlite3\" }\n    User.connected_to(database: { reading: config }) do\n      User.count\n    end\n    ````\n\n    *Gannon McGibbon*",
    "project": "activerecord",
    "date_merged": 1554143191000,
    "author": "Sharang Dashputre",
    "sha": "771973c13dd5b68fe96fbe5ea96bd11656437dc1",
    "pr": "35820",
    "merge_sha": "e4e12185837c1aa9233e4669d0a54b54173e1bf1",
    "html": "<p>Add support for hash and URL configs in database hash of <code>ActiveRecord::Base.connected_to</code>.</p>\n\n<pre><code>User.connected_to(database: { writing: \"postgres://foo\" }) do\n  User.create!(name: \"Gannon\")\nend\n\nconfig = { \"adapter\" =&gt; \"sqlite3\", \"database\" =&gt; \"db/readonly.sqlite3\" }\nUser.connected_to(database: { reading: config }) do\n  User.count\nend\n</code></pre>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Support default expression for MySQL.\n\n    MySQL 8.0.13 and higher supports default value to be a function or expression.\n\n    https://dev.mysql.com/doc/refman/8.0/en/create-table.html\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1540547476000,
    "author": "Ryuta Kamizono",
    "sha": "a2ad8f456e29f760f78333e14474868a63a22a6f",
    "pr": "34307",
    "merge_sha": "9e9e2b7f71d767e54bd14af752cbbbd9908e3713",
    "html": "<p>Support default expression for MySQL.</p>\n\n<p>MySQL 8.0.13 and higher supports default value to be a function or expression.</p>\n\n<p>https://dev.mysql.com/doc/refman/8.0/en/create-table.html</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Support expression indexes for MySQL.\n\n    MySQL 8.0.13 and higher supports functional key parts that index\n    expression values rather than column or column prefix values.\n\n    https://dev.mysql.com/doc/refman/8.0/en/create-index.html\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1540547476000,
    "author": "Ryuta Kamizono",
    "sha": "d496055b5b75387136bcdd1cc93aeab14dbda606",
    "pr": "34307",
    "merge_sha": "9e9e2b7f71d767e54bd14af752cbbbd9908e3713",
    "html": "<p>Support expression indexes for MySQL.</p>\n\n<p>MySQL 8.0.13 and higher supports functional key parts that index<br />\nexpression values rather than column or column prefix values.</p>\n\n<p>https://dev.mysql.com/doc/refman/8.0/en/create-index.html</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Fix collection cache key with limit and custom select to avoid ambiguous timestamp column error.\n\n    Fixes #33056.\n\n    *Federico Martinez*",
    "project": "activerecord",
    "date_merged": 1539653455000,
    "author": "Ryuta Kamizono",
    "sha": "b7c29fc962588b28d2955dfcb14e5f655e181164",
    "pr": "29204",
    "merge_sha": "b0b0cd1fd77af3eec8b2b8760bace2572e04a3a3",
    "html": "<p>Fix collection cache key with limit and custom select to avoid ambiguous timestamp column error.</p>\n\n<p>Fixes #33056.</p>\n\n<p><em>Federico Martinez</em></p>\n"
  },
  {
    "message": "*   Add basic API for connection switching to support multiple databases.\n\n    1) Adds a `connects_to` method for models to connect to multiple databases. Example:\n\n    ```\n    class AnimalsModel < ApplicationRecord\n      self.abstract_class = true\n\n      connects_to database: { writing: :animals_primary, reading: :animals_replica }\n    end\n\n    class Dog < AnimalsModel\n      # connected to both the animals_primary db for writing and the animals_replica for reading\n    end\n    ```\n\n    2) Adds a `connected_to` block method for switching connection roles or connecting to\n    a database that the model didn't connect to. Connecting to the database in this block is\n    useful when you have another defined connection, for example `slow_replica` that you don't\n    want to connect to by default but need in the console, or a specific code block.\n\n    ```\n    ActiveRecord::Base.connected_to(role: :reading) do\n      Dog.first # finds dog from replica connected to AnimalsBase\n      Book.first # doesn't have a reading connection, will raise an error\n    end\n    ```\n\n    ```\n    ActiveRecord::Base.connected_to(database: :slow_replica) do\n      SlowReplicaModel.first # if the db config has a slow_replica configuration this will be used to do the lookup, otherwise this will throw an exception\n    end\n    ```\n\n    *Eileen M. Uchitelle*",
    "project": "activerecord",
    "date_merged": 1539194297000,
    "author": "Eileen Uchitelle",
    "sha": "31021a8c85bb80300deb01db96876858ff417f4a",
    "pr": "34052",
    "merge_sha": "fb8bee4a479eac0c799df356374c8f72e7649527",
    "html": "<p>Add basic API for connection switching to support multiple databases.</p>\n\n<p>1) Adds a <code>connects_to</code> method for models to connect to multiple databases. Example:</p>\n\n<pre><code>class AnimalsModel &lt; ApplicationRecord\n  self.abstract_class = true\n\n  connects_to database: { writing: :animals_primary, reading: :animals_replica }\nend\n\nclass Dog &lt; AnimalsModel\n  # connected to both the animals_primary db for writing and the animals_replica for reading\nend\n</code></pre>\n\n<p>2) Adds a <code>connected_to</code> block method for switching connection roles or connecting to<br />\na database that the model didn’t connect to. Connecting to the database in this block is<br />\nuseful when you have another defined connection, for example <code>slow_replica</code> that you don’t<br />\nwant to connect to by default but need in the console, or a specific code block.</p>\n\n<pre><code>ActiveRecord::Base.connected_to(role: :reading) do\n  Dog.first # finds dog from replica connected to AnimalsBase\n  Book.first # doesn't have a reading connection, will raise an error\nend\n</code></pre>\n\n<pre><code>ActiveRecord::Base.connected_to(database: :slow_replica) do\n  SlowReplicaModel.first # if the db config has a slow_replica configuration this will be used to do the lookup, otherwise this will throw an exception\nend\n</code></pre>\n\n<p><em>Eileen M. Uchitelle</em></p>\n"
  },
  {
    "message": "*   Enum raises on invalid definition values\n\n    When defining a Hash enum it can be easy to use `[]` instead of `{}`. This\n    commit checks that only valid definition values are provided, those can\n    be a Hash, an array of Symbols or an array of Strings. Otherwise it\n    raises an `ArgumentError`.\n\n    Fixes #33961\n\n    *Alberto Almagro*",
    "project": "activerecord",
    "date_merged": 1539186161000,
    "author": "Alberto Almagro",
    "sha": "9b9640112e197e94e13940c0c0f990cc80ca5498",
    "pr": "34110",
    "merge_sha": "58999af99fa485f748ab33d4aa4254a4b4a50991",
    "html": "<p>Enum raises on invalid definition values</p>\n\n<p>When defining a Hash enum it can be easy to use <code>[]</code> instead of <code>{}</code>. This<br />\ncommit checks that only valid definition values are provided, those can<br />\nbe a Hash, an array of Symbols or an array of Strings. Otherwise it<br />\nraises an <code>ArgumentError</code>.</p>\n\n<p>Fixes #33961</p>\n\n<p><em>Alberto Almagro</em></p>\n"
  },
  {
    "message": "*   Reloading associations now clears the Query Cache like `Persistence#reload` does.\n\n    ```\n    class Post < ActiveRecord::Base\n      has_one :category\n      belongs_to :author\n      has_many :comments\n    end\n\n    # Each of the following will now clear the query cache.\n    post.reload_category\n    post.reload_author\n    post.comments.reload\n    ```\n\n    *Christophe Maximin*",
    "project": "activerecord",
    "date_merged": 1539157874000,
    "author": "Christophe Maximin",
    "sha": "961776832d13b4cea7f67aface2c2882416ac975",
    "pr": "34094",
    "merge_sha": "6c69a96048f61b280076412eab37c9134ddb7440",
    "html": "<p>Reloading associations now clears the Query Cache like <code>Persistence#reload</code> does.</p>\n\n<pre><code>class Post &lt; ActiveRecord::Base\n  has_one :category\n  belongs_to :author\n  has_many :comments\nend\n\n# Each of the following will now clear the query cache.\npost.reload_category\npost.reload_author\npost.comments.reload\n</code></pre>\n\n<p><em>Christophe Maximin</em></p>\n"
  },
  {
    "message": "*   Added `index` option for `change_table` migration helpers.\n    With this change you can create indexes while adding new\n    columns into the existing tables.\n\n    Example:\n\n        change_table(:languages) do |t|\n          t.string :country_code, index: true\n        end\n\n    *Mehmet Emin İNAÇ*",
    "project": "activerecord",
    "date_merged": 1538357943000,
    "author": "Mehmet Emin INAC",
    "sha": "5e4c22dfbb6dad676f74ded50b8c2536834a46a7",
    "pr": "23593",
    "merge_sha": "322c5704e5ab8cc9bc3cfffecd3b06641d95f2b4",
    "html": "<p>Added <code>index</code> option for <code>change_table</code> migration helpers.<br />\nWith this change you can create indexes while adding new<br />\ncolumns into the existing tables.</p>\n\n<p>Example:</p>\n\n<pre><code>change_table(:languages) do |t|\n  t.string :country_code, index: true\nend\n</code></pre>\n\n<p><em>Mehmet Emin İNAÇ</em></p>\n"
  },
  {
    "message": "*   Fix `transaction` reverting for migrations.\n\n    Before: Commands inside a `transaction` in a reverted migration ran uninverted.\n    Now: This change fixes that by reverting commands inside `transaction` block.\n\n    *fatkodima*, *David Verhasselt*",
    "project": "activerecord",
    "date_merged": 1538063111000,
    "author": "fatkodima",
    "sha": "bdd8d5898710e727c55b514804a221b6eddbda41",
    "pr": "31604",
    "merge_sha": "cb6ea5148bffdc6266740e2e7bf30965f3060680",
    "html": "<p>Fix <code>transaction</code> reverting for migrations.</p>\n\n<p>Before: Commands inside a <code>transaction</code> in a reverted migration ran uninverted.<br />\nNow: This change fixes that by reverting commands inside <code>transaction</code> block.</p>\n\n<p><em>fatkodima</em>, <em>David Verhasselt</em></p>\n"
  },
  {
    "message": "*   Raise an error instead of scanning the filesystem root when `fixture_path` is blank.\n\n    *Gannon McGibbon*, *Max Albrecht*",
    "project": "activerecord",
    "date_merged": 1537980823000,
    "author": "Gannon McGibbon",
    "sha": "68890d39c9e25bccdd83407cfa6a12800093e432",
    "pr": "33983",
    "merge_sha": "0a4c2d4738a536ac6e1f4347205c0c62dd3ceb9a",
    "html": "<p>Raise an error instead of scanning the filesystem root when <code>fixture_path</code> is blank.</p>\n\n<p><em>Gannon McGibbon</em>, <em>Max Albrecht</em></p>\n"
  },
  {
    "message": "*   Allow `ActiveRecord::Base.configurations=` to be set with a symbolized hash.\n\n    *Gannon McGibbon*",
    "project": "activerecord",
    "date_merged": 1537913136000,
    "author": "Gannon McGibbon",
    "sha": "63c4e9765b53ae1f8b4674c45012295f873a40be",
    "pr": "33968",
    "merge_sha": "eb8df3f7b19e6a7149c23eee73e6b197ba8b330e",
    "html": "<p>Allow <code>ActiveRecord::Base.configurations=</code> to be set with a symbolized hash.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Don't update counter cache unless the record is actually saved.\n\n    Fixes #31493, #33113, #33117.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1537421472000,
    "author": "Ryuta Kamizono",
    "sha": "fe929c171966c6102452f3612c613a245a5e8bb7",
    "pr": "33913",
    "merge_sha": "f1dcfc6ccb9ceb0bfa76819acc2c3ed1bc691ef8",
    "html": "<p>Don’t update counter cache unless the record is actually saved.</p>\n\n<p>Fixes #31493, #33113, #33117.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Deprecate `ActiveRecord::Result#to_hash` in favor of `ActiveRecord::Result#to_a`.\n\n    *Gannon McGibbon*, *Kevin Cheng*",
    "project": "activerecord",
    "date_merged": 1537413036000,
    "author": "Kevin Cheng",
    "sha": "16510d609c601aa7d466809f3073ec3313e08937",
    "pr": "33912",
    "merge_sha": "4586b304fc61e3a5d756d005aa2c386a1b01b848",
    "html": "<p>Deprecate <code>ActiveRecord::Result#to_hash</code> in favor of <code>ActiveRecord::Result#to_a</code>.</p>\n\n<p><em>Gannon McGibbon</em>, <em>Kevin Cheng</em></p>\n"
  },
  {
    "message": "*   SQLite3 adapter supports expression indexes.\n\n    ```\n    create_table :users do |t|\n      t.string :email\n    end\n\n    add_index :users, 'lower(email)', name: 'index_users_on_email', unique: true\n    ```\n\n    *Gray Kemmey*",
    "project": "activerecord",
    "date_merged": 1536886063000,
    "author": "Ryuta Kamizono",
    "sha": "af653ef72190c6cd3e6b2a86786a981ad4bdb44e",
    "pr": "33879",
    "merge_sha": "d2812d9a9e05a72374b9f7b32bab508b087f12b7",
    "html": "<p>SQLite3 adapter supports expression indexes.</p>\n\n<pre><code>create_table :users do |t|\n  t.string :email\nend\n\nadd_index :users, 'lower(email)', name: 'index_users_on_email', unique: true\n</code></pre>\n\n<p><em>Gray Kemmey</em></p>\n"
  },
  {
    "message": "*   Allow subclasses to redefine autosave callbacks for associated records.\n\n    Fixes #33305.\n\n    *Andrey Subbota*",
    "project": "activerecord",
    "date_merged": 1536868238000,
    "author": "Andrey Subbota",
    "sha": "35ee756a366d3ac80128a017cf8ba197a0fdd4a1",
    "pr": "33378",
    "merge_sha": "7454cbf7a15556f1d78e61c7d9d64c93cee79ad3",
    "html": "<p>Allow subclasses to redefine autosave callbacks for associated records.</p>\n\n<p>Fixes #33305.</p>\n\n<p><em>Andrey Subbota</em></p>\n"
  },
  {
    "message": "*   Bump minimum MySQL version to 5.5.8.\n\n    *Yasuo Honda*",
    "project": "activerecord",
    "date_merged": 1536859079000,
    "author": "Yasuo Honda",
    "sha": "a338314d31b2a6d0f3cefcfc8c897369094098e4",
    "pr": "33853",
    "merge_sha": "f89e2c2cba429efd62e9d6e2c4c96afa205c5135",
    "html": "<p>Bump minimum MySQL version to 5.5.8.</p>\n\n<p><em>Yasuo Honda</em></p>\n"
  },
  {
    "message": "*   Use MySQL utf8mb4 character set by default.\n\n    `utf8mb4` character set with 4-Byte encoding supports supplementary characters including emoji.\n    The previous default 3-Byte encoding character set `utf8` is not enough to support them.\n\n    *Yasuo Honda*",
    "project": "activerecord",
    "date_merged": 1536697822000,
    "author": "Yasuo Honda",
    "sha": "d54d0c95750e2693da495b75ac5fa0280253972d",
    "pr": "33824",
    "merge_sha": "7acd2674fb6822cc3841ae2d59b93695ef18b71a",
    "html": "<p>Use MySQL utf8mb4 character set by default.</p>\n\n<p><code>utf8mb4</code> character set with 4-Byte encoding supports supplementary characters including emoji.<br />\nThe previous default 3-Byte encoding character set <code>utf8</code> is not enough to support them.</p>\n\n<p><em>Yasuo Honda</em></p>\n"
  },
  {
    "message": "*   Fix duplicated record creation when using nested attributes with `create_with`.\n\n    *Darwin Wu*",
    "project": "activerecord",
    "date_merged": 1536652804000,
    "author": "Darwin D Wu",
    "sha": "5291044a1d7866d2942276d812a5d3a72a67ef27",
    "pr": "33639",
    "merge_sha": "7e167d0ceeef42f8c14328985e16adb59a698ebd",
    "html": "<p>Fix duplicated record creation when using nested attributes with <code>create_with</code>.</p>\n\n<p><em>Darwin Wu</em></p>\n"
  },
  {
    "message": "*   Configuration item `config.filter_parameters` could also filter out\n    sensitive values of database columns when calling `#inspect`.\n    We also added `ActiveRecord::Base::filter_attributes`/`=` in order to\n    specify sensitive attributes to specific model.\n\n    ```\n    Rails.application.config.filter_parameters += [:credit_card_number, /phone/]\n    Account.last.inspect # => #<Account id: 123, name: \"DHH\", credit_card_number: [FILTERED], telephone_number: [FILTERED] ...>\n    SecureAccount.filter_attributes += [:name]\n    SecureAccount.last.inspect # => #<SecureAccount id: 42, name: [FILTERED], credit_card_number: [FILTERED] ...>\n    ```\n\n    *Zhang Kang*, *Yoshiyuki Kinjo*",
    "project": "activerecord",
    "date_merged": 1536786946000,
    "author": "bogdanvlviv",
    "sha": "59cae0755eea9aa7be4d746427b007f61f33c4ec",
    "pr": "33832",
    "merge_sha": "a66efa0b92e2b4fd6f79baa485fa3af17be257c4",
    "html": "<p>Configuration item <code>config.filter_parameters</code> could also filter out<br />\nsensitive values of database columns when calling <code>#inspect</code>.<br />\nWe also added <code>ActiveRecord::Base::filter_attributes</code>/<code>=</code> in order to<br />\nspecify sensitive attributes to specific model.</p>\n\n<pre><code>Rails.application.config.filter_parameters += [:credit_card_number, /phone/]\nAccount.last.inspect # =&gt; #&lt;Account id: 123, name: \"DHH\", credit_card_number: [FILTERED], telephone_number: [FILTERED] ...&gt;\nSecureAccount.filter_attributes += [:name]\nSecureAccount.last.inspect # =&gt; #&lt;SecureAccount id: 42, name: [FILTERED], credit_card_number: [FILTERED] ...&gt;\n</code></pre>\n\n<p><em>Zhang Kang</em>, <em>Yoshiyuki Kinjo</em></p>\n"
  },
  {
    "message": "*   Deprecate `column_name_length`, `table_name_length`, `columns_per_table`,\n    `indexes_per_table`, `columns_per_multicolumn_index`, `sql_query_length`,\n    and `joins_per_query` methods in `DatabaseLimits`.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1536188646000,
    "author": "Ryuta Kamizono",
    "sha": "e0a1235f7df0fa193c7e299a5adee88db246b44f",
    "pr": "33799",
    "merge_sha": "54a9dbf5f19e128a2da851707fdaf34868b50078",
    "html": "<p>Deprecate <code>column_name_length</code>, <code>table_name_length</code>, <code>columns_per_table</code>,<br />\n<code>indexes_per_table</code>, <code>columns_per_multicolumn_index</code>, <code>sql_query_length</code>,<br />\nand <code>joins_per_query</code> methods in <code>DatabaseLimits</code>.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   `ActiveRecord::Base.configurations` now returns an object.\n\n    `ActiveRecord::Base.configurations` used to return a hash, but this\n    is an inflexible data model. In order to improve multiple-database\n    handling in Rails, we've changed this to return an object. Some methods\n    are provided to make the object behave hash-like in order to ease the\n    transition process. Since most applications don't manipulate the hash\n    we've decided to add backwards-compatible functionality that will throw\n    a deprecation warning if used, however calling `ActiveRecord::Base.configurations`\n    will use the new version internally and externally.\n\n    For example, the following `database.yml`:\n\n    ```\n    development:\n      adapter: sqlite3\n      database: db/development.sqlite3\n    ```\n\n    Used to become a hash:\n\n    ```\n    { \"development\" => { \"adapter\" => \"sqlite3\", \"database\" => \"db/development.sqlite3\" } }\n    ```\n\n    Is now converted into the following object:\n\n    ```\n    #<ActiveRecord::DatabaseConfigurations:0x00007fd1acbdf800 @configurations=[\n      #<ActiveRecord::DatabaseConfigurations::HashConfig:0x00007fd1acbded10 @env_name=\"development\",\n        @spec_name=\"primary\", @config={\"adapter\"=>\"sqlite3\", \"database\"=>\"db/development.sqlite3\"}>\n      ]\n    ```\n\n    Iterating over the database configurations has also changed. Instead of\n    calling hash methods on the `configurations` hash directly, a new method `configs_for` has\n    been provided that allows you to select the correct configuration. `env_name` and\n    `spec_name` arguments are optional. For example, these return an array of\n    database config objects for the requested environment and a single database config object\n    will be returned for the requested environment and specification name respectively.\n\n    ```\n    ActiveRecord::Base.configurations.configs_for(env_name: \"development\")\n    ActiveRecord::Base.configurations.configs_for(env_name: \"development\", spec_name: \"primary\")\n    ```\n\n    *Eileen M. Uchitelle*, *Aaron Patterson*",
    "project": "activerecord",
    "date_merged": 1536322181000,
    "author": "Ryuta Kamizono",
    "sha": "736edb982856f0de04d4566f657c0c84f145e7ef",
    "pr": "33756",
    "merge_sha": "2a470d73a75ebf8cd7975e469bd82586d9234442",
    "html": "<p><code>ActiveRecord::Base.configurations</code> now returns an object.</p>\n\n<p><code>ActiveRecord::Base.configurations</code> used to return a hash, but this<br />\nis an inflexible data model. In order to improve multiple-database<br />\nhandling in Rails, we’ve changed this to return an object. Some methods<br />\nare provided to make the object behave hash-like in order to ease the<br />\ntransition process. Since most applications don’t manipulate the hash<br />\nwe’ve decided to add backwards-compatible functionality that will throw<br />\na deprecation warning if used, however calling <code>ActiveRecord::Base.configurations</code><br />\nwill use the new version internally and externally.</p>\n\n<p>For example, the following <code>database.yml</code>:</p>\n\n<pre><code>development:\n  adapter: sqlite3\n  database: db/development.sqlite3\n</code></pre>\n\n<p>Used to become a hash:</p>\n\n<pre><code>{ \"development\" =&gt; { \"adapter\" =&gt; \"sqlite3\", \"database\" =&gt; \"db/development.sqlite3\" } }\n</code></pre>\n\n<p>Is now converted into the following object:</p>\n\n<pre><code>#&lt;ActiveRecord::DatabaseConfigurations:0x00007fd1acbdf800 @configurations=[\n  #&lt;ActiveRecord::DatabaseConfigurations::HashConfig:0x00007fd1acbded10 @env_name=\"development\",\n    @spec_name=\"primary\", @config={\"adapter\"=&gt;\"sqlite3\", \"database\"=&gt;\"db/development.sqlite3\"}&gt;\n  ]\n</code></pre>\n\n<p>Iterating over the database configurations has also changed. Instead of<br />\ncalling hash methods on the <code>configurations</code> hash directly, a new method <code>configs_for</code> has<br />\nbeen provided that allows you to select the correct configuration. <code>env_name</code> and<br />\n<code>spec_name</code> arguments are optional. For example, these return an array of<br />\ndatabase config objects for the requested environment and a single database config object<br />\nwill be returned for the requested environment and specification name respectively.</p>\n\n<pre><code>ActiveRecord::Base.configurations.configs_for(env_name: \"development\")\nActiveRecord::Base.configurations.configs_for(env_name: \"development\", spec_name: \"primary\")\n</code></pre>\n\n<p><em>Eileen M. Uchitelle</em>, <em>Aaron Patterson</em></p>\n"
  },
  {
    "message": "*   Add database configuration to disable advisory locks.\n\n    ```\n    production:\n      adapter: postgresql\n      advisory_locks: false\n    ```\n\n    *Guo Xiang*",
    "project": "activerecord",
    "date_merged": 1534952054000,
    "author": "Guo Xiang Tan",
    "sha": "20bb397e00dad9dfdb38d0c8dd73062b448c31e3",
    "pr": "33691",
    "merge_sha": "24f6bf0d96b58f2b2ef6a886c93d35cf8ce4f293",
    "html": "<p>Add database configuration to disable advisory locks.</p>\n\n<pre><code>production:\n  adapter: postgresql\n  advisory_locks: false\n</code></pre>\n\n<p><em>Guo Xiang</em></p>\n"
  },
  {
    "message": "*   SQLite3 adapter `alter_table` method restores foreign keys.\n\n    *Yasuo Honda*",
    "project": "activerecord",
    "date_merged": 1534419997000,
    "author": "Yasuo Honda",
    "sha": "33ce73edf1d1b02f4f50fc5d7565590468167d76",
    "pr": "33585",
    "merge_sha": "b40fbb5f9520ea2280a1deceaea8980fc620ac46",
    "html": "<p>SQLite3 adapter <code>alter_table</code> method restores foreign keys.</p>\n\n<p><em>Yasuo Honda</em></p>\n"
  },
  {
    "message": "*   Allow `:to_table` option to `invert_remove_foreign_key`.\n\n    Example:\n\n       remove_foreign_key :accounts, to_table: :owners\n\n    *Nikolay Epifanov*, *Rich Chen*",
    "project": "activerecord",
    "date_merged": 1534296464000,
    "author": "bogdanvlviv",
    "sha": "50ac00cb73ff189794b5004085b76c81e131df6e",
    "pr": "33617",
    "merge_sha": "e715a64732f7b2f82aa809e59cfee83f892795f1",
    "html": "<p>Allow <code>:to_table</code> option to <code>invert_remove_foreign_key</code>.</p>\n\n<p>Example:</p>\n\n<p>remove_foreign_key :accounts, to_table: :owners</p>\n\n<p><em>Nikolay Epifanov</em>, <em>Rich Chen</em></p>\n"
  },
  {
    "message": "*   Add environment & load_config dependency to `bin/rake db:seed` to enable\n    seed load in environments without Rails and custom DB configuration\n\n    *Tobias Bielohlawek*",
    "project": "activerecord",
    "date_merged": 1531339423000,
    "author": "Tobias Bielohlawek",
    "sha": "3ae999faf386361545e56eae5406ffd2820dcb2e",
    "pr": "28327",
    "merge_sha": "f16fdefe3243978aef11204b12c25b86c022ca7a",
    "html": "<p>Add environment &amp; load_config dependency to <code>bin/rake db:seed</code> to enable<br />\nseed load in environments without Rails and custom DB configuration</p>\n\n<p><em>Tobias Bielohlawek</em></p>\n"
  },
  {
    "message": "*   Fix default value for mysql time types with specified precision.\n\n    *Nikolay Kondratyev*",
    "project": "activerecord",
    "date_merged": 1531150893000,
    "author": "Ryuta Kamizono",
    "sha": "0d54a51065950a3d7f496ff5422bb78fa24de854",
    "pr": "33308",
    "merge_sha": "d4ea114bd611c608482375af94f49e2d54889202",
    "html": "<p>Fix default value for mysql time types with specified precision.</p>\n\n<p><em>Nikolay Kondratyev</em></p>\n"
  },
  {
    "message": "*   Fix `touch` option to behave consistently with `Persistence#touch` method.\n\n    *Ryuta Kamizono*",
    "project": "activerecord",
    "date_merged": 1529317463000,
    "author": "Ryuta Kamizono",
    "sha": "cad0b7d91dbc5abf4b0d7fdbcf2d0620557a3b0f",
    "pr": "33147",
    "merge_sha": "c47c289ac02cb60e8b01bb8b1892c040794b418f",
    "html": "<p>Fix <code>touch</code> option to behave consistently with <code>Persistence#touch</code> method.</p>\n\n<p><em>Ryuta Kamizono</em></p>\n"
  },
  {
    "message": "*   Migrations raise when duplicate column definition.\n\n    Fixes #33024.\n\n    *Federico Martinez*",
    "project": "activerecord",
    "date_merged": 1528145332000,
    "author": "Federico Martinez",
    "sha": "7ef9849e3d51c1f4a37af368b770d8fdb41883cd",
    "pr": "33029",
    "merge_sha": "c4c8e35cac419076a86112d7764f2afdef554483",
    "html": "<p>Migrations raise when duplicate column definition.</p>\n\n<p>Fixes #33024.</p>\n\n<p><em>Federico Martinez</em></p>\n"
  },
  {
    "message": "*   Bump minimum SQLite version to 3.8\n\n    *Yasuo Honda*",
    "project": "activerecord",
    "date_merged": 1527837221000,
    "author": "Yasuo Honda",
    "sha": "22523065c80390db919bbd7a0ba439a1a90deeb6",
    "pr": "33041",
    "merge_sha": "455ed450cc92010f0930ff1a5e2f5baf770dfdae",
    "html": "<p>Bump minimum SQLite version to 3.8</p>\n\n<p><em>Yasuo Honda</em></p>\n"
  },
  {
    "message": "*   Fix parent record should not get saved with duplicate children records.\n\n    Fixes #32940.\n\n    *Santosh Wadghule*",
    "project": "activerecord",
    "date_merged": 1527578626000,
    "author": "Ryuta Kamizono",
    "sha": "56429f1e4dd6c3fd8fcdee4a7abc1eff1ea142ee",
    "pr": "33012",
    "merge_sha": "0d7f13a622259ccafe3822d4e4eb7177107974ab",
    "html": "<p>Fix parent record should not get saved with duplicate children records.</p>\n\n<p>Fixes #32940.</p>\n\n<p><em>Santosh Wadghule</em></p>\n"
  },
  {
    "message": "*   Fix logic on disabling commit callbacks so they are not called unexpectedly when errors occur.\n\n    *Brian Durand*",
    "project": "activerecord",
    "date_merged": 1525456412000,
    "author": "Brian Durand",
    "sha": "a779b1a08bb73be2b50d42ae69b3946de98e5af4",
    "pr": "32807",
    "merge_sha": "5eaec23b89a83763b59bd017d872d35feea70af1",
    "html": "<p>Fix logic on disabling commit callbacks so they are not called unexpectedly when errors occur.</p>\n\n<p><em>Brian Durand</em></p>\n"
  },
  {
    "message": "*   Ensure `Associations::CollectionAssociation#size` and `Associations::CollectionAssociation#empty?`\n    use loaded association ids if present.\n\n    *Graham Turner*",
    "project": "activerecord",
    "date_merged": 1524834069000,
    "author": "Graham Turner",
    "sha": "b07b97057fba21cbccca9a81630173a88406175a",
    "pr": "32617",
    "merge_sha": "0a8fe15ba8fc7c36253996c557a0012f718d7d60",
    "html": "<p>Ensure <code>Associations::CollectionAssociation#size</code> and <code>Associations::CollectionAssociation#empty?</code><br />\nuse loaded association ids if present.</p>\n\n<p><em>Graham Turner</em></p>\n"
  },
  {
    "message": "*   Add support to preload associations of polymorphic associations when not all the records have the requested associations.\n\n    *Dana Sherson*",
    "project": "activerecord",
    "date_merged": 1524259730000,
    "author": "Dana Sherson",
    "sha": "75ef18c67c29b1b51314b6c8a963cee53394080b",
    "pr": "32655",
    "merge_sha": "f6e3ca515df97088315eef8905bf2bf3ec8ebbcc",
    "html": "<p>Add support to preload associations of polymorphic associations when not all the records have the requested associations.</p>\n\n<p><em>Dana Sherson</em></p>\n"
  },
  {
    "message": "*   Add `touch_all` method to `ActiveRecord::Relation`.\n\n    Example:\n\n        Person.where(name: \"David\").touch_all(time: Time.new(2020, 5, 16, 0, 0, 0))\n\n    *fatkodima*, *duggiefresh*",
    "project": "activerecord",
    "date_merged": 1524257138000,
    "author": "fatkodima",
    "sha": "73aa40034aabc385f125a905c5b59f29db03e634",
    "pr": "31513",
    "merge_sha": "7bdfc63cc245c14110e4ae092198137f01454129",
    "html": "<p>Add <code>touch_all</code> method to <code>ActiveRecord::Relation</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>Person.where(name: \"David\").touch_all(time: Time.new(2020, 5, 16, 0, 0, 0))\n</code></pre>\n\n<p><em>fatkodima</em>, <em>duggiefresh</em></p>\n"
  },
  {
    "message": "*   Add `ActiveRecord::Base.base_class?` predicate.\n\n    *Bogdan Gusiev*",
    "project": "activerecord",
    "date_merged": 1522682617000,
    "author": "Kasper Timm Hansen",
    "sha": "c82ea23b95b7329b138de6abffd6f9fec5f2fd4a",
    "pr": "32416",
    "merge_sha": "ead8a21a9ebb5feeb73373f5ca91987182550ba0",
    "html": "<p>Add <code>ActiveRecord::Base.base_class?</code> predicate.</p>\n\n<p><em>Bogdan Gusiev</em></p>\n"
  },
  {
    "message": "*   Add custom prefix/suffix options to `ActiveRecord::Store.store_accessor`.\n\n    *Tan Huynh*, *Yukio Mizuta*",
    "project": "activerecord",
    "date_merged": 1529010568000,
    "author": "Ryuta Kamizono",
    "sha": "d690af13fcdae086b08dc0043643f5a66ea8cb06",
    "pr": "33136",
    "merge_sha": "5f5dc91140dd4513f3eee06d82618eedd31bb170",
    "html": "<p>Add custom prefix/suffix options to <code>ActiveRecord::Store.store_accessor</code>.</p>\n\n<p><em>Tan Huynh</em>, <em>Yukio Mizuta</em></p>\n"
  },
  {
    "message": "*   Rails 6 requires Ruby 2.5.0 or newer.\n\n    *Jeremy Daer*, *Kasper Timm Hansen*",
    "project": "activerecord",
    "date_merged": 1545257730000,
    "author": "Kasper Timm Hansen",
    "sha": "1b7c3222e86b98ce886110ae0860ba62e35e2299",
    "pr": "34754",
    "merge_sha": "04159a7a1dd8e63e070837a461eb15c1cb02aee1",
    "html": "<p>Rails 6 requires Ruby 2.5.0 or newer.</p>\n\n<p><em>Jeremy Daer</em>, <em>Kasper Timm Hansen</em></p>\n"
  },
  {
    "message": "*   Deprecate `update_attributes`/`!` in favor of `update`/`!`.\n\n    *Eddie Lebow*",
    "project": "activerecord",
    "date_merged": 1518963393000,
    "author": "Eddie Lebow",
    "sha": "5645149d3a27054450bd1130ff5715504638a5f5",
    "pr": "32046",
    "merge_sha": "6516eb774b0d964f824f05a24d71fc3f46e70741",
    "html": "<p>Deprecate <code>update_attributes</code>/<code>!</code> in favor of <code>update</code>/<code>!</code>.</p>\n\n<p><em>Eddie Lebow</em></p>\n"
  },
  {
    "message": "*   Add `ActiveRecord::Base.create_or_find_by`/`!` to deal with the SELECT/INSERT race condition in\n    `ActiveRecord::Base.find_or_create_by`/`!` by leaning on unique constraints in the database.\n\n    *DHH*",
    "project": "activerecord",
    "date_merged": 1536322181000,
    "author": "Ryuta Kamizono",
    "sha": "736edb982856f0de04d4566f657c0c84f145e7ef",
    "pr": "33756",
    "merge_sha": "2a470d73a75ebf8cd7975e469bd82586d9234442",
    "html": "<p>Add <code>ActiveRecord::Base.create_or_find_by</code>/<code>!</code> to deal with the SELECT/INSERT race condition in<br />\n<code>ActiveRecord::Base.find_or_create_by</code>/<code>!</code> by leaning on unique constraints in the database.</p>\n\n<p><em>DHH</em></p>\n"
  },
  {
    "message": "*   Add `Relation#pick` as short-hand for single-value plucks.\n\n    *DHH*",
    "project": "activerecord",
    "date_merged": 1518980982000,
    "author": "Ryuta Kamizono",
    "sha": "5ece2e4a4459065b5efd976aebd209bbf0cab89b",
    "pr": "32045",
    "merge_sha": "86f7c269073a3a9e6ddec9b957deaa2716f2627d",
    "html": "<p>Add <code>Relation#pick</code> as short-hand for single-value plucks.</p>\n\n<p><em>DHH</em></p>\n"
  },
  {
    "message": "*   Fix and add protections for XSS in `ActionView::Helpers` and `ERB::Util`.\n\n    Escape dangerous characters in names of tags and names of attributes in the\n    tag helpers, following the XML specification. Rename the option\n    `:escape_attributes` to `:escape`, to simplify by applying the option to the\n    whole tag.\n\n    *Álvaro Martín Fraguas*",
    "project": "actionview",
    "date_merged": 1651004370000,
    "author": "Alvaro Martin Fraguas",
    "sha": "36a6dad07d572a0098c29d6d96a226638a7caa38",
    "pr": null,
    "merge_sha": "23f8485dced9be73877ae98a6554c7d34156866b",
    "html": "<p>Fix and add protections for XSS in <code>ActionView::Helpers</code> and <code>ERB::Util</code>.</p>\n\n<p>Escape dangerous characters in names of tags and names of attributes in the<br />\ntag helpers, following the XML specification. Rename the option<br />\n<code>:escape_attributes</code> to <code>:escape</code>, to simplify by applying the option to the<br />\nwhole tag.</p>\n\n<p><em>Álvaro Martín Fraguas</em></p>\n"
  },
  {
    "message": "*   SanitizeHelper.sanitized_allowed_attributes and SanitizeHelper.sanitized_allowed_tags\n    call safe_list_sanitizer's class method\n\n    Fixes #39586\n\n    *Taufiq Muhammadi*",
    "project": "actionview",
    "date_merged": 1610519060000,
    "author": "Rafael Mendonça França",
    "sha": "9698570a354791f9f9986325b4315a397cda22aa",
    "pr": "41102",
    "merge_sha": "876534d408cd47a5e9a5fba132742ee77a582af9",
    "html": "<p>SanitizeHelper.sanitized_allowed_attributes and SanitizeHelper.sanitized_allowed_tags<br />\ncall safe_list_sanitizer’s class method</p>\n\n<p>Fixes #39586</p>\n\n<p><em>Taufiq Muhammadi</em></p>\n"
  },
  {
    "message": "*   [CVE-2020-8185] Fix potential XSS vulnerability in the `translate`/`t` helper.\n\n    *Jonathan Hefner*",
    "project": "actionview",
    "date_merged": 1599679272000,
    "author": "George Claghorn",
    "sha": "070d4afacd3e9721b7e3a4634e4d026b5fa2c32c",
    "pr": null,
    "merge_sha": "b8e380936c098cbf17ccaf9ee7be690c6bcd95f6",
    "html": "<p>[CVE-2020-8185] Fix potential XSS vulnerability in the <code>translate</code>/<code>t</code> helper.</p>\n\n<p><em>Jonathan Hefner</em></p>\n"
  },
  {
    "message": "*   [CVE-2020-8167] Check that request is same-origin prior to including CSRF token in XHRs",
    "project": "actionview",
    "date_merged": 1589816988000,
    "author": "Aaron Patterson",
    "sha": "0ad524ab6e350412f7093a14f7a358e5f50b0c3f",
    "pr": null,
    "merge_sha": "9d997e1d1fcb8148fef87687325fc80373d69eb7",
    "html": "<p>[CVE-2020-8167] Check that request is same-origin prior to including CSRF token in XHRs</p>\n"
  },
  {
    "message": "*   annotated_source_code returns an empty array so TemplateErrors without a\n    template in the backtrace are surfaced properly by DebugExceptions.\n\n    *Guilherme Mansur*, *Kasper Timm Hansen*",
    "project": "actionview",
    "date_merged": 1577000823000,
    "author": "Gannon McGibbon",
    "sha": "e350c4d638c28714a48c48f5594855cce301e3dd",
    "pr": "38065",
    "merge_sha": "e2cfa05218fd8e5ca273e2b0331265fa4cf6d6c2",
    "html": "<p>annotated_source_code returns an empty array so TemplateErrors without a<br />\ntemplate in the backtrace are surfaced properly by DebugExceptions.</p>\n\n<p><em>Guilherme Mansur</em>, <em>Kasper Timm Hansen</em></p>\n"
  },
  {
    "message": "*   Add autoload for SyntaxErrorInTemplate so syntax errors are correctly raised by DebugExceptions.\n\n    *Guilherme Mansur*, *Gannon McGibbon*",
    "project": "actionview",
    "date_merged": 1577000823000,
    "author": "Gannon McGibbon",
    "sha": "c7bef8aa4a3b82d05f36a2c3ffb5c217b6f47cec",
    "pr": "38065",
    "merge_sha": "e2cfa05218fd8e5ca273e2b0331265fa4cf6d6c2",
    "html": "<p>Add autoload for SyntaxErrorInTemplate so syntax errors are correctly raised by DebugExceptions.</p>\n\n<p><em>Guilherme Mansur</em>, <em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Fix possible XSS vector in escape_javascript helper\n\n    CVE-2020-5267\n\n    *Aaron Patterson*",
    "project": "actionview",
    "date_merged": 1588788418000,
    "author": "Rafael Mendonça França",
    "sha": "639e646a9d6815f3e4367174bbee807403f73cfb",
    "pr": null,
    "merge_sha": "72d86169c740cbf4128246e55bc4d0fff41e01c9",
    "html": "<p>Fix possible XSS vector in escape_javascript helper</p>\n\n<p>CVE-2020-5267</p>\n\n<p><em>Aaron Patterson</em></p>\n"
  },
  {
    "message": "*   UJS avoids `Element.closest()` for IE 9 compatibility.\n\n    *George Claghorn*",
    "project": "actionview",
    "date_merged": 1572966447000,
    "author": "George Claghorn",
    "sha": "7982363efabc03e4624cd35aa86e2d284dcd35f7",
    "pr": null,
    "merge_sha": "f2dfc5a496f57f1f8d9f05daf7f7b18c057548f3",
    "html": "<p>UJS avoids <code>Element.closest()</code> for IE 9 compatibility.</p>\n\n<p><em>George Claghorn</em></p>\n"
  },
  {
    "message": "*   ActionView::Helpers::SanitizeHelper: support rails-html-sanitizer 1.1.0.\n\n    *Juanito Fatas*",
    "project": "actionview",
    "date_merged": 1569987140000,
    "author": "Juanito Fatas",
    "sha": "21da20493c84dfebac3800ec1f825b4a66764539",
    "pr": "37334",
    "merge_sha": "dde8025eb6af382154a63e176852a062c5e3996e",
    "html": "<p>ActionView::Helpers::SanitizeHelper: support rails-html-sanitizer 1.1.0.</p>\n\n<p><em>Juanito Fatas</em></p>\n"
  },
  {
    "message": "*   Fix `select_tag` so that it doesn't change `options` when `include_blank` is present.\n\n    *Younes SERRAJ*",
    "project": "actionview",
    "date_merged": 1559656924000,
    "author": "Eileen M. Uchitelle",
    "sha": "bad7dc5834ef2839d0efeac06a74047e6885d896",
    "pr": "36395",
    "merge_sha": "f9a0ae63013e5d67ed076df32881a5d78a5368e9",
    "html": "<p>Fix <code>select_tag</code> so that it doesn’t change <code>options</code> when <code>include_blank</code> is present.</p>\n\n<p><em>Younes SERRAJ</em></p>\n"
  },
  {
    "message": "*   Fix partial caching skips same item issue\n\n    If we render cached collection partials with repeated items, those repeated items\n    will get skipped. For example, if you have 5 identical items in your collection, Rails\n    only renders the first one when `cached` is set to true. But it should render all\n    5 items instead.\n\n    Fixes #35114.\n\n    *Stan Lo*",
    "project": "actionview",
    "date_merged": 1555936705000,
    "author": "st0012",
    "sha": "88c195bf81adda5758dfc9b86e2ac79daf9fd2e0",
    "pr": "36040",
    "merge_sha": "759c8d58c796ae670f3fc17a35766540f5740ecf",
    "html": "<p>Fix partial caching skips same item issue</p>\n\n<p>If we render cached collection partials with repeated items, those repeated items<br />\nwill get skipped. For example, if you have 5 identical items in your collection, Rails<br />\nonly renders the first one when <code>cached</code> is set to true. But it should render all<br />\n5 items instead.</p>\n\n<p>Fixes #35114.</p>\n\n<p><em>Stan Lo</em></p>\n"
  },
  {
    "message": "*   Only clear ActionView cache in development on file changes\n\n    To speed up development mode, view caches are only cleared when files in\n    the view paths have changed. Applications which have implemented custom\n    `ActionView::Resolver` subclasses may need to add their own cache clearing.\n\n    *John Hawthorn*",
    "project": "actionview",
    "date_merged": 1554172307000,
    "author": "John Hawthorn",
    "sha": "c8bf3341049b6b49df6af1d4324f24081e0b16d9",
    "pr": "35824",
    "merge_sha": "16912db8fd36927cc15f7ea5dcf1816ca6f0270c",
    "html": "<p>Only clear ActionView cache in development on file changes</p>\n\n<p>To speed up development mode, view caches are only cleared when files in<br />\nthe view paths have changed. Applications which have implemented custom<br />\n<code>ActionView::Resolver</code> subclasses may need to add their own cache clearing.</p>\n\n<p><em>John Hawthorn</em></p>\n"
  },
  {
    "message": "*   Fix `ActionView::FixtureResolver` so that it handles template variants correctly.\n\n    *Edward Rudd*",
    "project": "actionview",
    "date_merged": 1554330738000,
    "author": "Edward Rudd",
    "sha": "c5efbbbccb8fabb25d95f6c5758225f31b3879ba",
    "pr": "30666",
    "merge_sha": "4ecca4cd05b2780ba08df951c8cde437feb1ba5b",
    "html": "<p>Fix <code>ActionView::FixtureResolver</code> so that it handles template variants correctly.</p>\n\n<p><em>Edward Rudd</em></p>\n"
  },
  {
    "message": "*   `ActionView::TemplateRender.render(file: )` now renders the file directly,\n    without using any handlers, using the new `Template::RawFile` class.\n\n    *John Hawthorn*, *Cliff Pruitt*",
    "project": "actionview",
    "date_merged": 1573612661000,
    "author": "Brendan Abbott",
    "sha": "824ca844f02e39628ee1cd000b2ee9668d7b3fc3",
    "pr": "37700",
    "merge_sha": "f2c861a814576dbc3d931c7adbc63c9a291053fb",
    "html": "<p><code>ActionView::TemplateRender.render(file: )</code> now renders the file directly,<br />\nwithout using any handlers, using the new <code>Template::RawFile</code> class.</p>\n\n<p><em>John Hawthorn</em>, <em>Cliff Pruitt</em></p>\n"
  },
  {
    "message": "*   Only accept formats from registered mime types\n\n    A lack of filtering on mime types could allow an attacker to read\n    arbitrary files on the target server or to perform a denial of service\n    attack.\n\n    Fixes CVE-2019-5418\n    Fixes CVE-2019-5419\n\n    *John Hawthorn*, *Eileen M. Uchitelle*, *Aaron Patterson*",
    "project": "actionview",
    "date_merged": 1553287436000,
    "author": "John Hawthorn",
    "sha": "5c2d695993080f294c54353954254aa44c6da12c",
    "pr": "35715",
    "merge_sha": "b27885c6c2756fb98c52a75fd9c02b26d39f3cf3",
    "html": "<p>Only accept formats from registered mime types</p>\n\n<p>A lack of filtering on mime types could allow an attacker to read<br />\narbitrary files on the target server or to perform a denial of service<br />\nattack.</p>\n\n<p>Fixes CVE-2019-5418<br />\nFixes CVE-2019-5419</p>\n\n<p><em>John Hawthorn</em>, <em>Eileen M. Uchitelle</em>, <em>Aaron Patterson</em></p>\n"
  },
  {
    "message": "*   `ActionView::Template.finalize_compiled_template_methods` is deprecated with\n    no replacement.\n\n    *tenderlove*",
    "project": "actionview",
    "date_merged": 1553991085000,
    "author": "Ryuta Kamizono",
    "sha": "b89a3e7e638a50c648a17d09c48b49b707e1d90d",
    "pr": "35799",
    "merge_sha": "aae8fd0e07a9e924838845c1b29960f598fc14f3",
    "html": "<p><code>ActionView::Template.finalize_compiled_template_methods</code> is deprecated with<br />\nno replacement.</p>\n\n<p><em>tenderlove</em></p>\n"
  },
  {
    "message": "*   `config.action_view.finalize_compiled_template_methods` is deprecated with\n    no replacement.\n\n    *tenderlove*",
    "project": "actionview",
    "date_merged": 1553991085000,
    "author": "Ryuta Kamizono",
    "sha": "b89a3e7e638a50c648a17d09c48b49b707e1d90d",
    "pr": "35799",
    "merge_sha": "aae8fd0e07a9e924838845c1b29960f598fc14f3",
    "html": "<p><code>config.action_view.finalize_compiled_template_methods</code> is deprecated with<br />\nno replacement.</p>\n\n<p><em>tenderlove</em></p>\n"
  },
  {
    "message": "*   Ensure unique DOM IDs for collection inputs with float values.\n\n    Fixes #34974.\n\n    *Mark Edmondson*",
    "project": "actionview",
    "date_merged": 1549392505000,
    "author": "Mark Edmondson",
    "sha": "f8696b888e6ac2984927a074de60b2c5bad9bc59",
    "pr": "34975",
    "merge_sha": "7caea98e189c02721b2e944a074c405b033852eb",
    "html": "<p>Ensure unique DOM IDs for collection inputs with float values.</p>\n\n<p>Fixes #34974.</p>\n\n<p><em>Mark Edmondson</em></p>\n"
  },
  {
    "message": "*   Single arity template handlers are deprecated.  Template handlers must\n    now accept two parameters, the view object and the source for the view object.\n\n    *tenderlove*",
    "project": "actionview",
    "date_merged": 1573612661000,
    "author": "Brendan Abbott",
    "sha": "7bb5b66ecc1accce80d9572367f7a683890b1d62",
    "pr": "37700",
    "merge_sha": "f2c861a814576dbc3d931c7adbc63c9a291053fb",
    "html": "<p>Single arity template handlers are deprecated.  Template handlers must<br />\nnow accept two parameters, the view object and the source for the view object.</p>\n\n<p><em>tenderlove</em></p>\n"
  },
  {
    "message": "*   [Rename npm package](https://github.com/rails/rails/pull/34905) from\n    [`rails-ujs`](https://www.npmjs.com/package/rails-ujs) to\n    [`@rails/ujs`](https://www.npmjs.com/package/@rails/ujs).\n\n    *Javan Makhmali*",
    "project": "actionview",
    "date_merged": 1548695131000,
    "author": "Javan Makhmali",
    "sha": "e3d43333db2c70dac73d9b41ddd277dc8843ab32",
    "pr": "35030",
    "merge_sha": "2f9f699a2f6c6d470d2c639fe07d7850f6858c53",
    "html": "<p><a href=\"https://github.com/rails/rails/pull/34905\">Rename npm package</a> from<br />\n<a href=\"https://www.npmjs.com/package/rails-ujs\"><code>rails-ujs</code></a> to<br />\n<a href=\"https://www.npmjs.com/package/@rails/ujs\"><code>@rails/ujs</code></a>.</p>\n\n<p><em>Javan Makhmali</em></p>\n"
  },
  {
    "message": "*   Remove deprecated `image_alt` helper.\n\n    *Rafael Mendonça França*",
    "project": "actionview",
    "date_merged": 1547763177000,
    "author": "Rafael Mendonça França",
    "sha": "60c8a03c8d1e45e48fcb1055ba4c49ed3d5ff78f",
    "pr": "34954",
    "merge_sha": "e65a3a0ce585b1fbcd35872616717595d6950fca",
    "html": "<p>Remove deprecated <code>image_alt</code> helper.</p>\n\n<p><em>Rafael Mendonça França</em></p>\n"
  },
  {
    "message": "*   Fix the need of `#protect_against_forgery?` method defined in\n    `ActionView::Base` subclasses. This prevents the use of forms and buttons.\n\n    *Genadi Samokovarov*",
    "project": "actionview",
    "date_merged": 1546611516000,
    "author": "Genadi Samokovarov",
    "sha": "a58db74c4feda7b8e2a02882c030b252d6fa8611",
    "pr": "34797",
    "merge_sha": "9f0928322fe0c1209e9cfd97020129797b5e635d",
    "html": "<p>Fix the need of <code>#protect_against_forgery?</code> method defined in<br />\n<code>ActionView::Base</code> subclasses. This prevents the use of forms and buttons.</p>\n\n<p><em>Genadi Samokovarov</em></p>\n"
  },
  {
    "message": "*   Fix UJS permanently showing disabled text in a[data-remote][data-disable-with] elements within forms.\n\n    Fixes #33889.\n\n    *Wolfgang Hobmaier*",
    "project": "actionview",
    "date_merged": 1545148452000,
    "author": "WoH",
    "sha": "257a1a63739f43e59ec43580f969918fa80e290a",
    "pr": "34635",
    "merge_sha": "2f6456cbe1da73c13b37e23720caa8716df85e78",
    "html": "<p>Fix UJS permanently showing disabled text in a[data-remote][data-disable-with] elements within forms.</p>\n\n<p>Fixes #33889.</p>\n\n<p><em>Wolfgang Hobmaier</em></p>\n"
  },
  {
    "message": "*   Prevent non-primary mouse keys from triggering Rails UJS click handlers.\n    Firefox fires click events even if the click was triggered by non-primary mouse keys such as right- or scroll-wheel-clicks.\n    For example, right-clicking a link such as the one described below (with an underlying ajax request registered on click) should not cause that request to occur.\n\n    ```\n    <%= link_to 'Remote', remote_path, class: 'remote', remote: true, data: { type: :json } %>\n    ```\n\n    Fixes #34541.\n\n    *Wolfgang Hobmaier*",
    "project": "actionview",
    "date_merged": 1544043442000,
    "author": "WoH",
    "sha": "a2612622e8cabbe59794735dfb1ac55addfd5d36",
    "pr": "34573",
    "merge_sha": "b86f65a816546ff8eea39d25b62c995c7efc21dc",
    "html": "<p>Prevent non-primary mouse keys from triggering Rails UJS click handlers.<br />\nFirefox fires click events even if the click was triggered by non-primary mouse keys such as right- or scroll-wheel-clicks.<br />\nFor example, right-clicking a link such as the one described below (with an underlying ajax request registered on click) should not cause that request to occur.</p>\n\n<pre><code>&lt;%= link_to 'Remote', remote_path, class: 'remote', remote: true, data: { type: :json } %&gt;\n</code></pre>\n\n<p>Fixes #34541.</p>\n\n<p><em>Wolfgang Hobmaier</em></p>\n"
  },
  {
    "message": "*   Prevent `ActionView::TextHelper#word_wrap` from unexpectedly stripping white space from the _left_ side of lines.\n\n    For example, given input like this:\n\n    ```\n        This is a paragraph with an initial indent,\n    followed by additional lines that are not indented,\n    and finally terminated with a blockquote:\n      \"A pithy saying\"\n    ```\n\n    Calling `word_wrap` should not trim the indents on the first and last lines.\n\n    Fixes #34487.\n\n    *Lyle Mullican*",
    "project": "actionview",
    "date_merged": 1542668854000,
    "author": "Lyle Mullican",
    "sha": "4fdc6269b669a8bab7ef4af53868356f6c47f9f5",
    "pr": "34488",
    "merge_sha": "0bbe3409b52d6f7c29a29fbcb9e1acf9d3822406",
    "html": "<p>Prevent <code>ActionView::TextHelper#word_wrap</code> from unexpectedly stripping white space from the <em>left</em> side of lines.</p>\n\n<p>For example, given input like this:</p>\n\n<pre><code>    This is a paragraph with an initial indent,\nfollowed by additional lines that are not indented,\nand finally terminated with a blockquote:\n  \"A pithy saying\"\n</code></pre>\n\n<p>Calling <code>word_wrap</code> should not trim the indents on the first and last lines.</p>\n\n<p>Fixes #34487.</p>\n\n<p><em>Lyle Mullican</em></p>\n"
  },
  {
    "message": "*   Add allocations to template rendering instrumentation.\n\n    Adds the allocations for template and partial rendering to the server output on render.\n\n    ```\n      Rendered posts/_form.html.erb (Duration: 7.1ms | Allocations: 6004)\n      Rendered posts/new.html.erb within layouts/application (Duration: 8.3ms | Allocations: 6654)\n    Completed 200 OK in 858ms (Views: 848.4ms | ActiveRecord: 0.4ms | Allocations: 1539564)\n    ```\n\n    *Eileen M. Uchitelle*, *Aaron Patterson*",
    "project": "actionview",
    "date_merged": 1539178291000,
    "author": "Eileen Uchitelle",
    "sha": "e8c1be4ae7797f3ede588d2cf04a0155b4d6ce4a",
    "pr": "34136",
    "merge_sha": "8ecb75e40510dd79cef173326a67fe93b274b2b7",
    "html": "<p>Add allocations to template rendering instrumentation.</p>\n\n<p>Adds the allocations for template and partial rendering to the server output on render.</p>\n\n<pre><code>  Rendered posts/_form.html.erb (Duration: 7.1ms | Allocations: 6004)\n  Rendered posts/new.html.erb within layouts/application (Duration: 8.3ms | Allocations: 6654)\nCompleted 200 OK in 858ms (Views: 848.4ms | ActiveRecord: 0.4ms | Allocations: 1539564)\n</code></pre>\n\n<p><em>Eileen M. Uchitelle</em>, <em>Aaron Patterson</em></p>\n"
  },
  {
    "message": "*   Respect the `only_path` option passed to `url_for` when the options are passed in as an array\n\n    Fixes #33237.\n\n    *Joel Ambass*",
    "project": "actionview",
    "date_merged": 1538988759000,
    "author": "Joel Ambass",
    "sha": "b48c2ade09e9c43d6f7acee02d074a9d54323a70",
    "pr": "33324",
    "merge_sha": "d4127a014c110faa9c4611244f01f4320616a49b",
    "html": "<p>Respect the <code>only_path</code> option passed to <code>url_for</code> when the options are passed in as an array</p>\n\n<p>Fixes #33237.</p>\n\n<p><em>Joel Ambass</em></p>\n"
  },
  {
    "message": "*   Deprecate calling private model methods from view helpers.\n\n    For example, in methods like `options_from_collection_for_select`\n    and `collection_select` it is possible to call private methods from\n    the objects used.\n\n    Fixes #33546.\n\n    *Ana María Martínez Gómez*",
    "project": "actionview",
    "date_merged": 1534952054000,
    "author": "Matthew Draper",
    "sha": "047a893da7a43b8e115b854c73735b9e6475838e",
    "pr": "33691",
    "merge_sha": "24f6bf0d96b58f2b2ef6a886c93d35cf8ce4f293",
    "html": "<p>Deprecate calling private model methods from view helpers.</p>\n\n<p>For example, in methods like <code>options_from_collection_for_select</code><br />\nand <code>collection_select</code> it is possible to call private methods from<br />\nthe objects used.</p>\n\n<p>Fixes #33546.</p>\n\n<p><em>Ana María Martínez Gómez</em></p>\n"
  },
  {
    "message": "*   Fix issue with `button_to`'s `to_form_params`\n\n    `button_to` was throwing exception when invoked with `params` hash that\n    contains symbol and string keys. The reason for the exception was that\n    `to_form_params` was comparing the given symbol and string keys.\n\n    The issue is fixed by turning all keys to strings inside\n    `to_form_params` before comparing them.\n\n    *Georgi Georgiev*",
    "project": "actionview",
    "date_merged": 1531944916000,
    "author": "Georgi Georgiev",
    "sha": "113d8a2ba39da13840845bac3aa4f274a1dae19b",
    "pr": "31320",
    "merge_sha": "5df23a04a31e95beb9a5728851345a68b3bca2ac",
    "html": "<p>Fix issue with <code>button_to</code>’s <code>to_form_params</code></p>\n\n<p><code>button_to</code> was throwing exception when invoked with <code>params</code> hash that<br />\ncontains symbol and string keys. The reason for the exception was that<br />\n<code>to_form_params</code> was comparing the given symbol and string keys.</p>\n\n<p>The issue is fixed by turning all keys to strings inside<br />\n<code>to_form_params</code> before comparing them.</p>\n\n<p><em>Georgi Georgiev</em></p>\n"
  },
  {
    "message": "*   Mark arrays of translations as trusted safe by using the `_html` suffix.\n\n    Example:\n\n        en:\n          foo_html:\n            - \"One\"\n            - \"<strong>Two</strong>\"\n            - \"Three &#128075; &#128578;\"\n\n    *Juan Broullon*",
    "project": "actionview",
    "date_merged": 1530728034000,
    "author": "Ryuta Kamizono",
    "sha": "90e2739d8680878b40224d68b366917b9c582ba5",
    "pr": "33289",
    "merge_sha": "153a32b9a098295cc2db98df11fb6bbc811601e4",
    "html": "<p>Mark arrays of translations as trusted safe by using the <code>_html</code> suffix.</p>\n\n<p>Example:</p>\n\n<pre><code>en:\n  foo_html:\n    - \"One\"\n    - \"&lt;strong&gt;Two&lt;/strong&gt;\"\n    - \"Three &amp;#128075; &amp;#128578;\"\n</code></pre>\n\n<p><em>Juan Broullon</em></p>\n"
  },
  {
    "message": "*   Add `year_format` option to date_select tag. This option makes it possible to customize year\n    names. Lambda should be passed to use this option.\n\n    Example:\n\n        date_select('user_birthday', '', start_year: 1998, end_year: 2000, year_format: ->year { \"Heisei #{year - 1988}\" })\n\n    The HTML produced:\n\n        <select id=\"user_birthday__1i\" name=\"user_birthday[(1i)]\">\n        <option value=\"1998\">Heisei 10</option>\n        <option value=\"1999\">Heisei 11</option>\n        <option value=\"2000\">Heisei 12</option>\n        </select>\n        /* The rest is omitted */\n\n    *Koki Ryu*",
    "project": "actionview",
    "date_merged": 1529568095000,
    "author": "Koki Ryu",
    "sha": "8f46a23d378cd807ff6c4a3b8e35723d4ef81432",
    "pr": "32190",
    "merge_sha": "8f6c85f0364b099b7be36f430198ea9bdb648ab5",
    "html": "<p>Add <code>year_format</code> option to date_select tag. This option makes it possible to customize year<br />\nnames. Lambda should be passed to use this option.</p>\n\n<p>Example:</p>\n\n<pre><code>date_select('user_birthday', '', start_year: 1998, end_year: 2000, year_format: -&gt;year { \"Heisei #{year - 1988}\" })\n</code></pre>\n\n<p>The HTML produced:</p>\n\n<pre><code>&lt;select id=\"user_birthday__1i\" name=\"user_birthday[(1i)]\"&gt;\n&lt;option value=\"1998\"&gt;Heisei 10&lt;/option&gt;\n&lt;option value=\"1999\"&gt;Heisei 11&lt;/option&gt;\n&lt;option value=\"2000\"&gt;Heisei 12&lt;/option&gt;\n&lt;/select&gt;\n/* The rest is omitted */\n</code></pre>\n\n<p><em>Koki Ryu</em></p>\n"
  },
  {
    "message": "*   Fix JavaScript views rendering does not work with Firefox when using\n    Content Security Policy.\n\n    Fixes #32577.\n\n    *Yuji Yaginuma*",
    "project": "actionview",
    "date_merged": 1524215689000,
    "author": "yuuji.yaginuma",
    "sha": "1694b02909850c9d8f47fb644e98e1203d9f2898",
    "pr": "32642",
    "merge_sha": "ddca53e067e944faca8b0c57db2b29bb1f0df0d9",
    "html": "<p>Fix JavaScript views rendering does not work with Firefox when using<br />\nContent Security Policy.</p>\n\n<p>Fixes #32577.</p>\n\n<p><em>Yuji Yaginuma</em></p>\n"
  },
  {
    "message": "*   Add the `nonce: true` option for `javascript_include_tag` helper to\n    support automatic nonce generation for Content Security Policy.\n    Works the same way as `javascript_tag nonce: true` does.\n\n    *Yaroslav Markin*",
    "project": "actionview",
    "date_merged": 1524073767000,
    "author": "Yaroslav Markin",
    "sha": "47013a7126a92e1f2890b68e0fd2e7ba1b77c97c",
    "pr": "32607",
    "merge_sha": "185fce159721b331cc9a0ae17b662373ee0fc95f",
    "html": "<p>Add the <code>nonce: true</code> option for <code>javascript_include_tag</code> helper to<br />\nsupport automatic nonce generation for Content Security Policy.<br />\nWorks the same way as <code>javascript_tag nonce: true</code> does.</p>\n\n<p><em>Yaroslav Markin</em></p>\n"
  },
  {
    "message": "*   Remove `ActionView::Helpers::RecordTagHelper`.\n\n    *Yoshiyuki Hirano*",
    "project": "actionview",
    "date_merged": 1523090675000,
    "author": "bogdanvlviv",
    "sha": "f0bde0167c8cd76799b31f6ec1babbce8372ba7b",
    "pr": "32485",
    "merge_sha": "3b4b9b6cc575e14300e9c386fc926e003b4d9442",
    "html": "<p>Remove <code>ActionView::Helpers::RecordTagHelper</code>.</p>\n\n<p><em>Yoshiyuki Hirano</em></p>\n"
  },
  {
    "message": "*   Disable `ActionView::Template` finalizers in test environment.\n\n    Template finalization can be expensive in large view test suites.\n    Add a configuration option,\n    `action_view.finalize_compiled_template_methods`, and turn it off in\n    the test environment.\n\n    *Simon Coffey*",
    "project": "actionview",
    "date_merged": 1523090675000,
    "author": "bogdanvlviv",
    "sha": "f0bde0167c8cd76799b31f6ec1babbce8372ba7b",
    "pr": "32485",
    "merge_sha": "3b4b9b6cc575e14300e9c386fc926e003b4d9442",
    "html": "<p>Disable <code>ActionView::Template</code> finalizers in test environment.</p>\n\n<p>Template finalization can be expensive in large view test suites.<br />\nAdd a configuration option,<br />\n<code>action_view.finalize_compiled_template_methods</code>, and turn it off in<br />\nthe test environment.</p>\n\n<p><em>Simon Coffey</em></p>\n"
  },
  {
    "message": "*   Extract the `confirm` call in its own, overridable method in `rails_ujs`.\n\n    Example:\n\n        Rails.confirm = function(message, element) {\n          return (my_bootstrap_modal_confirm(message));\n        }\n\n    *Mathieu Mahé*",
    "project": "actionview",
    "date_merged": 1522684210000,
    "author": "Mathieu",
    "sha": "e9aa7ecdee0aa7bb4dcfa5046881bde2f1fe21cc",
    "pr": "32404",
    "merge_sha": "91f4e335b59a794e1f1d5c2a13b286c38aec9f85",
    "html": "<p>Extract the <code>confirm</code> call in its own, overridable method in <code>rails_ujs</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>Rails.confirm = function(message, element) {\n  return (my_bootstrap_modal_confirm(message));\n}\n</code></pre>\n\n<p><em>Mathieu Mahé</em></p>\n"
  },
  {
    "message": "*   Enable select tag helper to mark `prompt` option as `selected` and/or `disabled` for `required`\n    field.\n\n    Example:\n\n        select :post,\n               :category,\n               [\"lifestyle\", \"programming\", \"spiritual\"],\n               { selected: \"\", disabled: \"\", prompt: \"Choose one\" },\n               { required: true }\n\n    Placeholder option would be selected and disabled.\n\n    The HTML produced:\n\n        <select required=\"required\" name=\"post[category]\" id=\"post_category\">\n        <option disabled=\"disabled\" selected=\"selected\" value=\"\">Choose one</option>\n        <option value=\"lifestyle\">lifestyle</option>\n        <option value=\"programming\">programming</option>\n        <option value=\"spiritual\">spiritual</option></select>\n\n    *Sergey Prikhodko*",
    "project": "actionview",
    "date_merged": 1519789974000,
    "author": "Serj Prikhodko",
    "sha": "9afec1639d42d7d9a496775cd5239fedce27ec22",
    "pr": "32087",
    "merge_sha": "a14a6b8834fc35136aa0e52bb27fd73f75f83c0b",
    "html": "<p>Enable select tag helper to mark <code>prompt</code> option as <code>selected</code> and/or <code>disabled</code> for <code>required</code><br />\nfield.</p>\n\n<p>Example:</p>\n\n<pre><code>select :post,\n       :category,\n       [\"lifestyle\", \"programming\", \"spiritual\"],\n       { selected: \"\", disabled: \"\", prompt: \"Choose one\" },\n       { required: true }\n</code></pre>\n\n<p>Placeholder option would be selected and disabled.</p>\n\n<p>The HTML produced:</p>\n\n<pre><code>&lt;select required=\"required\" name=\"post[category]\" id=\"post_category\"&gt;\n&lt;option disabled=\"disabled\" selected=\"selected\" value=\"\"&gt;Choose one&lt;/option&gt;\n&lt;option value=\"lifestyle\"&gt;lifestyle&lt;/option&gt;\n&lt;option value=\"programming\"&gt;programming&lt;/option&gt;\n&lt;option value=\"spiritual\"&gt;spiritual&lt;/option&gt;&lt;/select&gt;\n</code></pre>\n\n<p><em>Sergey Prikhodko</em></p>\n"
  },
  {
    "message": "*   Don't enforce UTF-8 by default.\n\n    With the disabling of TLS 1.0 by most major websites, continuing to run\n    IE8 or lower becomes increasingly difficult so default to not enforcing\n    UTF-8 encoding as it's not relevant to other browsers.\n\n    *Andrew White*",
    "project": "actionview",
    "date_merged": 1520851402000,
    "author": "bogdanvlviv",
    "sha": "dd075657d0743046206348e05a5ee4d6d8b3f9fa",
    "pr": "32224",
    "merge_sha": "aacda9c6901bef01ffac6a11b073305676b3062f",
    "html": "<p>Don’t enforce UTF-8 by default.</p>\n\n<p>With the disabling of TLS 1.0 by most major websites, continuing to run<br />\nIE8 or lower becomes increasingly difficult so default to not enforcing<br />\nUTF-8 encoding as it’s not relevant to other browsers.</p>\n\n<p><em>Andrew White</em></p>\n"
  },
  {
    "message": "*   Change translation key of `submit_tag` from `module_name_class_name` to `module_name/class_name`.\n\n    *Rui Onodera*",
    "project": "actionview",
    "date_merged": 1519702232000,
    "author": "Rui Onodera",
    "sha": "e579c7430ab94d1bf31b91d3973b26ab69c8503c",
    "pr": "26799",
    "merge_sha": "f86b221a53e8363b7c8a5688df603fc388b62b7c",
    "html": "<p>Change translation key of <code>submit_tag</code> from <code>module_name_class_name</code> to <code>module_name/class_name</code>.</p>\n\n<p><em>Rui Onodera</em></p>\n"
  },
  {
    "message": "*   Rails 6 requires Ruby 2.5.0 or newer.\n\n    *Jeremy Daer*, *Kasper Timm Hansen*",
    "project": "actionview",
    "date_merged": 1545257730000,
    "author": "Kasper Timm Hansen",
    "sha": "1b7c3222e86b98ce886110ae0860ba62e35e2299",
    "pr": "34754",
    "merge_sha": "04159a7a1dd8e63e070837a461eb15c1cb02aee1",
    "html": "<p>Rails 6 requires Ruby 2.5.0 or newer.</p>\n\n<p><em>Jeremy Daer</em>, <em>Kasper Timm Hansen</em></p>\n"
  },
  {
    "message": "*   Fix ActionMailer assertions don't work for parameterized mail with legacy delivery job.\n\n    *bogdanvlviv*",
    "project": "actionmailer",
    "date_merged": 1572966447000,
    "author": "Kasper Timm Hansen",
    "sha": "7601b18a6952f51df8d3ea3771b7c32843d025d0",
    "pr": null,
    "merge_sha": "f2dfc5a496f57f1f8d9f05daf7f7b18c057548f3",
    "html": "<p>Fix ActionMailer assertions don’t work for parameterized mail with legacy delivery job.</p>\n\n<p><em>bogdanvlviv</em></p>\n"
  },
  {
    "message": "*   Deprecate `ActionMailer::Base.receive` in favor of [Action Mailbox](https://github.com/rails/rails/tree/master/actionmailbox).\n\n    *George Claghorn*",
    "project": "actionmailer",
    "date_merged": 1546016264000,
    "author": "George Claghorn",
    "sha": "e3f832a7433a291a51c5df397dc3dd654c1858cb",
    "pr": "34814",
    "merge_sha": "f046018402b1f25dcc61a1a7f3679180e8df9509",
    "html": "<p>Deprecate <code>ActionMailer::Base.receive</code> in favor of <a href=\"https://github.com/rails/rails/tree/master/actionmailbox\">Action Mailbox</a>.</p>\n\n<p><em>George Claghorn</em></p>\n"
  },
  {
    "message": "*   Add `MailDeliveryJob` for delivering both regular and parameterized mail. Deprecate using `DeliveryJob` and `Parameterized::DeliveryJob`.\n\n    *Gannon McGibbon*",
    "project": "actionmailer",
    "date_merged": 1544023020000,
    "author": "Gannon McGibbon",
    "sha": "f5050d998def98563f8fa4b381c09f563681f159",
    "pr": "34591",
    "merge_sha": "d76d8f71c500f7076e1dc5801a222c8bd18466be",
    "html": "<p>Add <code>MailDeliveryJob</code> for delivering both regular and parameterized mail. Deprecate using <code>DeliveryJob</code> and <code>Parameterized::DeliveryJob</code>.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Fix ActionMailer assertions not working when a Mail defines\n    a custom delivery job class\n\n    *Edouard Chin*",
    "project": "actionmailer",
    "date_merged": 1542842629000,
    "author": "Edouard CHIN",
    "sha": "e139a3ce1376e1b74e0996f6f0ae17e584d5acad",
    "pr": "34339",
    "merge_sha": "47ab6b36d794e68e76dcb45463c0d2a5bdba2104",
    "html": "<p>Fix ActionMailer assertions not working when a Mail defines<br />\na custom delivery job class</p>\n\n<p><em>Edouard Chin</em></p>\n"
  },
  {
    "message": "*   Mails with multipart `format` blocks with implicit render now also check for\n    a template name in options hash instead of only using the action name.\n\n    *Marcus Ilgner*",
    "project": "actionmailer",
    "date_merged": 1542673424000,
    "author": "Marcus Ilgner",
    "sha": "5c54db290f4e7cdd69b461d4c0b020a9cd364537",
    "pr": "22534",
    "merge_sha": "72062c8c9d32237d1eb7d3eb3318f65042383408",
    "html": "<p>Mails with multipart <code>format</code> blocks with implicit render now also check for<br />\na template name in options hash instead of only using the action name.</p>\n\n<p><em>Marcus Ilgner</em></p>\n"
  },
  {
    "message": "*   `ActionDispatch::IntegrationTest` includes `ActionMailer::TestHelper` module by default.\n\n    *Ricardo Díaz*",
    "project": "actionmailer",
    "date_merged": 1536847844000,
    "author": "bogdanvlviv",
    "sha": "5a212939c279e8c5a7dd49fd6766d8cb2fb220f8",
    "pr": "33869",
    "merge_sha": "f5ac08180fbe3f4d9378f34e173f4ce1f8fc1a78",
    "html": "<p><code>ActionDispatch::IntegrationTest</code> includes <code>ActionMailer::TestHelper</code> module by default.</p>\n\n<p><em>Ricardo Díaz</em></p>\n"
  },
  {
    "message": "*   Add `perform_deliveries` to a payload of `deliver.action_mailer` notification.\n\n    *Yoshiyuki Kinjo*",
    "project": "actionmailer",
    "date_merged": 1536697822000,
    "author": "Yoshiyuki Kinjo",
    "sha": "576209b45bf6d20e91562da77e454bc58bda3658",
    "pr": "33824",
    "merge_sha": "7acd2674fb6822cc3841ae2d59b93695ef18b71a",
    "html": "<p>Add <code>perform_deliveries</code> to a payload of <code>deliver.action_mailer</code> notification.</p>\n\n<p><em>Yoshiyuki Kinjo</em></p>\n"
  },
  {
    "message": "*   Change delivery logging message when `perform_deliveries` is false.\n\n    *Yoshiyuki Kinjo*",
    "project": "actionmailer",
    "date_merged": 1536697822000,
    "author": "Yoshiyuki Kinjo",
    "sha": "576209b45bf6d20e91562da77e454bc58bda3658",
    "pr": "33824",
    "merge_sha": "7acd2674fb6822cc3841ae2d59b93695ef18b71a",
    "html": "<p>Change delivery logging message when <code>perform_deliveries</code> is false.</p>\n\n<p><em>Yoshiyuki Kinjo</em></p>\n"
  },
  {
    "message": "*   Allow call `assert_enqueued_email_with` with no block.\n\n    Example:\n    ```\n    def test_email\n      ContactMailer.welcome.deliver_later\n      assert_enqueued_email_with ContactMailer, :welcome\n    end\n\n    def test_email_with_arguments\n      ContactMailer.welcome(\"Hello\", \"Goodbye\").deliver_later\n      assert_enqueued_email_with ContactMailer, :welcome, args: [\"Hello\", \"Goodbye\"]\n    end\n    ```\n\n    *bogdanvlviv*",
    "project": "actionmailer",
    "date_merged": 1530276746000,
    "author": "bogdanvlviv",
    "sha": "4382fcbc22e6d7a30a7c7514ea531209ffc347dd",
    "pr": "33258",
    "merge_sha": "1f4202611cae45ca9047d9fec73a7b631e934fa7",
    "html": "<p>Allow call <code>assert_enqueued_email_with</code> with no block.</p>\n\n<p>Example:</p>\n<pre><code>def test_email\n  ContactMailer.welcome.deliver_later\n  assert_enqueued_email_with ContactMailer, :welcome\nend\n\ndef test_email_with_arguments\n  ContactMailer.welcome(\"Hello\", \"Goodbye\").deliver_later\n  assert_enqueued_email_with ContactMailer, :welcome, args: [\"Hello\", \"Goodbye\"]\nend\n</code></pre>\n\n<p><em>bogdanvlviv</em></p>\n"
  },
  {
    "message": "*   Ensure mail gem is eager autoloaded when eager load is true to prevent thread deadlocks.\n\n    *Samuel Cochran*",
    "project": "actionmailer",
    "date_merged": 1527110102000,
    "author": "Samuel Cochran",
    "sha": "4d43b05881265ee02cb4b7ab37d7e1fa49559184",
    "pr": "32969",
    "merge_sha": "2e6e8142a2bdc0cd6153f7f4adb7421db814498c",
    "html": "<p>Ensure mail gem is eager autoloaded when eager load is true to prevent thread deadlocks.</p>\n\n<p><em>Samuel Cochran</em></p>\n"
  },
  {
    "message": "*   Perform email jobs in `assert_emails`.\n\n    *Gannon McGibbon*",
    "project": "actionmailer",
    "date_merged": 1521039394000,
    "author": "Rafael Mendonça França",
    "sha": "f36e298ca7512fd159686d9feec635cdfb9cd1fa",
    "pr": "32250",
    "merge_sha": "b3b193f7d65357970e72711d42db8070dcf92ce4",
    "html": "<p>Perform email jobs in <code>assert_emails</code>.</p>\n\n<p><em>Gannon McGibbon</em></p>\n"
  },
  {
    "message": "*   Add `Base.unregister_observer`, `Base.unregister_observers`,\n    `Base.unregister_interceptor`, `Base.unregister_interceptors`,\n    `Base.unregister_preview_interceptor` and `Base.unregister_preview_interceptors`.\n    This makes it possible to dynamically add and remove email observers and\n    interceptors at runtime in the same way they're registered.\n\n    *Claudio Ortolina*, *Kota Miyake*",
    "project": "actionmailer",
    "date_merged": 1527773590000,
    "author": "Kota Miyake",
    "sha": "b74edd37c528f2070ebea27dacdc61d785ce49a8",
    "pr": "33033",
    "merge_sha": "565ce0eaba233fcdd196c11715a8740bd571fd31",
    "html": "<p>Add <code>Base.unregister_observer</code>, <code>Base.unregister_observers</code>,<br />\n<code>Base.unregister_interceptor</code>, <code>Base.unregister_interceptors</code>,<br />\n<code>Base.unregister_preview_interceptor</code> and <code>Base.unregister_preview_interceptors</code>.<br />\nThis makes it possible to dynamically add and remove email observers and<br />\ninterceptors at runtime in the same way they’re registered.</p>\n\n<p><em>Claudio Ortolina</em>, <em>Kota Miyake</em></p>\n"
  },
  {
    "message": "*   Rails 6 requires Ruby 2.5.0 or newer.\n\n    *Jeremy Daer*, *Kasper Timm Hansen*",
    "project": "actionmailer",
    "date_merged": 1545257730000,
    "author": "Kasper Timm Hansen",
    "sha": "1b7c3222e86b98ce886110ae0860ba62e35e2299",
    "pr": "34754",
    "merge_sha": "04159a7a1dd8e63e070837a461eb15c1cb02aee1",
    "html": "<p>Rails 6 requires Ruby 2.5.0 or newer.</p>\n\n<p><em>Jeremy Daer</em>, <em>Kasper Timm Hansen</em></p>\n"
  },
  {
    "message": "*   Added image transformation validation via configurable allow-list.\n    \n    Variant now offers a configurable allow-list for\n    transformation methods in addition to a configurable deny-list for arguments.\n    \n    [CVE-2022-21831]",
    "project": "activestorage",
    "date_merged": 1646764532000,
    "author": "Aaron Patterson",
    "sha": "961ef7e86b1ec228256cb2111db0c871b13135f6",
    "pr": null,
    "merge_sha": "13e708ec845e5c5c91712ae476de8843a7cfc1fd",
    "html": "<p>Added image transformation validation via configurable allow-list.</p>\n\n<p>Variant now offers a configurable allow-list for<br />\ntransformation methods in addition to a configurable deny-list for arguments.</p>\n\n<p>[CVE-2022-21831]</p>\n"
  },
  {
    "message": "*   The Poppler PDF previewer renders a preview image using the original\n    document's crop box rather than its media box, hiding print margins. This\n    matches the behavior of the MuPDF previewer.\n\n    *Vincent Robert*",
    "project": "activestorage",
    "date_merged": 1602090142000,
    "author": "Vincent Robert",
    "sha": "33b70ca393d62d5f67462a22b7d5c9d1f7b924dd",
    "pr": null,
    "merge_sha": "f6d330c134f288209ac74380c90ee4ef3d0b364f",
    "html": "<p>The Poppler PDF previewer renders a preview image using the original<br />\ndocument’s crop box rather than its media box, hiding print margins. This<br />\nmatches the behavior of the MuPDF previewer.</p>\n\n<p><em>Vincent Robert</em></p>\n"
  },
  {
    "message": "*   Marcel is upgraded to version 1.0.0 to avoid a dependency on GPL-licensed\n    mime types data.\n\n    *George Claghorn*",
    "project": "activestorage",
    "date_merged": 1616780325000,
    "author": "George Claghorn",
    "sha": "0073c7b29339b2ee1e11aa5c9622ea452d0633fc",
    "pr": null,
    "merge_sha": "2bf5bf5061b0eb6850f6037c8828f727a6d6da10",
    "html": "<p>Marcel is upgraded to version 1.0.0 to avoid a dependency on GPL-licensed<br />\nmime types data.</p>\n\n<p><em>George Claghorn</em></p>\n"
  },
  {
    "message": "*   [CVE-2020-8162] Include Content-Length in signature for ActiveStorage direct upload",
    "project": "activestorage",
    "date_merged": 1589816988000,
    "author": "Aaron Patterson",
    "sha": "0ad524ab6e350412f7093a14f7a358e5f50b0c3f",
    "pr": null,
    "merge_sha": "9d997e1d1fcb8148fef87687325fc80373d69eb7",
    "html": "<p>[CVE-2020-8162] Include Content-Length in signature for ActiveStorage direct upload</p>\n"
  },
  {
    "message": "*   `ActiveStorage::AnalyzeJob`s are discarded on `ActiveRecord::RecordNotFound` errors.\n\n    *George Claghorn*",
    "project": "activestorage",
    "date_merged": 1572966447000,
    "author": "George Claghorn",
    "sha": "7982363efabc03e4624cd35aa86e2d284dcd35f7",
    "pr": null,
    "merge_sha": "f2dfc5a496f57f1f8d9f05daf7f7b18c057548f3",
    "html": "<p><code>ActiveStorage::AnalyzeJob</code>s are discarded on <code>ActiveRecord::RecordNotFound</code> errors.</p>\n\n<p><em>George Claghorn</em></p>\n"
  },
  {
    "message": "*   Blobs are recorded in the database before being uploaded to the service.\n    This fixes that generated blob keys could silently collide, leading to\n    data loss.\n\n    *Julik Tarkhanov*",
    "project": "activestorage",
    "date_merged": 1572966447000,
    "author": "George Claghorn",
    "sha": "7982363efabc03e4624cd35aa86e2d284dcd35f7",
    "pr": null,
    "merge_sha": "f2dfc5a496f57f1f8d9f05daf7f7b18c057548f3",
    "html": "<p>Blobs are recorded in the database before being uploaded to the service.<br />\nThis fixes that generated blob keys could silently collide, leading to<br />\ndata loss.</p>\n\n<p><em>Julik Tarkhanov</em></p>\n"
  },
  {
    "message": "*   Don't raise when analyzing an image whose type is unsupported by ImageMagick.\n\n    Fixes #36065.\n\n    *Guilherme Mansur*",
    "project": "activestorage",
    "date_merged": 1556130756000,
    "author": "Ryuta Kamizono",
    "sha": "3a4aa492560d311f8d549f739bd69945f5d508ea",
    "pr": "35869",
    "merge_sha": "186458753f3614623523ad079d92c537cf03cb4a",
    "html": "<p>Don’t raise when analyzing an image whose type is unsupported by ImageMagick.</p>\n\n<p>Fixes #36065.</p>\n\n<p><em>Guilherme Mansur</em></p>\n"
  },
  {
    "message": "*   Permit generating variants of BMP images.\n\n    *Younes Serraj*",
    "project": "activestorage",
    "date_merged": 1555877133000,
    "author": "Younes SERRAJ",
    "sha": "bcf370d689673031073ba2ac5588afe41cc315c9",
    "pr": "36051",
    "merge_sha": "142a8b97ef4619cb991666fec86db5d387443ffc",
    "html": "<p>Permit generating variants of BMP images.</p>\n\n<p><em>Younes Serraj</em></p>\n"
  },
  {
    "message": "*   [Rename npm package](https://github.com/rails/rails/pull/34905) from\n    [`activestorage`](https://www.npmjs.com/package/activestorage) to\n    [`@rails/activestorage`](https://www.npmjs.com/package/@rails/activestorage).\n\n    *Javan Makhmali*",
    "project": "activestorage",
    "date_merged": 1548695131000,
    "author": "Javan Makhmali",
    "sha": "e3d43333db2c70dac73d9b41ddd277dc8843ab32",
    "pr": "35030",
    "merge_sha": "2f9f699a2f6c6d470d2c639fe07d7850f6858c53",
    "html": "<p><a href=\"https://github.com/rails/rails/pull/34905\">Rename npm package</a> from<br />\n<a href=\"https://www.npmjs.com/package/activestorage\"><code>activestorage</code></a> to<br />\n<a href=\"https://www.npmjs.com/package/@rails/activestorage\"><code>@rails/activestorage</code></a>.</p>\n\n<p><em>Javan Makhmali</em></p>\n"
  },
  {
    "message": "*   Replace `config.active_storage.queue` with two options that indicate which\n    queues analysis and purge jobs should use, respectively:\n\n    * `config.active_storage.queues.analysis`\n    * `config.active_storage.queues.purge`\n\n    `config.active_storage.queue` is preferred over the new options when it's\n    set, but it is deprecated and will be removed in Rails 6.1.\n\n    *George Claghorn*",
    "project": "activestorage",
    "date_merged": 1546439950000,
    "author": "George Claghorn",
    "sha": "ed51351536294b5cee9923727f401c5eb4dc2af1",
    "pr": "34835",
    "merge_sha": "b3aa86ca7ed28f2e9ab858fe1689010d39426018",
    "html": "<p>Replace <code>config.active_storage.queue</code> with two options that indicate which<br />\nqueues analysis and purge jobs should use, respectively:</p>\n\n<ul>\n  <li><code>config.active_storage.queues.analysis</code></li>\n  <li><code>config.active_storage.queues.purge</code></li>\n</ul>\n\n<p><code>config.active_storage.queue</code> is preferred over the new options when it’s<br />\nset, but it is deprecated and will be removed in Rails 6.1.</p>\n\n<p><em>George Claghorn</em></p>\n"
  },
  {
    "message": "*   Permit generating variants of TIFF images.\n\n    *Luciano Sousa*",
    "project": "activestorage",
    "date_merged": 1546272721000,
    "author": "Luciano Sousa",
    "sha": "c329d323fc2cc9ba1c486932556afd8fbd9333cc",
    "pr": "34740",
    "merge_sha": "c45e3e74eda12885b37d55651540a7e6849b08d5",
    "html": "<p>Permit generating variants of TIFF images.</p>\n\n<p><em>Luciano Sousa</em></p>\n"
  },
  {
    "message": "*   Use base36 (all lowercase) for all new Blob keys to prevent\n    collisions and undefined behavior with case-insensitive filesystems and\n    database indices.\n\n    *Julik Tarkhanov*",
    "project": "activestorage",
    "date_merged": 1546272721000,
    "author": "Julik Tarkhanov",
    "sha": "e5f4162b6178489181e3d7e7163ac12b7e0efc9d",
    "pr": "34740",
    "merge_sha": "c45e3e74eda12885b37d55651540a7e6849b08d5",
    "html": "<p>Use base36 (all lowercase) for all new Blob keys to prevent<br />\ncollisions and undefined behavior with case-insensitive filesystems and<br />\ndatabase indices.</p>\n\n<p><em>Julik Tarkhanov</em></p>\n"
  },
  {
    "message": "*   It doesn’t include an `X-CSRF-Token` header if a meta tag is not found on\n    the page. It previously included one with a value of `undefined`.\n\n    *Cameron Bothner*",
    "project": "activestorage",
    "date_merged": 1545949301000,
    "author": "Cameron Bothner",
    "sha": "372dda2a2950ad3ae5cf744ed8e3caa69a7ed44b",
    "pr": "34810",
    "merge_sha": "75d0a46b6c836dc57b9f78760b1277a242010b52",
    "html": "<p>It doesn’t include an <code>X-CSRF-Token</code> header if a meta tag is not found on<br />\nthe page. It previously included one with a value of <code>undefined</code>.</p>\n\n<p><em>Cameron Bothner</em></p>\n"
  },
  {
    "message": "*   Fix `ArgumentError` when uploading to amazon s3\n\n    *Hiroki Sanpei*",
    "project": "activestorage",
    "date_merged": 1543422514000,
    "author": "Hiroki Sanpei",
    "sha": "4deb88ca2672d536b47bfc5e0477253a3a068601",
    "pr": "34550",
    "merge_sha": "aaacfd90da00e480d08c60502a1fe65181c5d75e",
    "html": "<p>Fix <code>ArgumentError</code> when uploading to amazon s3</p>\n\n<p><em>Hiroki Sanpei</em></p>\n"
  },
  {
    "message": "*   Add progressive JPG to default list of variable content types\n\n    *Maurice Kühlborn*",
    "project": "activestorage",
    "date_merged": 1543010010000,
    "author": "Maurice Kühlborn",
    "sha": "455a122ef0135bd133b51014467211bc9a0a11f4",
    "pr": "34455",
    "merge_sha": "437d20916f80eb905a1c028db4bd53304c293e61",
    "html": "<p>Add progressive JPG to default list of variable content types</p>\n\n<p><em>Maurice Kühlborn</em></p>\n"
  },
  {
    "message": "*   Add `ActiveStorage.routes_prefix` for configuring generated routes.\n\n    *Chris Bisnett*",
    "project": "activestorage",
    "date_merged": 1536947596000,
    "author": "Chris Bisnett",
    "sha": "7dd9916c0d5e5d149bdde8cbeec42ca49cf3f6ca",
    "pr": "33883",
    "merge_sha": "65bf046fd1c05405591b940e3b3cd718ca1edba1",
    "html": "<p>Add <code>ActiveStorage.routes_prefix</code> for configuring generated routes.</p>\n\n<p><em>Chris Bisnett</em></p>\n"
  },
  {
    "message": "*   `ActiveStorage::Service::AzureStorageService` only handles specifically\n    relevant types of `Azure::Core::Http::HTTPError`. It previously obscured\n    other types of `HTTPError`, which is the azure-storage gem’s catch-all\n    exception class.\n\n    *Cameron Bothner*",
    "project": "activestorage",
    "date_merged": 1535104977000,
    "author": "Cameron Bothner",
    "sha": "aae56c35290da2a6251b773b3f93845e21791823",
    "pr": "33714",
    "merge_sha": "e2d8a2ccfd3b0d2030920346a2ff0cad93fcb188",
    "html": "<p><code>ActiveStorage::Service::AzureStorageService</code> only handles specifically<br />\nrelevant types of <code>Azure::Core::Http::HTTPError</code>. It previously obscured<br />\nother types of <code>HTTPError</code>, which is the azure-storage gem’s catch-all<br />\nexception class.</p>\n\n<p><em>Cameron Bothner</em></p>\n"
  },
  {
    "message": "*   `ActiveStorage::DiskController#show` generates a 404 Not Found response when\n    the requested file is missing from the disk service. It previously raised\n    `Errno::ENOENT`.\n\n    *Cameron Bothner*",
    "project": "activestorage",
    "date_merged": 1534992970000,
    "author": "Cameron Bothner",
    "sha": "22efb2ec49087827ca1cb28a8bad9f016800c591",
    "pr": "33666",
    "merge_sha": "dc001dbd58cde8b2caab42ab1bcdd88774818c53",
    "html": "<p><code>ActiveStorage::DiskController#show</code> generates a 404 Not Found response when<br />\nthe requested file is missing from the disk service. It previously raised<br />\n<code>Errno::ENOENT</code>.</p>\n\n<p><em>Cameron Bothner</em></p>\n"
  },
  {
    "message": "*   `ActiveStorage::Blob#download` and `ActiveStorage::Blob#open` raise\n    `ActiveStorage::FileNotFoundError` when the corresponding file is missing\n    from the storage service. Services translate service-specific missing object\n    exceptions (e.g. `Google::Cloud::NotFoundError` for the GCS service and\n    `Errno::ENOENT` for the disk service) into\n    `ActiveStorage::FileNotFoundError`.\n\n    *Cameron Bothner*",
    "project": "activestorage",
    "date_merged": 1534992970000,
    "author": "Cameron Bothner",
    "sha": "5cd2d07bdcda4b2f547830d2becafe5e0722fa43",
    "pr": "33666",
    "merge_sha": "dc001dbd58cde8b2caab42ab1bcdd88774818c53",
    "html": "<p><code>ActiveStorage::Blob#download</code> and <code>ActiveStorage::Blob#open</code> raise<br />\n<code>ActiveStorage::FileNotFoundError</code> when the corresponding file is missing<br />\nfrom the storage service. Services translate service-specific missing object<br />\nexceptions (e.g. <code>Google::Cloud::NotFoundError</code> for the GCS service and<br />\n<code>Errno::ENOENT</code> for the disk service) into<br />\n<code>ActiveStorage::FileNotFoundError</code>.</p>\n\n<p><em>Cameron Bothner</em></p>\n"
  },
  {
    "message": "*   Added the `ActiveStorage::SetCurrent` concern for custom Active Storage\n    controllers that can't inherit from `ActiveStorage::BaseController`.\n\n    *George Claghorn*",
    "project": "activestorage",
    "date_merged": 1534402262000,
    "author": "George Claghorn",
    "sha": "e33c3cd8ccbecaca6c6af0438956431b02cb3fb2",
    "pr": "33629",
    "merge_sha": "265eeb25592cccb1918641290c1b0259f700d02c",
    "html": "<p>Added the <code>ActiveStorage::SetCurrent</code> concern for custom Active Storage<br />\ncontrollers that can’t inherit from <code>ActiveStorage::BaseController</code>.</p>\n\n<p><em>George Claghorn</em></p>\n"
  },
  {
    "message": "*   Active Storage error classes like `ActiveStorage::IntegrityError` and\n    `ActiveStorage::UnrepresentableError` now inherit from `ActiveStorage::Error`\n    instead of `StandardError`. This permits rescuing `ActiveStorage::Error` to\n    handle all Active Storage errors.\n\n    *Andrei Makarov*, *George Claghorn*",
    "project": "activestorage",
    "date_merged": 1533998128000,
    "author": "George Claghorn",
    "sha": "18425b837149bc0d50f8d5349e1091a623762d6b",
    "pr": "33553",
    "merge_sha": "2cb87e3b31e3152475347c667d0b8a05a93d8918",
    "html": "<p>Active Storage error classes like <code>ActiveStorage::IntegrityError</code> and<br />\n<code>ActiveStorage::UnrepresentableError</code> now inherit from <code>ActiveStorage::Error</code><br />\ninstead of <code>StandardError</code>. This permits rescuing <code>ActiveStorage::Error</code> to<br />\nhandle all Active Storage errors.</p>\n\n<p><em>Andrei Makarov</em>, <em>George Claghorn</em></p>\n"
  },
  {
    "message": "*   Uploaded files assigned to a record are persisted to storage when the record\n    is saved instead of immediately.\n\n    In Rails 5.2, the following causes an uploaded file in `params[:avatar]` to\n    be stored:\n\n    ```ruby\n    @user.avatar = params[:avatar]\n    ```\n\n    In Rails 6, the uploaded file is stored when `@user` is successfully saved.\n\n    *George Claghorn*",
    "project": "activestorage",
    "date_merged": 1531051207000,
    "author": "George Claghorn",
    "sha": "e8682c5bf051517b0b265e446aa1a7eccfd47bf7",
    "pr": "33317",
    "merge_sha": "040eb98c2be6bfb2c50b4ad85e7031f9aa97f15e",
    "html": "<p>Uploaded files assigned to a record are persisted to storage when the record<br />\nis saved instead of immediately.</p>\n\n<p>In Rails 5.2, the following causes an uploaded file in <code>params[:avatar]</code> to<br />\nbe stored:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"vi\">@user</span><span class=\"p\">.</span><span class=\"nf\">avatar</span> <span class=\"o\">=</span> <span class=\"n\">params</span><span class=\"p\">[</span><span class=\"ss\">:avatar</span><span class=\"p\">]</span>\n</code></pre></div></div>\n\n<p>In Rails 6, the uploaded file is stored when <code>@user</code> is successfully saved.</p>\n\n<p><em>George Claghorn</em></p>\n"
  },
  {
    "message": "*   Add the ability to reflect on defined attachments using the existing\n    ActiveRecord reflection mechanism.\n\n    *Kevin Deisz*",
    "project": "activestorage",
    "date_merged": 1527877446000,
    "author": "Kevin Deisz",
    "sha": "bc3b6ea461ee82a4c34877168fd498b81f12763c",
    "pr": "33018",
    "merge_sha": "c1844477a1461ffc9db3d899212f608c2a0c77c9",
    "html": "<p>Add the ability to reflect on defined attachments using the existing<br />\nActiveRecord reflection mechanism.</p>\n\n<p><em>Kevin Deisz</em></p>\n"
  },
  {
    "message": "*   Variant arguments of `false` or `nil` will no longer be passed to the\n    processor. For example, the following will not have the monochrome\n    variation applied:\n\n    ```ruby\n      avatar.variant(monochrome: false)\n    ```\n\n    *Jacob Smith*",
    "project": "activestorage",
    "date_merged": 1526917762000,
    "author": "Jacob Smith",
    "sha": "0210ac0b430757f2b5ba5e81f4391e6a37b769a4",
    "pr": "32936",
    "merge_sha": "6c574ac58993512f975ddaf1f679c5956cc576df",
    "html": "<p>Variant arguments of <code>false</code> or <code>nil</code> will no longer be passed to the<br />\nprocessor. For example, the following will not have the monochrome<br />\nvariation applied:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>  <span class=\"n\">avatar</span><span class=\"p\">.</span><span class=\"nf\">variant</span><span class=\"p\">(</span><span class=\"ss\">monochrome: </span><span class=\"kp\">false</span><span class=\"p\">)</span>\n</code></pre></div></div>\n\n<p><em>Jacob Smith</em></p>\n"
  },
  {
    "message": "*   Generated attachment getter and setter methods are created\n    within the model's `GeneratedAssociationMethods` module to\n    allow overriding and composition using `super`.\n\n    *Josh Susser*, *Jamon Douglas*",
    "project": "activestorage",
    "date_merged": 1526597602000,
    "author": "Josh Susser",
    "sha": "fd0bd1bf682622f064ac437ceee4e1b2a6b6d3b9",
    "pr": "32921",
    "merge_sha": "f018d4e118f34fd9b54ad45771ed575936678158",
    "html": "<p>Generated attachment getter and setter methods are created<br />\nwithin the model’s <code>GeneratedAssociationMethods</code> module to<br />\nallow overriding and composition using <code>super</code>.</p>\n\n<p><em>Josh Susser</em>, <em>Jamon Douglas</em></p>\n"
  },
  {
    "message": "*   Add `ActiveStorage::Blob#open`, which downloads a blob to a tempfile on disk\n    and yields the tempfile. Deprecate `ActiveStorage::Downloading`.\n\n    *David Robertson*, *George Claghorn*",
    "project": "activestorage",
    "date_merged": 1526556846000,
    "author": "George Claghorn",
    "sha": "ee21b7c2eb64def8f00887a9fafbd77b85f464f1",
    "pr": "32916",
    "merge_sha": "e77c516a13c997b9518c463c5cb5f6af9851d9e5",
    "html": "<p>Add <code>ActiveStorage::Blob#open</code>, which downloads a blob to a tempfile on disk<br />\nand yields the tempfile. Deprecate <code>ActiveStorage::Downloading</code>.</p>\n\n<p><em>David Robertson</em>, <em>George Claghorn</em></p>\n"
  },
  {
    "message": "*   Pass in `identify: false` as an argument when providing a `content_type` for\n    `ActiveStorage::Attached::{One,Many}#attach` to bypass automatic content\n    type inference. For example:\n\n    ```ruby\n      @message.image.attach(\n        io: File.open('/path/to/file'),\n        filename: 'file.pdf',\n        content_type: 'application/pdf',\n        identify: false\n      )\n    ```\n\n    *Ryan Davidson*",
    "project": "activestorage",
    "date_merged": 1525819568000,
    "author": "Ryan Davidson",
    "sha": "8e98bb7758f081622ab5c4eebf3730cce22ee627",
    "pr": "32833",
    "merge_sha": "38ea7bb74d5c3d2ae992c35b6eb731d059aa772a",
    "html": "<p>Pass in <code>identify: false</code> as an argument when providing a <code>content_type</code> for<br />\n<code>ActiveStorage::Attached::{One,Many}#attach</code> to bypass automatic content<br />\ntype inference. For example:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>  <span class=\"vi\">@message</span><span class=\"p\">.</span><span class=\"nf\">image</span><span class=\"p\">.</span><span class=\"nf\">attach</span><span class=\"p\">(</span>\n    <span class=\"ss\">io: </span><span class=\"no\">File</span><span class=\"p\">.</span><span class=\"nf\">open</span><span class=\"p\">(</span><span class=\"s1\">'/path/to/file'</span><span class=\"p\">),</span>\n    <span class=\"ss\">filename: </span><span class=\"s1\">'file.pdf'</span><span class=\"p\">,</span>\n    <span class=\"ss\">content_type: </span><span class=\"s1\">'application/pdf'</span><span class=\"p\">,</span>\n    <span class=\"ss\">identify: </span><span class=\"kp\">false</span>\n  <span class=\"p\">)</span>\n</code></pre></div></div>\n\n<p><em>Ryan Davidson</em></p>\n"
  },
  {
    "message": "*   The Google Cloud Storage service properly supports streaming downloads.\n    It now requires version 1.11 or newer of the google-cloud-storage gem.\n\n    *George Claghorn*",
    "project": "activestorage",
    "date_merged": 1525231482000,
    "author": "George Claghorn",
    "sha": "bf5f41d948b6f3f27db7fdc2b70897aec991065f",
    "pr": "32787",
    "merge_sha": "e9f434d3aab9ca457613cc08c3857879d949cbc0",
    "html": "<p>The Google Cloud Storage service properly supports streaming downloads.<br />\nIt now requires version 1.11 or newer of the google-cloud-storage gem.</p>\n\n<p><em>George Claghorn</em></p>\n"
  },
  {
    "message": "*   Use the [ImageProcessing](https://github.com/janko-m/image_processing) gem\n    for Active Storage variants, and deprecate the MiniMagick backend.\n\n    This means that variants are now automatically oriented if the original\n    image was rotated. Also, in addition to the existing ImageMagick\n    operations, variants can now use `:resize_to_fit`, `:resize_to_fill`, and\n    other ImageProcessing macros. These are now recommended over raw `:resize`,\n    as they also sharpen the thumbnail after resizing.\n\n    The ImageProcessing gem also comes with a backend implemented on\n    [libvips](http://jcupitt.github.io/libvips/), an alternative to\n    ImageMagick which has significantly better performance than\n    ImageMagick in most cases, both in terms of speed and memory usage. In\n    Active Storage it's now possible to switch to the libvips backend by\n    changing `Rails.application.config.active_storage.variant_processor` to\n    `:vips`.\n\n    *Janko Marohnić*",
    "project": "activestorage",
    "date_merged": 1524517276000,
    "author": "Janko Marohnić",
    "sha": "151167eb3d9510bfb0f1408c150b5564b44cb2e6",
    "pr": "32471",
    "merge_sha": "ef5902a2f195c2be5a4e9ad0f31003774a93aa1c",
    "html": "<p>Use the <a href=\"https://github.com/janko-m/image_processing\">ImageProcessing</a> gem<br />\nfor Active Storage variants, and deprecate the MiniMagick backend.</p>\n\n<p>This means that variants are now automatically oriented if the original<br />\nimage was rotated. Also, in addition to the existing ImageMagick<br />\noperations, variants can now use <code>:resize_to_fit</code>, <code>:resize_to_fill</code>, and<br />\nother ImageProcessing macros. These are now recommended over raw <code>:resize</code>,<br />\nas they also sharpen the thumbnail after resizing.</p>\n\n<p>The ImageProcessing gem also comes with a backend implemented on<br />\n<a href=\"http://jcupitt.github.io/libvips/\">libvips</a>, an alternative to<br />\nImageMagick which has significantly better performance than<br />\nImageMagick in most cases, both in terms of speed and memory usage. In<br />\nActive Storage it’s now possible to switch to the libvips backend by<br />\nchanging <code>Rails.application.config.active_storage.variant_processor</code> to<br />\n<code>:vips</code>.</p>\n\n<p><em>Janko Marohnić</em></p>\n"
  },
  {
    "message": "*   Rails 6 requires Ruby 2.5.0 or newer.\n\n    *Jeremy Daer*, *Kasper Timm Hansen*",
    "project": "activestorage",
    "date_merged": 1545257730000,
    "author": "Kasper Timm Hansen",
    "sha": "1b7c3222e86b98ce886110ae0860ba62e35e2299",
    "pr": "34754",
    "merge_sha": "04159a7a1dd8e63e070837a461eb15c1cb02aee1",
    "html": "<p>Rails 6 requires Ruby 2.5.0 or newer.</p>\n\n<p><em>Jeremy Daer</em>, <em>Kasper Timm Hansen</em></p>\n"
  },
  {
    "message": "*   Update Mandrill inbound email route to respond appropriately to HEAD requests for URL health checks from Mandrill.\n\n    *Bill Cromie*",
    "project": "actionmailbox",
    "date_merged": 1588788418000,
    "author": "Eugene Kenny",
    "sha": "5bf69b4bc550f42f547f70c8daffc0c126b8d1ad",
    "pr": null,
    "merge_sha": "72d86169c740cbf4128246e55bc4d0fff41e01c9",
    "html": "<p>Update Mandrill inbound email route to respond appropriately to HEAD requests for URL health checks from Mandrill.</p>\n\n<p><em>Bill Cromie</em></p>\n"
  },
  {
    "message": "*   Fix Bcc header not being included with emails from `create_inbound_email_from` test helpers.\n\n    *jduff*",
    "project": "actionmailbox",
    "date_merged": 1564296553000,
    "author": "Rafael França",
    "sha": "307794c5ba3e4dff21c1da42f98859c709fd24f0",
    "pr": "36786",
    "merge_sha": "7dae35934bf31d67880e99f82a25f16b85122f63",
    "html": "<p>Fix Bcc header not being included with emails from <code>create_inbound_email_from</code> test helpers.</p>\n\n<p><em>jduff</em></p>\n"
  },
  {
    "message": "*   Allow skipping incineration of processed emails.\n\n    This can be done by setting `config.action_mailbox.incinerate` to `false`.\n\n    *Pratik Naik*",
    "project": "actionmailbox",
    "date_merged": 1549505316000,
    "author": "Pratik",
    "sha": "d0037daa3738ac754781ce5e55778a2cf9d3d2f7",
    "pr": "35036",
    "merge_sha": "973b62dcddd2db45047d32321e6887c841fc5ccf",
    "html": "<p>Allow skipping incineration of processed emails.</p>\n\n<p>This can be done by setting <code>config.action_mailbox.incinerate</code> to <code>false</code>.</p>\n\n<p><em>Pratik Naik</em></p>\n"
  },
  {
    "message": "*   Added to Rails.\n\n    *DHH*",
    "project": "actionmailbox",
    "date_merged": 1545869918000,
    "author": "George Claghorn",
    "sha": "612bb2bd9fe0e3f8359a14c12ca8ee00a679226e",
    "pr": "34801",
    "merge_sha": "6719d37be9b3cf69fa43688e252d29fbb38244de",
    "html": "<p>Added to Rails.</p>\n\n<p><em>DHH</em></p>\n"
  }
]